function $v(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function S0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function nb(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Sd={exports:{}},wo={};var Qg;function sb(){if(Qg)return wo;Qg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:r,type:n,key:c,ref:i!==void 0?i:null,props:o}}return wo.Fragment=e,wo.jsx=t,wo.jsxs=t,wo}var Zg;function ib(){return Zg||(Zg=1,Sd.exports=sb()),Sd.exports}var f=ib(),bd={exports:{}},ht={};var e_;function lb(){if(e_)return ht;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function j(I,C,P){this.props=I,this.context=C,this.refs=S,this.updater=P||b}j.prototype.isReactComponent={},j.prototype.setState=function(I,C){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,C,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=j.prototype;function N(I,C,P){this.props=I,this.context=C,this.refs=S,this.updater=P||b}var B=N.prototype=new E;B.constructor=N,w(B,j.prototype),B.isPureReactComponent=!0;var X=Array.isArray;function Y(){}var R={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function Z(I,C,P){var U=P.ref;return{$$typeof:r,type:I,key:C,ref:U!==void 0?U:null,props:P}}function fe(I,C){return Z(I.type,C,I.props)}function ge(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function H(I){var C={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(P){return C[P]})}var Ee=/\/+/g;function Ve(I,C){return typeof I=="object"&&I!==null&&I.key!=null?H(""+I.key):C.toString(36)}function Te(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Y,Y):(I.status="pending",I.then(function(C){I.status==="pending"&&(I.status="fulfilled",I.value=C)},function(C){I.status==="pending"&&(I.status="rejected",I.reason=C)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function W(I,C,P,U,G){var ie=typeof I;(ie==="undefined"||ie==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(ie){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case r:case e:ve=!0;break;case _:return ve=I._init,W(ve(I._payload),C,P,U,G)}}if(ve)return G=G(I),ve=U===""?"."+Ve(I,0):U,X(G)?(P="",ve!=null&&(P=ve.replace(Ee,"$&/")+"/"),W(G,C,P,"",function(De){return De})):G!=null&&(ge(G)&&(G=fe(G,P+(G.key==null||I&&I.key===G.key?"":(""+G.key).replace(Ee,"$&/")+"/")+ve)),C.push(G)),1;ve=0;var Le=U===""?".":U+":";if(X(I))for(var Ce=0;Ce<I.length;Ce++)U=I[Ce],ie=Le+Ve(U,Ce),ve+=W(U,C,P,ie,G);else if(Ce=y(I),typeof Ce=="function")for(I=Ce.call(I),Ce=0;!(U=I.next()).done;)U=U.value,ie=Le+Ve(U,Ce++),ve+=W(U,C,P,ie,G);else if(ie==="object"){if(typeof I.then=="function")return W(Te(I),C,P,U,G);throw C=String(I),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ve}function xe(I,C,P){if(I==null)return I;var U=[],G=0;return W(I,U,"","",function(ie){return C.call(P,ie,G++)}),U}function Ie(I){if(I._status===-1){var C=I._result;C=C(),C.then(function(P){(I._status===0||I._status===-1)&&(I._status=1,I._result=P)},function(P){(I._status===0||I._status===-1)&&(I._status=2,I._result=P)}),I._status===-1&&(I._status=0,I._result=C)}if(I._status===1)return I._result.default;throw I._result}var ee=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},je={map:xe,forEach:function(I,C,P){xe(I,function(){C.apply(this,arguments)},P)},count:function(I){var C=0;return xe(I,function(){C++}),C},toArray:function(I){return xe(I,function(C){return C})||[]},only:function(I){if(!ge(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return ht.Activity=v,ht.Children=je,ht.Component=j,ht.Fragment=t,ht.Profiler=i,ht.PureComponent=N,ht.StrictMode=n,ht.Suspense=d,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ht.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},ht.cache=function(I){return function(){return I.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(I,C,P){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var U=w({},I.props),G=I.key;if(C!=null)for(ie in C.key!==void 0&&(G=""+C.key),C)!J.call(C,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&C.ref===void 0||(U[ie]=C[ie]);var ie=arguments.length-2;if(ie===1)U.children=P;else if(1<ie){for(var ve=Array(ie),Le=0;Le<ie;Le++)ve[Le]=arguments[Le+2];U.children=ve}return Z(I.type,G,U)},ht.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},ht.createElement=function(I,C,P){var U,G={},ie=null;if(C!=null)for(U in C.key!==void 0&&(ie=""+C.key),C)J.call(C,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(G[U]=C[U]);var ve=arguments.length-2;if(ve===1)G.children=P;else if(1<ve){for(var Le=Array(ve),Ce=0;Ce<ve;Ce++)Le[Ce]=arguments[Ce+2];G.children=Le}if(I&&I.defaultProps)for(U in ve=I.defaultProps,ve)G[U]===void 0&&(G[U]=ve[U]);return Z(I,ie,G)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(I){return{$$typeof:h,render:I}},ht.isValidElement=ge,ht.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Ie}},ht.memo=function(I,C){return{$$typeof:m,type:I,compare:C===void 0?null:C}},ht.startTransition=function(I){var C=R.T,P={};R.T=P;try{var U=I(),G=R.S;G!==null&&G(P,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Y,ee)}catch(ie){ee(ie)}finally{C!==null&&P.types!==null&&(C.types=P.types),R.T=C}},ht.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ht.use=function(I){return R.H.use(I)},ht.useActionState=function(I,C,P){return R.H.useActionState(I,C,P)},ht.useCallback=function(I,C){return R.H.useCallback(I,C)},ht.useContext=function(I){return R.H.useContext(I)},ht.useDebugValue=function(){},ht.useDeferredValue=function(I,C){return R.H.useDeferredValue(I,C)},ht.useEffect=function(I,C){return R.H.useEffect(I,C)},ht.useEffectEvent=function(I){return R.H.useEffectEvent(I)},ht.useId=function(){return R.H.useId()},ht.useImperativeHandle=function(I,C,P){return R.H.useImperativeHandle(I,C,P)},ht.useInsertionEffect=function(I,C){return R.H.useInsertionEffect(I,C)},ht.useLayoutEffect=function(I,C){return R.H.useLayoutEffect(I,C)},ht.useMemo=function(I,C){return R.H.useMemo(I,C)},ht.useOptimistic=function(I,C){return R.H.useOptimistic(I,C)},ht.useReducer=function(I,C,P){return R.H.useReducer(I,C,P)},ht.useRef=function(I){return R.H.useRef(I)},ht.useState=function(I){return R.H.useState(I)},ht.useSyncExternalStore=function(I,C,P){return R.H.useSyncExternalStore(I,C,P)},ht.useTransition=function(){return R.H.useTransition()},ht.version="19.2.0",ht}var t_;function b0(){return t_||(t_=1,bd.exports=lb()),bd.exports}var q=b0();const T0=S0(q),ob=$v({__proto__:null,default:T0},[q]);var Td={exports:{}},So={},Ed={exports:{}},Ad={};var r_;function cb(){return r_||(r_=1,(function(r){function e(W,xe){var Ie=W.length;W.push(xe);e:for(;0<Ie;){var ee=Ie-1>>>1,je=W[ee];if(0<i(je,xe))W[ee]=xe,W[Ie]=je,Ie=ee;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var xe=W[0],Ie=W.pop();if(Ie!==xe){W[0]=Ie;e:for(var ee=0,je=W.length,I=je>>>1;ee<I;){var C=2*(ee+1)-1,P=W[C],U=C+1,G=W[U];if(0>i(P,Ie))U<je&&0>i(G,P)?(W[ee]=G,W[U]=Ie,ee=U):(W[ee]=P,W[C]=Ie,ee=C);else if(U<je&&0>i(G,Ie))W[ee]=G,W[U]=Ie,ee=U;else break e}}return xe}function i(W,xe){var Ie=W.sortIndex-xe.sortIndex;return Ie!==0?Ie:W.id-xe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],m=[],_=1,v=null,x=3,y=!1,b=!1,w=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var xe=t(m);xe!==null;){if(xe.callback===null)n(m);else if(xe.startTime<=W)n(m),xe.sortIndex=xe.expirationTime,e(d,xe);else break;xe=t(m)}}function X(W){if(w=!1,B(W),!b)if(t(d)!==null)b=!0,Y||(Y=!0,H());else{var xe=t(m);xe!==null&&Te(X,xe.startTime-W)}}var Y=!1,R=-1,J=5,Z=-1;function fe(){return S?!0:!(r.unstable_now()-Z<J)}function ge(){if(S=!1,Y){var W=r.unstable_now();Z=W;var xe=!0;try{e:{b=!1,w&&(w=!1,E(R),R=-1),y=!0;var Ie=x;try{t:{for(B(W),v=t(d);v!==null&&!(v.expirationTime>W&&fe());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,x=v.priorityLevel;var je=ee(v.expirationTime<=W);if(W=r.unstable_now(),typeof je=="function"){v.callback=je,B(W),xe=!0;break t}v===t(d)&&n(d),B(W)}else n(d);v=t(d)}if(v!==null)xe=!0;else{var I=t(m);I!==null&&Te(X,I.startTime-W),xe=!1}}break e}finally{v=null,x=Ie,y=!1}xe=void 0}}finally{xe?H():Y=!1}}}var H;if(typeof N=="function")H=function(){N(ge)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ve=Ee.port2;Ee.port1.onmessage=ge,H=function(){Ve.postMessage(null)}}else H=function(){j(ge,0)};function Te(W,xe){R=j(function(){W(r.unstable_now())},xe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(W){switch(x){case 1:case 2:case 3:var xe=3;break;default:xe=x}var Ie=x;x=xe;try{return W()}finally{x=Ie}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(W,xe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Ie=x;x=W;try{return xe()}finally{x=Ie}},r.unstable_scheduleCallback=function(W,xe,Ie){var ee=r.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?ee+Ie:ee):Ie=ee,W){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Ie+je,W={id:_++,callback:xe,priorityLevel:W,startTime:Ie,expirationTime:je,sortIndex:-1},Ie>ee?(W.sortIndex=Ie,e(m,W),t(d)===null&&W===t(m)&&(w?(E(R),R=-1):w=!0,Te(X,Ie-ee))):(W.sortIndex=je,e(d,W),b||y||(b=!0,Y||(Y=!0,H()))),W},r.unstable_shouldYield=fe,r.unstable_wrapCallback=function(W){var xe=x;return function(){var Ie=x;x=xe;try{return W.apply(this,arguments)}finally{x=Ie}}}})(Ad)),Ad}var a_;function ub(){return a_||(a_=1,Ed.exports=cb()),Ed.exports}var Cd={exports:{}},Qr={};var n_;function fb(){if(n_)return Qr;n_=1;var r=b0();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:d,containerInfo:m,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qr.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,_)},Qr.flushSync=function(d){var m=c.T,_=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=m,n.p=_,n.d.f()}},Qr.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(d,m))},Qr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Qr.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?n.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:y}):_==="script"&&n.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qr.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);n.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(d)},Qr.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin);n.d.L(d,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qr.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);n.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(d)},Qr.requestFormReset=function(d){n.d.r(d)},Qr.unstable_batchedUpdates=function(d,m){return d(m)},Qr.useFormState=function(d,m,_){return c.H.useFormState(d,m,_)},Qr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qr.version="19.2.0",Qr}var s_;function qv(){if(s_)return Cd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cd.exports=fb(),Cd.exports}var i_;function hb(){if(i_)return So;i_=1;var r=ub(),e=b0(),t=qv();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(n(188))}function m(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(n(188));return s!==a?null:a}for(var l=a,u=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),a;if(g===u)return d(p),s;g=g.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=g;else{for(var T=!1,k=p.child;k;){if(k===l){T=!0,l=p,u=g;break}if(k===u){T=!0,u=p,l=g;break}k=k.sibling}if(!T){for(k=g.child;k;){if(k===l){T=!0,l=g,u=p;break}if(k===u){T=!0,u=g,l=p;break}k=k.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:s}function _(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=_(a),s!==null)return s;a=a.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=ge&&a[ge]||a["@@iterator"],typeof a=="function"?a:null)}var Ee=Symbol.for("react.client.reference");function Ve(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ee?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case X:return"Suspense";case Y:return"SuspenseList";case Z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case N:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case B:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:Ve(a.type)||"Memo";case J:s=a._payload,a=a._init;try{return Ve(a(s))}catch{}}return null}var Te=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},ee=[],je=-1;function I(a){return{current:a}}function C(a){0>je||(a.current=ee[je],ee[je]=null,je--)}function P(a,s){je++,ee[je]=a.current,a.current=s}var U=I(null),G=I(null),ie=I(null),ve=I(null);function Le(a,s){switch(P(ie,s),P(G,a),P(U,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?wg(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=wg(s),a=Sg(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}C(U),P(U,a)}function Ce(){C(U),C(G),C(ie)}function De(a){a.memoizedState!==null&&P(ve,a);var s=U.current,l=Sg(s,a.type);s!==l&&(P(G,a),P(U,l))}function gt(a){G.current===a&&(C(U),C(G)),ve.current===a&&(C(ve),_o._currentValue=Ie)}var ot,rr;function he(a){if(ot===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ot=s&&s[1]||"",rr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+a+rr}var ne=!1;function _e(a,s){if(!a||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ye){var me=ye}Reflect.construct(a,[],Ne)}else{try{Ne.call()}catch(ye){me=ye}a.call(Ne.prototype)}}else{try{throw Error()}catch(ye){me=ye}(Ne=a())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ye){if(ye&&me&&typeof ye.stack=="string")return[ye.stack,me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],k=g[1];if(T&&k){var V=T.split(`
`),oe=k.split(`
`);for(p=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;p<oe.length&&!oe[p].includes("DetermineComponentFrameRoot");)p++;if(u===V.length||p===oe.length)for(u=V.length-1,p=oe.length-1;1<=u&&0<=p&&V[u]!==oe[p];)p--;for(;1<=u&&0<=p;u--,p--)if(V[u]!==oe[p]){if(u!==1||p!==1)do if(u--,p--,0>p||V[u]!==oe[p]){var Se=`
`+V[u].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=u&&0<=p);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?he(l):""}function te(a,s){switch(a.tag){case 26:case 27:case 5:return he(a.type);case 16:return he("Lazy");case 13:return a.child!==s&&s!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return _e(a.type,!1);case 11:return _e(a.type.render,!1);case 1:return _e(a.type,!0);case 31:return he("Activity");default:return""}}function Xe(a){try{var s="",l=null;do s+=te(a,l),l=a,a=a.return;while(a);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var We=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,ze=r.unstable_cancelCallback,rt=r.unstable_shouldYield,Rt=r.unstable_requestPaint,ut=r.unstable_now,Ct=r.unstable_getCurrentPriorityLevel,Qt=r.unstable_ImmediatePriority,hr=r.unstable_UserBlockingPriority,Et=r.unstable_NormalPriority,An=r.unstable_LowPriority,Rr=r.unstable_IdlePriority,Pa=r.log,Fa=r.unstable_setDisableYieldValue,ra=null,lr=null;function mr(a){if(typeof Pa=="function"&&Fa(a),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(ra,a)}catch{}}var Nt=Math.clz32?Math.clz32:Ua,Ia=Math.log,ya=Math.LN2;function Ua(a){return a>>>=0,a===0?32:31-(Ia(a)/ya|0)|0}var Fe=256,At=262144,se=4194304;function ae(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Re(a,s,l){var u=a.pendingLanes;if(u===0)return 0;var p=0,g=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?p=ae(u):(T&=k,T!==0?p=ae(T):l||(l=k&~a,l!==0&&(p=ae(l))))):(k=u&~g,k!==0?p=ae(k):T!==0?p=ae(T):l||(l=u&~a,l!==0&&(p=ae(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function qe(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function bt(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var a=se;return se<<=1,(se&62914560)===0&&(se=4194304),a}function ar(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function pr(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Kt(a,s,l,u,p,g){var T=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var k=a.entanglements,V=a.expirationTimes,oe=a.hiddenUpdates;for(l=T&~l;0<l;){var Se=31-Nt(l),Ne=1<<Se;k[Se]=0,V[Se]=-1;var me=oe[Se];if(me!==null)for(oe[Se]=null,Se=0;Se<me.length;Se++){var ye=me[Se];ye!==null&&(ye.lane&=-536870913)}l&=~Ne}u!==0&&xi(a,u,0),g!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=g&~(T&~s))}function xi(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var u=31-Nt(s);a.entangledLanes|=s,a.entanglements[u]=a.entanglements[u]|1073741824|l&261930}function wi(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var u=31-Nt(l),p=1<<u;p&s|a[u]&s&&(a[u]|=s),l&=~p}}function lc(a,s){var l=s&-s;return l=(l&42)!==0?1:jl(l),(l&(a.suspendedLanes|s))!==0?0:l}function jl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ol(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function A(){var a=xe.p;return a!==0?a:(a=window.event,a===void 0?32:Gg(a.type))}function L(a,s){var l=xe.p;try{return xe.p=a,s()}finally{xe.p=l}}var O=Math.random().toString(36).slice(2),D="__reactFiber$"+O,M="__reactProps$"+O,F="__reactContainer$"+O,ce="__reactEvents$"+O,be="__reactListeners$"+O,ue="__reactHandles$"+O,de="__reactResources$"+O,pe="__reactMarker$"+O;function Be(a){delete a[D],delete a[M],delete a[ce],delete a[be],delete a[ue]}function Ue(a){var s=a[D];if(s)return s;for(var l=a.parentNode;l;){if(s=l[F]||l[D]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=kg(a);a!==null;){if(l=a[D])return l;a=kg(a)}return s}a=l,l=a.parentNode}return null}function Ye(a){if(a=a[D]||a[F]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Pe(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Ge(a){var s=a[de];return s||(s=a[de]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qe(a){a[pe]=!0}var Zt=new Set,er={};function or(a,s){Ha(a,s),Ha(a+"Capture",s)}function Ha(a,s){for(er[a]=s,a=0;a<s.length;a++)Zt.add(s[a])}var Ls=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},vn={};function Dl(a){return We.call(vn,a)?!0:We.call(Zn,a)?!1:Ls.test(a)?vn[a]=!0:(Zn[a]=!0,!1)}function ca(a,s,l){if(Dl(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function oc(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function Cn(a,s,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+u)}}function za(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function dm(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jw(a,s,l){var u=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,g.call(this,T)}}),Object.defineProperty(a,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function pf(a){if(!a._valueTracker){var s=dm(a)?"checked":"value";a._valueTracker=Jw(a,s,""+a[s])}}function mm(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return a&&(u=dm(a)?a.checked?"true":"false":a.value),a=u,a!==l?(s.setValue(a),!0):!1}function cc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Qw=/[\n"\\]/g;function $a(a){return a.replace(Qw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gf(a,s,l,u,p,g,T,k){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),s!=null?T==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+za(s)):a.value!==""+za(s)&&(a.value=""+za(s)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),s!=null?_f(a,T,za(s)):l!=null?_f(a,T,za(l)):u!=null&&a.removeAttribute("value"),p==null&&g!=null&&(a.defaultChecked=!!g),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+za(k):a.removeAttribute("name")}function pm(a,s,l,u,p,g,T,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){pf(a);return}l=l!=null?""+za(l):"",s=s!=null?""+za(s):l,k||s===a.value||(a.value=s),a.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=k?a.checked:!!u,a.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T),pf(a)}function _f(a,s,l){s==="number"&&cc(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Si(a,s,l,u){if(a=a.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=s.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&u&&(a[l].defaultSelected=!0)}else{for(l=""+za(l),s=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,u&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function gm(a,s,l){if(s!=null&&(s=""+za(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+za(l):""}function _m(a,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(n(92));if(Te(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=za(s),a.defaultValue=l,u=a.textContent,u===l&&u!==""&&u!==null&&(a.value=u),pf(a)}function bi(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var Zw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vm(a,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":u?a.setProperty(s,l):typeof l!="number"||l===0||Zw.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function ym(a,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&vm(a,p,u)}else for(var g in s)s.hasOwnProperty(g)&&vm(a,g,s[g])}function vf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(a){return t2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Nn(){}var yf=null;function xf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ti=null,Ei=null;function xm(a){var s=Ye(a);if(s&&(a=s.stateNode)){var l=a[M]||null;e:switch(a=s.stateNode,s.type){case"input":if(gf(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$a(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==a&&u.form===a.form){var p=u[M]||null;if(!p)throw Error(n(90));gf(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===a.form&&mm(u)}break e;case"textarea":gm(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Si(a,!!l.multiple,s,!1)}}}var wf=!1;function wm(a,s,l){if(wf)return a(s,l);wf=!0;try{var u=a(s);return u}finally{if(wf=!1,(Ti!==null||Ei!==null)&&(Jc(),Ti&&(s=Ti,a=Ei,Ei=Ti=null,xm(s),a)))for(s=0;s<a.length;s++)xm(a[s])}}function Rl(a,s){var l=a.stateNode;if(l===null)return null;var u=l[M]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=!1;if(kn)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Sf=!1}var es=null,bf=null,fc=null;function Sm(){if(fc)return fc;var a,s=bf,l=s.length,u,p="value"in es?es.value:es.textContent,g=p.length;for(a=0;a<l&&s[a]===p[a];a++);var T=l-a;for(u=1;u<=T&&s[l-u]===p[g-u];u++);return fc=p.slice(a,1<u?1-u:void 0)}function hc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function dc(){return!0}function bm(){return!1}function ua(a){function s(l,u,p,g,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(l=a[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?dc:bm,this.isPropagationStopped=bm,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),s}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=ua(Ps),Ml=v({},Ps,{view:0,detail:0}),r2=ua(Ml),Tf,Ef,Ll,pc=v({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ll&&(Ll&&a.type==="mousemove"?(Tf=a.screenX-Ll.screenX,Ef=a.screenY-Ll.screenY):Ef=Tf=0,Ll=a),Tf)},movementY:function(a){return"movementY"in a?a.movementY:Ef}}),Tm=ua(pc),a2=v({},pc,{dataTransfer:0}),n2=ua(a2),s2=v({},Ml,{relatedTarget:0}),Af=ua(s2),i2=v({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),l2=ua(i2),o2=v({},Ps,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),c2=ua(o2),u2=v({},Ps,{data:0}),Em=ua(u2),f2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m2(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=d2[a])?!!s[a]:!1}function Cf(){return m2}var p2=v({},Ml,{key:function(a){if(a.key){var s=f2[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=hc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?h2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(a){return a.type==="keypress"?hc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?hc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),g2=ua(p2),_2=v({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=ua(_2),v2=v({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),y2=ua(v2),x2=v({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),w2=ua(x2),S2=v({},pc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),b2=ua(S2),T2=v({},Ps,{newState:0,oldState:0}),E2=ua(T2),A2=[9,13,27,32],Nf=kn&&"CompositionEvent"in window,Pl=null;kn&&"documentMode"in document&&(Pl=document.documentMode);var C2=kn&&"TextEvent"in window&&!Pl,Cm=kn&&(!Nf||Pl&&8<Pl&&11>=Pl),Nm=" ",km=!1;function jm(a,s){switch(a){case"keyup":return A2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ai=!1;function N2(a,s){switch(a){case"compositionend":return Om(s);case"keypress":return s.which!==32?null:(km=!0,Nm);case"textInput":return a=s.data,a===Nm&&km?null:a;default:return null}}function k2(a,s){if(Ai)return a==="compositionend"||!Nf&&jm(a,s)?(a=Sm(),fc=bf=es=null,Ai=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cm&&s.locale!=="ko"?null:s.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!j2[a.type]:s==="textarea"}function Rm(a,s,l,u){Ti?Ei?Ei.push(u):Ei=[u]:Ti=u,s=nu(s,"onChange"),0<s.length&&(l=new mc("onChange","change",null,l,u),a.push({event:l,listeners:s}))}var Fl=null,Il=null;function O2(a){pg(a,0)}function gc(a){var s=Pe(a);if(mm(s))return a}function Bm(a,s){if(a==="change")return s}var Mm=!1;if(kn){var kf;if(kn){var jf="oninput"in document;if(!jf){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),jf=typeof Lm.oninput=="function"}kf=jf}else kf=!1;Mm=kf&&(!document.documentMode||9<document.documentMode)}function Pm(){Fl&&(Fl.detachEvent("onpropertychange",Fm),Il=Fl=null)}function Fm(a){if(a.propertyName==="value"&&gc(Il)){var s=[];Rm(s,Il,a,xf(a)),wm(O2,s)}}function D2(a,s,l){a==="focusin"?(Pm(),Fl=s,Il=l,Fl.attachEvent("onpropertychange",Fm)):a==="focusout"&&Pm()}function R2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gc(Il)}function B2(a,s){if(a==="click")return gc(s)}function M2(a,s){if(a==="input"||a==="change")return gc(s)}function L2(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var xa=typeof Object.is=="function"?Object.is:L2;function Ul(a,s){if(xa(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!We.call(s,p)||!xa(a[p],s[p]))return!1}return!0}function Im(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Um(a,s){var l=Im(a);a=0;for(var u;l;){if(l.nodeType===3){if(u=a+l.textContent.length,a<=s&&u>=s)return{node:l,offset:s-a};a=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Im(l)}}function Hm(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Hm(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function zm(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=cc(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=cc(a.document)}return s}function Of(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var P2=kn&&"documentMode"in document&&11>=document.documentMode,Ci=null,Df=null,Hl=null,Rf=!1;function $m(a,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rf||Ci==null||Ci!==cc(u)||(u=Ci,"selectionStart"in u&&Of(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Ul(Hl,u)||(Hl=u,u=nu(Df,"onSelect"),0<u.length&&(s=new mc("onSelect","select",null,s,l),a.push({event:s,listeners:u}),s.target=Ci)))}function Fs(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Ni={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Bf={},qm={};kn&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Is(a){if(Bf[a])return Bf[a];if(!Ni[a])return a;var s=Ni[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in qm)return Bf[a]=s[l];return a}var Gm=Is("animationend"),Vm=Is("animationiteration"),Wm=Is("animationstart"),F2=Is("transitionrun"),I2=Is("transitionstart"),U2=Is("transitioncancel"),Ym=Is("transitionend"),Xm=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function an(a,s){Xm.set(a,s),or(s,[a])}var _c=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},qa=[],ki=0,Lf=0;function vc(){for(var a=ki,s=Lf=ki=0;s<a;){var l=qa[s];qa[s++]=null;var u=qa[s];qa[s++]=null;var p=qa[s];qa[s++]=null;var g=qa[s];if(qa[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}g!==0&&Km(l,p,g)}}function yc(a,s,l,u){qa[ki++]=a,qa[ki++]=s,qa[ki++]=l,qa[ki++]=u,Lf|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function Pf(a,s,l,u){return yc(a,s,l,u),xc(a)}function Us(a,s){return yc(a,null,null,s),xc(a)}function Km(a,s,l){a.lanes|=l;var u=a.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=a.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(p=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,p&&s!==null&&(p=31-Nt(l),a=g.hiddenUpdates,u=a[p],u===null?a[p]=[s]:u.push(s),s.lane=l|536870912),g):null}function xc(a){if(50<co)throw co=0,Vh=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ji={};function H2(a,s,l,u){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wa(a,s,l,u){return new H2(a,s,l,u)}function Ff(a){return a=a.prototype,!(!a||!a.isReactComponent)}function jn(a,s){var l=a.alternate;return l===null?(l=wa(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Jm(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function wc(a,s,l,u,p,g){var T=0;if(u=a,typeof a=="function")Ff(a)&&(T=1);else if(typeof a=="string")T=VS(a,l,U.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Z:return a=wa(31,l,s,p),a.elementType=Z,a.lanes=g,a;case w:return Hs(l.children,p,g,s);case S:T=8,p|=24;break;case j:return a=wa(12,l,s,p|2),a.elementType=j,a.lanes=g,a;case X:return a=wa(13,l,s,p),a.elementType=X,a.lanes=g,a;case Y:return a=wa(19,l,s,p),a.elementType=Y,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:T=10;break e;case E:T=9;break e;case B:T=11;break e;case R:T=14;break e;case J:T=16,u=null;break e}T=29,l=Error(n(130,a===null?"null":typeof a,"")),u=null}return s=wa(T,l,s,p),s.elementType=a,s.type=u,s.lanes=g,s}function Hs(a,s,l,u){return a=wa(7,a,u,s),a.lanes=l,a}function If(a,s,l){return a=wa(6,a,null,s),a.lanes=l,a}function Qm(a){var s=wa(18,null,null,0);return s.stateNode=a,s}function Uf(a,s,l){return s=wa(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Zm=new WeakMap;function Ga(a,s){if(typeof a=="object"&&a!==null){var l=Zm.get(a);return l!==void 0?l:(s={value:a,source:s,stack:Xe(s)},Zm.set(a,s),s)}return{value:a,source:s,stack:Xe(s)}}var Oi=[],Di=0,Sc=null,zl=0,Va=[],Wa=0,ts=null,yn=1,xn="";function On(a,s){Oi[Di++]=zl,Oi[Di++]=Sc,Sc=a,zl=s}function e1(a,s,l){Va[Wa++]=yn,Va[Wa++]=xn,Va[Wa++]=ts,ts=a;var u=yn;a=xn;var p=32-Nt(u)-1;u&=~(1<<p),l+=1;var g=32-Nt(s)+p;if(30<g){var T=p-p%5;g=(u&(1<<T)-1).toString(32),u>>=T,p-=T,yn=1<<32-Nt(s)+p|l<<p|u,xn=g+a}else yn=1<<g|l<<p|u,xn=a}function Hf(a){a.return!==null&&(On(a,1),e1(a,1,0))}function zf(a){for(;a===Sc;)Sc=Oi[--Di],Oi[Di]=null,zl=Oi[--Di],Oi[Di]=null;for(;a===ts;)ts=Va[--Wa],Va[Wa]=null,xn=Va[--Wa],Va[Wa]=null,yn=Va[--Wa],Va[Wa]=null}function t1(a,s){Va[Wa++]=yn,Va[Wa++]=xn,Va[Wa++]=ts,yn=s.id,xn=s.overflow,ts=a}var Hr=null,nr=null,Tt=!1,rs=null,Ya=!1,$f=Error(n(519));function as(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Ga(s,a)),$f}function r1(a){var s=a.stateNode,l=a.type,u=a.memoizedProps;switch(s[D]=a,s[M]=u,l){case"dialog":xt("cancel",s),xt("close",s);break;case"iframe":case"object":case"embed":xt("load",s);break;case"video":case"audio":for(l=0;l<fo.length;l++)xt(fo[l],s);break;case"source":xt("error",s);break;case"img":case"image":case"link":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"input":xt("invalid",s),pm(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":xt("invalid",s);break;case"textarea":xt("invalid",s),_m(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||yg(s.textContent,l)?(u.popover!=null&&(xt("beforetoggle",s),xt("toggle",s)),u.onScroll!=null&&xt("scroll",s),u.onScrollEnd!=null&&xt("scrollend",s),u.onClick!=null&&(s.onclick=Nn),s=!0):s=!1,s||as(a,!0)}function a1(a){for(Hr=a.return;Hr;)switch(Hr.tag){case 5:case 31:case 13:Ya=!1;return;case 27:case 3:Ya=!0;return;default:Hr=Hr.return}}function Ri(a){if(a!==Hr)return!1;if(!Tt)return a1(a),Tt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||ld(a.type,a.memoizedProps)),l=!l),l&&nr&&as(a),a1(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));nr=Ng(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));nr=Ng(a)}else s===27?(s=nr,_s(a.type)?(a=hd,hd=null,nr=a):nr=s):nr=Hr?Ka(a.stateNode.nextSibling):null;return!0}function zs(){nr=Hr=null,Tt=!1}function qf(){var a=rs;return a!==null&&(ma===null?ma=a:ma.push.apply(ma,a),rs=null),a}function $l(a){rs===null?rs=[a]:rs.push(a)}var Gf=I(null),$s=null,Dn=null;function ns(a,s,l){P(Gf,s._currentValue),s._currentValue=l}function Rn(a){a._currentValue=Gf.current,C(Gf)}function Vf(a,s,l){for(;a!==null;){var u=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),a===l)break;a=a.return}}function Wf(a,s,l,u){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var V=0;V<s.length;V++)if(k.context===s[V]){g.lanes|=l,k=g.alternate,k!==null&&(k.lanes|=l),Vf(g.return,l,a),u||(T=null);break e}g=k.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(n(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),Vf(T,l,a),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===a){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Bi(a,s,l,u){a=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var k=p.type;xa(p.pendingProps.value,T.value)||(a!==null?a.push(k):a=[k])}}else if(p===ve.current){if(T=p.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(_o):a=[_o])}p=p.return}a!==null&&Wf(s,a,l,u),s.flags|=262144}function bc(a){for(a=a.firstContext;a!==null;){if(!xa(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function qs(a){$s=a,Dn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function zr(a){return n1($s,a)}function Tc(a,s){return $s===null&&qs(a),n1(a,s)}function n1(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Dn===null){if(a===null)throw Error(n(308));Dn=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Dn=Dn.next=s;return l}var z2=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,u){a.push(u)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},$2=r.unstable_scheduleCallback,q2=r.unstable_NormalPriority,Tr={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new z2,data:new Map,refCount:0}}function ql(a){a.refCount--,a.refCount===0&&$2(q2,function(){a.controller.abort()})}var Gl=null,Xf=0,Mi=0,Li=null;function G2(a,s){if(Gl===null){var l=Gl=[];Xf=0,Mi=Qh(),Li={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Xf++,s.then(s1,s1),s}function s1(){if(--Xf===0&&Gl!==null){Li!==null&&(Li.status="fulfilled");var a=Gl;Gl=null,Mi=0,Li=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function V2(a,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var i1=W.S;W.S=function(a,s){$p=ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&G2(a,s),i1!==null&&i1(a,s)};var Gs=I(null);function Kf(){var a=Gs.current;return a!==null?a:Jt.pooledCache}function Ec(a,s){s===null?P(Gs,Gs.current):P(Gs,s.pool)}function l1(){var a=Kf();return a===null?null:{parent:Tr._currentValue,pool:a}}var Pi=Error(n(460)),Jf=Error(n(474)),Ac=Error(n(542)),Cc={then:function(){}};function o1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function c1(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(Nn,Nn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,f1(a),a;default:if(typeof s.status=="string")s.then(Nn,Nn);else{if(a=Jt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,f1(a),a}throw Ws=s,Pi}}function Vs(a){try{var s=a._init;return s(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ws=l,Pi):l}}var Ws=null;function u1(){if(Ws===null)throw Error(n(459));var a=Ws;return Ws=null,a}function f1(a){if(a===Pi||a===Ac)throw Error(n(483))}var Fi=null,Vl=0;function Nc(a){var s=Vl;return Vl+=1,Fi===null&&(Fi=[]),c1(Fi,a,s)}function Wl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function kc(a,s){throw s.$$typeof===x?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function h1(a){function s(re,K){if(a){var le=re.deletions;le===null?(re.deletions=[K],re.flags|=16):le.push(K)}}function l(re,K){if(!a)return null;for(;K!==null;)s(re,K),K=K.sibling;return null}function u(re){for(var K=new Map;re!==null;)re.key!==null?K.set(re.key,re):K.set(re.index,re),re=re.sibling;return K}function p(re,K){return re=jn(re,K),re.index=0,re.sibling=null,re}function g(re,K,le){return re.index=le,a?(le=re.alternate,le!==null?(le=le.index,le<K?(re.flags|=67108866,K):le):(re.flags|=67108866,K)):(re.flags|=1048576,K)}function T(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function k(re,K,le,Ae){return K===null||K.tag!==6?(K=If(le,re.mode,Ae),K.return=re,K):(K=p(K,le),K.return=re,K)}function V(re,K,le,Ae){var nt=le.type;return nt===w?Se(re,K,le.props.children,Ae,le.key):K!==null&&(K.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===J&&Vs(nt)===K.type)?(K=p(K,le.props),Wl(K,le),K.return=re,K):(K=wc(le.type,le.key,le.props,null,re.mode,Ae),Wl(K,le),K.return=re,K)}function oe(re,K,le,Ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Uf(le,re.mode,Ae),K.return=re,K):(K=p(K,le.children||[]),K.return=re,K)}function Se(re,K,le,Ae,nt){return K===null||K.tag!==7?(K=Hs(le,re.mode,Ae,nt),K.return=re,K):(K=p(K,le),K.return=re,K)}function Ne(re,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=If(""+K,re.mode,le),K.return=re,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return le=wc(K.type,K.key,K.props,null,re.mode,le),Wl(le,K),le.return=re,le;case b:return K=Uf(K,re.mode,le),K.return=re,K;case J:return K=Vs(K),Ne(re,K,le)}if(Te(K)||H(K))return K=Hs(K,re.mode,le,null),K.return=re,K;if(typeof K.then=="function")return Ne(re,Nc(K),le);if(K.$$typeof===N)return Ne(re,Tc(re,K),le);kc(re,K)}return null}function me(re,K,le,Ae){var nt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return nt!==null?null:k(re,K,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return le.key===nt?V(re,K,le,Ae):null;case b:return le.key===nt?oe(re,K,le,Ae):null;case J:return le=Vs(le),me(re,K,le,Ae)}if(Te(le)||H(le))return nt!==null?null:Se(re,K,le,Ae,null);if(typeof le.then=="function")return me(re,K,Nc(le),Ae);if(le.$$typeof===N)return me(re,K,Tc(re,le),Ae);kc(re,le)}return null}function ye(re,K,le,Ae,nt){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return re=re.get(le)||null,k(K,re,""+Ae,nt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case y:return re=re.get(Ae.key===null?le:Ae.key)||null,V(K,re,Ae,nt);case b:return re=re.get(Ae.key===null?le:Ae.key)||null,oe(K,re,Ae,nt);case J:return Ae=Vs(Ae),ye(re,K,le,Ae,nt)}if(Te(Ae)||H(Ae))return re=re.get(le)||null,Se(K,re,Ae,nt,null);if(typeof Ae.then=="function")return ye(re,K,le,Nc(Ae),nt);if(Ae.$$typeof===N)return ye(re,K,le,Tc(K,Ae),nt);kc(K,Ae)}return null}function Je(re,K,le,Ae){for(var nt=null,kt=null,et=K,mt=K=0,St=null;et!==null&&mt<le.length;mt++){et.index>mt?(St=et,et=null):St=et.sibling;var jt=me(re,et,le[mt],Ae);if(jt===null){et===null&&(et=St);break}a&&et&&jt.alternate===null&&s(re,et),K=g(jt,K,mt),kt===null?nt=jt:kt.sibling=jt,kt=jt,et=St}if(mt===le.length)return l(re,et),Tt&&On(re,mt),nt;if(et===null){for(;mt<le.length;mt++)et=Ne(re,le[mt],Ae),et!==null&&(K=g(et,K,mt),kt===null?nt=et:kt.sibling=et,kt=et);return Tt&&On(re,mt),nt}for(et=u(et);mt<le.length;mt++)St=ye(et,re,mt,le[mt],Ae),St!==null&&(a&&St.alternate!==null&&et.delete(St.key===null?mt:St.key),K=g(St,K,mt),kt===null?nt=St:kt.sibling=St,kt=St);return a&&et.forEach(function(Ss){return s(re,Ss)}),Tt&&On(re,mt),nt}function it(re,K,le,Ae){if(le==null)throw Error(n(151));for(var nt=null,kt=null,et=K,mt=K=0,St=null,jt=le.next();et!==null&&!jt.done;mt++,jt=le.next()){et.index>mt?(St=et,et=null):St=et.sibling;var Ss=me(re,et,jt.value,Ae);if(Ss===null){et===null&&(et=St);break}a&&et&&Ss.alternate===null&&s(re,et),K=g(Ss,K,mt),kt===null?nt=Ss:kt.sibling=Ss,kt=Ss,et=St}if(jt.done)return l(re,et),Tt&&On(re,mt),nt;if(et===null){for(;!jt.done;mt++,jt=le.next())jt=Ne(re,jt.value,Ae),jt!==null&&(K=g(jt,K,mt),kt===null?nt=jt:kt.sibling=jt,kt=jt);return Tt&&On(re,mt),nt}for(et=u(et);!jt.done;mt++,jt=le.next())jt=ye(et,re,mt,jt.value,Ae),jt!==null&&(a&&jt.alternate!==null&&et.delete(jt.key===null?mt:jt.key),K=g(jt,K,mt),kt===null?nt=jt:kt.sibling=jt,kt=jt);return a&&et.forEach(function(ab){return s(re,ab)}),Tt&&On(re,mt),nt}function Yt(re,K,le,Ae){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case y:e:{for(var nt=le.key;K!==null;){if(K.key===nt){if(nt=le.type,nt===w){if(K.tag===7){l(re,K.sibling),Ae=p(K,le.props.children),Ae.return=re,re=Ae;break e}}else if(K.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===J&&Vs(nt)===K.type){l(re,K.sibling),Ae=p(K,le.props),Wl(Ae,le),Ae.return=re,re=Ae;break e}l(re,K);break}else s(re,K);K=K.sibling}le.type===w?(Ae=Hs(le.props.children,re.mode,Ae,le.key),Ae.return=re,re=Ae):(Ae=wc(le.type,le.key,le.props,null,re.mode,Ae),Wl(Ae,le),Ae.return=re,re=Ae)}return T(re);case b:e:{for(nt=le.key;K!==null;){if(K.key===nt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){l(re,K.sibling),Ae=p(K,le.children||[]),Ae.return=re,re=Ae;break e}else{l(re,K);break}else s(re,K);K=K.sibling}Ae=Uf(le,re.mode,Ae),Ae.return=re,re=Ae}return T(re);case J:return le=Vs(le),Yt(re,K,le,Ae)}if(Te(le))return Je(re,K,le,Ae);if(H(le)){if(nt=H(le),typeof nt!="function")throw Error(n(150));return le=nt.call(le),it(re,K,le,Ae)}if(typeof le.then=="function")return Yt(re,K,Nc(le),Ae);if(le.$$typeof===N)return Yt(re,K,Tc(re,le),Ae);kc(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(l(re,K.sibling),Ae=p(K,le),Ae.return=re,re=Ae):(l(re,K),Ae=If(le,re.mode,Ae),Ae.return=re,re=Ae),T(re)):l(re,K)}return function(re,K,le,Ae){try{Vl=0;var nt=Yt(re,K,le,Ae);return Fi=null,nt}catch(et){if(et===Pi||et===Ac)throw et;var kt=wa(29,et,null,re.mode);return kt.lanes=Ae,kt.return=re,kt}finally{}}}var Ys=h1(!0),d1=h1(!1),ss=!1;function Qf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function is(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ls(a,s,l){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(Bt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=xc(a),Km(a,null,l),s}return yc(a,u,s,l),xc(a)}function Yl(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=a.pendingLanes,l|=u,s.lanes=l,wi(a,l)}}function eh(a,s){var l=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var th=!1;function Xl(){if(th){var a=Li;if(a!==null)throw a}}function Kl(a,s,l,u){th=!1;var p=a.updateQueue;ss=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var V=k,oe=V.next;V.next=null,T===null?g=oe:T.next=oe,T=V;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,k=Se.lastBaseUpdate,k!==T&&(k===null?Se.firstBaseUpdate=oe:k.next=oe,Se.lastBaseUpdate=V))}if(g!==null){var Ne=p.baseState;T=0,Se=oe=V=null,k=g;do{var me=k.lane&-536870913,ye=me!==k.lane;if(ye?(wt&me)===me:(u&me)===me){me!==0&&me===Mi&&(th=!0),Se!==null&&(Se=Se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Je=a,it=k;me=s;var Yt=l;switch(it.tag){case 1:if(Je=it.payload,typeof Je=="function"){Ne=Je.call(Yt,Ne,me);break e}Ne=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=it.payload,me=typeof Je=="function"?Je.call(Yt,Ne,me):Je,me==null)break e;Ne=v({},Ne,me);break e;case 2:ss=!0}}me=k.callback,me!==null&&(a.flags|=64,ye&&(a.flags|=8192),ye=p.callbacks,ye===null?p.callbacks=[me]:ye.push(me))}else ye={lane:me,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Se===null?(oe=Se=ye,V=Ne):Se=Se.next=ye,T|=me;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;ye=k,k=ye.next,ye.next=null,p.lastBaseUpdate=ye,p.shared.pending=null}}while(!0);Se===null&&(V=Ne),p.baseState=V,p.firstBaseUpdate=oe,p.lastBaseUpdate=Se,g===null&&(p.shared.lanes=0),hs|=T,a.lanes=T,a.memoizedState=Ne}}function m1(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function p1(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)m1(l[a],s)}var Ii=I(null),jc=I(0);function g1(a,s){a=zn,P(jc,a),P(Ii,s),zn=a|s.baseLanes}function rh(){P(jc,zn),P(Ii,Ii.current)}function ah(){zn=jc.current,C(Ii),C(jc)}var Sa=I(null),Xa=null;function os(a){var s=a.alternate;P(wr,wr.current&1),P(Sa,a),Xa===null&&(s===null||Ii.current!==null||s.memoizedState!==null)&&(Xa=a)}function nh(a){P(wr,wr.current),P(Sa,a),Xa===null&&(Xa=a)}function _1(a){a.tag===22?(P(wr,wr.current),P(Sa,a),Xa===null&&(Xa=a)):cs()}function cs(){P(wr,wr.current),P(Sa,Sa.current)}function ba(a){C(Sa),Xa===a&&(Xa=null),C(wr)}var wr=I(0);function Oc(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ud(l)||fd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bn=0,dt=null,Vt=null,Er=null,Dc=!1,Ui=!1,Xs=!1,Rc=0,Jl=0,Hi=null,W2=0;function gr(){throw Error(n(321))}function sh(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!xa(a[l],s[l]))return!1;return!0}function ih(a,s,l,u,p,g){return Bn=g,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=a===null||a.memoizedState===null?ep:wh,Xs=!1,g=l(u,p),Xs=!1,Ui&&(g=y1(s,l,u,p)),v1(a),g}function v1(a){W.H=eo;var s=Vt!==null&&Vt.next!==null;if(Bn=0,Er=Vt=dt=null,Dc=!1,Jl=0,Hi=null,s)throw Error(n(300));a===null||Ar||(a=a.dependencies,a!==null&&bc(a)&&(Ar=!0))}function y1(a,s,l,u){dt=a;var p=0;do{if(Ui&&(Hi=null),Jl=0,Ui=!1,25<=p)throw Error(n(301));if(p+=1,Er=Vt=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=tp,g=s(l,u)}while(Ui);return g}function Y2(){var a=W.H,s=a.useState()[0];return s=typeof s.then=="function"?Ql(s):s,a=a.useState()[0],(Vt!==null?Vt.memoizedState:null)!==a&&(dt.flags|=1024),s}function lh(){var a=Rc!==0;return Rc=0,a}function oh(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function ch(a){if(Dc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Dc=!1}Bn=0,Er=Vt=dt=null,Ui=!1,Jl=Rc=0,Hi=null}function aa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?dt.memoizedState=Er=a:Er=Er.next=a,Er}function Sr(){if(Vt===null){var a=dt.alternate;a=a!==null?a.memoizedState:null}else a=Vt.next;var s=Er===null?dt.memoizedState:Er.next;if(s!==null)Er=s,Vt=a;else{if(a===null)throw dt.alternate===null?Error(n(467)):Error(n(310));Vt=a,a={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Er===null?dt.memoizedState=Er=a:Er=Er.next=a}return Er}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(a){var s=Jl;return Jl+=1,Hi===null&&(Hi=[]),a=c1(Hi,a,s),s=dt,(Er===null?s.memoizedState:Er.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?ep:wh),a}function Mc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ql(a);if(a.$$typeof===N)return zr(a)}throw Error(n(438,String(a)))}function uh(a){var s=null,l=dt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Bc(),dt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),u=0;u<a;u++)l[u]=fe;return s.index++,l}function Mn(a,s){return typeof s=="function"?s(a):s}function Lc(a){var s=Sr();return fh(s,Vt,a)}function fh(a,s,l){var u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var p=a.baseQueue,g=u.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,u.pending=null}if(g=a.baseState,p===null)a.memoizedState=g;else{s=p.next;var k=T=null,V=null,oe=s,Se=!1;do{var Ne=oe.lane&-536870913;if(Ne!==oe.lane?(wt&Ne)===Ne:(Bn&Ne)===Ne){var me=oe.revertLane;if(me===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ne===Mi&&(Se=!0);else if((Bn&me)===me){oe=oe.next,me===Mi&&(Se=!0);continue}else Ne={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(k=V=Ne,T=g):V=V.next=Ne,dt.lanes|=me,hs|=me;Ne=oe.action,Xs&&l(g,Ne),g=oe.hasEagerState?oe.eagerState:l(g,Ne)}else me={lane:Ne,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(k=V=me,T=g):V=V.next=me,dt.lanes|=Ne,hs|=Ne;oe=oe.next}while(oe!==null&&oe!==s);if(V===null?T=g:V.next=k,!xa(g,a.memoizedState)&&(Ar=!0,Se&&(l=Li,l!==null)))throw l;a.memoizedState=g,a.baseState=T,a.baseQueue=V,u.lastRenderedState=g}return p===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function hh(a){var s=Sr(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var u=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=a(g,T.action),T=T.next;while(T!==p);xa(g,s.memoizedState)||(Ar=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function x1(a,s,l){var u=dt,p=Sr(),g=Tt;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=s();var T=!xa((Vt||p).memoizedState,l);if(T&&(p.memoizedState=l,Ar=!0),p=p.queue,ph(b1.bind(null,u,p,a),[a]),p.getSnapshot!==s||T||Er!==null&&Er.memoizedState.tag&1){if(u.flags|=2048,zi(9,{destroy:void 0},S1.bind(null,u,p,l,s),null),Jt===null)throw Error(n(349));g||(Bn&127)!==0||w1(u,s,l)}return l}function w1(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=dt.updateQueue,s===null?(s=Bc(),dt.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function S1(a,s,l,u){s.value=l,s.getSnapshot=u,T1(s)&&E1(a)}function b1(a,s,l){return l(function(){T1(s)&&E1(a)})}function T1(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!xa(a,l)}catch{return!0}}function E1(a){var s=Us(a,2);s!==null&&pa(s,a,2)}function dh(a){var s=aa();if(typeof a=="function"){var l=a;if(a=l(),Xs){mr(!0);try{l()}finally{mr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},s}function A1(a,s,l,u){return a.baseState=l,fh(a,Vt,typeof u=="function"?u:Mn)}function X2(a,s,l,u,p){if(Ic(a))throw Error(n(485));if(a=s.action,a!==null){var g={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};W.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,C1(s,g)):(g.next=l.next,s.pending=l.next=g)}}function C1(a,s){var l=s.action,u=s.payload,p=a.state;if(s.isTransition){var g=W.T,T={};W.T=T;try{var k=l(p,u),V=W.S;V!==null&&V(T,k),N1(a,s,k)}catch(oe){mh(a,s,oe)}finally{g!==null&&T.types!==null&&(g.types=T.types),W.T=g}}else try{g=l(p,u),N1(a,s,g)}catch(oe){mh(a,s,oe)}}function N1(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){k1(a,s,u)},function(u){return mh(a,s,u)}):k1(a,s,l)}function k1(a,s,l){s.status="fulfilled",s.value=l,j1(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,C1(a,l)))}function mh(a,s,l){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,j1(s),s=s.next;while(s!==u)}a.action=null}function j1(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function O1(a,s){return s}function D1(a,s){if(Tt){var l=Jt.formState;if(l!==null){e:{var u=dt;if(Tt){if(nr){t:{for(var p=nr,g=Ya;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ka(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){nr=Ka(p.nextSibling),u=p.data==="F!";break e}}as(u)}u=!1}u&&(s=l[0])}}return l=aa(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O1,lastRenderedState:s},l.queue=u,l=J1.bind(null,dt,u),u.dispatch=l,u=dh(!1),g=xh.bind(null,dt,!1,u.queue),u=aa(),p={state:s,dispatch:null,action:a,pending:null},u.queue=p,l=X2.bind(null,dt,p,g,l),p.dispatch=l,u.memoizedState=a,[s,l,!1]}function R1(a){var s=Sr();return B1(s,Vt,a)}function B1(a,s,l){if(s=fh(a,s,O1)[0],a=Lc(Mn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ql(s)}catch(T){throw T===Pi?Ac:T}else u=s;s=Sr();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(dt.flags|=2048,zi(9,{destroy:void 0},K2.bind(null,p,l),null)),[u,g,a]}function K2(a,s){a.action=s}function M1(a){var s=Sr(),l=Vt;if(l!==null)return B1(s,l,a);Sr(),s=s.memoizedState,l=Sr();var u=l.queue.dispatch;return l.memoizedState=a,[s,u,!1]}function zi(a,s,l,u){return a={tag:a,create:l,deps:u,inst:s,next:null},s=dt.updateQueue,s===null&&(s=Bc(),dt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(u=l.next,l.next=a,a.next=u,s.lastEffect=a),a}function L1(){return Sr().memoizedState}function Pc(a,s,l,u){var p=aa();dt.flags|=a,p.memoizedState=zi(1|s,{destroy:void 0},l,u===void 0?null:u)}function Fc(a,s,l,u){var p=Sr();u=u===void 0?null:u;var g=p.memoizedState.inst;Vt!==null&&u!==null&&sh(u,Vt.memoizedState.deps)?p.memoizedState=zi(s,g,l,u):(dt.flags|=a,p.memoizedState=zi(1|s,g,l,u))}function P1(a,s){Pc(8390656,8,a,s)}function ph(a,s){Fc(2048,8,a,s)}function J2(a){dt.flags|=4;var s=dt.updateQueue;if(s===null)s=Bc(),dt.updateQueue=s,s.events=[a];else{var l=s.events;l===null?s.events=[a]:l.push(a)}}function F1(a){var s=Sr().memoizedState;return J2({ref:s,nextImpl:a}),function(){if((Bt&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function I1(a,s){return Fc(4,2,a,s)}function U1(a,s){return Fc(4,4,a,s)}function H1(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function z1(a,s,l){l=l!=null?l.concat([a]):null,Fc(4,4,H1.bind(null,s,a),l)}function gh(){}function $1(a,s){var l=Sr();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&sh(s,u[1])?u[0]:(l.memoizedState=[a,s],a)}function q1(a,s){var l=Sr();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&sh(s,u[1]))return u[0];if(u=a(),Xs){mr(!0);try{a()}finally{mr(!1)}}return l.memoizedState=[u,s],u}function _h(a,s,l){return l===void 0||(Bn&1073741824)!==0&&(wt&261930)===0?a.memoizedState=s:(a.memoizedState=l,a=Gp(),dt.lanes|=a,hs|=a,l)}function G1(a,s,l,u){return xa(l,s)?l:Ii.current!==null?(a=_h(a,l,u),xa(a,s)||(Ar=!0),a):(Bn&42)===0||(Bn&1073741824)!==0&&(wt&261930)===0?(Ar=!0,a.memoizedState=l):(a=Gp(),dt.lanes|=a,hs|=a,s)}function V1(a,s,l,u,p){var g=xe.p;xe.p=g!==0&&8>g?g:8;var T=W.T,k={};W.T=k,xh(a,!1,s,l);try{var V=p(),oe=W.S;if(oe!==null&&oe(k,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Se=V2(V,u);Zl(a,s,Se,Aa(a))}else Zl(a,s,u,Aa(a))}catch(Ne){Zl(a,s,{then:function(){},status:"rejected",reason:Ne},Aa())}finally{xe.p=g,T!==null&&k.types!==null&&(T.types=k.types),W.T=T}}function Q2(){}function vh(a,s,l,u){if(a.tag!==5)throw Error(n(476));var p=W1(a).queue;V1(a,p,s,Ie,l===null?Q2:function(){return Y1(a),l(u)})}function W1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:Ie},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Y1(a){var s=W1(a);s.next===null&&(s=a.alternate.memoizedState),Zl(a,s.next.queue,{},Aa())}function yh(){return zr(_o)}function X1(){return Sr().memoizedState}function K1(){return Sr().memoizedState}function Z2(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=Aa();a=is(l);var u=ls(s,a,l);u!==null&&(pa(u,s,l),Yl(u,s,l)),s={cache:Yf()},a.payload=s;return}s=s.return}}function eS(a,s,l){var u=Aa();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(a)?Q1(s,l):(l=Pf(a,s,l,u),l!==null&&(pa(l,a,u),Z1(l,s,u)))}function J1(a,s,l){var u=Aa();Zl(a,s,l,u)}function Zl(a,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ic(a))Q1(s,p);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,k=g(T,l);if(p.hasEagerState=!0,p.eagerState=k,xa(k,T))return yc(a,s,p,0),Jt===null&&vc(),!1}catch{}finally{}if(l=Pf(a,s,p,u),l!==null)return pa(l,a,u),Z1(l,s,u),!0}return!1}function xh(a,s,l,u){if(u={lane:2,revertLane:Qh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ic(a)){if(s)throw Error(n(479))}else s=Pf(a,l,u,2),s!==null&&pa(s,a,2)}function Ic(a){var s=a.alternate;return a===dt||s!==null&&s===dt}function Q1(a,s){Ui=Dc=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function Z1(a,s,l){if((l&4194048)!==0){var u=s.lanes;u&=a.pendingLanes,l|=u,s.lanes=l,wi(a,l)}}var eo={readContext:zr,use:Mc,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr,useHostTransitionStatus:gr,useFormState:gr,useActionState:gr,useOptimistic:gr,useMemoCache:gr,useCacheRefresh:gr};eo.useEffectEvent=gr;var ep={readContext:zr,use:Mc,useCallback:function(a,s){return aa().memoizedState=[a,s===void 0?null:s],a},useContext:zr,useEffect:P1,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,Pc(4194308,4,H1.bind(null,s,a),l)},useLayoutEffect:function(a,s){return Pc(4194308,4,a,s)},useInsertionEffect:function(a,s){Pc(4,2,a,s)},useMemo:function(a,s){var l=aa();s=s===void 0?null:s;var u=a();if(Xs){mr(!0);try{a()}finally{mr(!1)}}return l.memoizedState=[u,s],u},useReducer:function(a,s,l){var u=aa();if(l!==void 0){var p=l(s);if(Xs){mr(!0);try{l(s)}finally{mr(!1)}}}else p=s;return u.memoizedState=u.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},u.queue=a,a=a.dispatch=eS.bind(null,dt,a),[u.memoizedState,a]},useRef:function(a){var s=aa();return a={current:a},s.memoizedState=a},useState:function(a){a=dh(a);var s=a.queue,l=J1.bind(null,dt,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:gh,useDeferredValue:function(a,s){var l=aa();return _h(l,a,s)},useTransition:function(){var a=dh(!1);return a=V1.bind(null,dt,a.queue,!0,!1),aa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var u=dt,p=aa();if(Tt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Jt===null)throw Error(n(349));(wt&127)!==0||w1(u,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,P1(b1.bind(null,u,g,a),[a]),u.flags|=2048,zi(9,{destroy:void 0},S1.bind(null,u,g,l,s),null),l},useId:function(){var a=aa(),s=Jt.identifierPrefix;if(Tt){var l=xn,u=yn;l=(u&~(1<<32-Nt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Rc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=W2++,s="_"+s+"r_"+l.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:yh,useFormState:D1,useActionState:D1,useOptimistic:function(a){var s=aa();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=xh.bind(null,dt,!0,l),l.dispatch=s,[a,s]},useMemoCache:uh,useCacheRefresh:function(){return aa().memoizedState=Z2.bind(null,dt)},useEffectEvent:function(a){var s=aa(),l={impl:a};return s.memoizedState=l,function(){if((Bt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},wh={readContext:zr,use:Mc,useCallback:$1,useContext:zr,useEffect:ph,useImperativeHandle:z1,useInsertionEffect:I1,useLayoutEffect:U1,useMemo:q1,useReducer:Lc,useRef:L1,useState:function(){return Lc(Mn)},useDebugValue:gh,useDeferredValue:function(a,s){var l=Sr();return G1(l,Vt.memoizedState,a,s)},useTransition:function(){var a=Lc(Mn)[0],s=Sr().memoizedState;return[typeof a=="boolean"?a:Ql(a),s]},useSyncExternalStore:x1,useId:X1,useHostTransitionStatus:yh,useFormState:R1,useActionState:R1,useOptimistic:function(a,s){var l=Sr();return A1(l,Vt,a,s)},useMemoCache:uh,useCacheRefresh:K1};wh.useEffectEvent=F1;var tp={readContext:zr,use:Mc,useCallback:$1,useContext:zr,useEffect:ph,useImperativeHandle:z1,useInsertionEffect:I1,useLayoutEffect:U1,useMemo:q1,useReducer:hh,useRef:L1,useState:function(){return hh(Mn)},useDebugValue:gh,useDeferredValue:function(a,s){var l=Sr();return Vt===null?_h(l,a,s):G1(l,Vt.memoizedState,a,s)},useTransition:function(){var a=hh(Mn)[0],s=Sr().memoizedState;return[typeof a=="boolean"?a:Ql(a),s]},useSyncExternalStore:x1,useId:X1,useHostTransitionStatus:yh,useFormState:M1,useActionState:M1,useOptimistic:function(a,s){var l=Sr();return Vt!==null?A1(l,Vt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:uh,useCacheRefresh:K1};tp.useEffectEvent=F1;function Sh(a,s,l,u){s=a.memoizedState,l=l(u,s),l=l==null?s:v({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var bh={enqueueSetState:function(a,s,l){a=a._reactInternals;var u=Aa(),p=is(u);p.payload=s,l!=null&&(p.callback=l),s=ls(a,p,u),s!==null&&(pa(s,a,u),Yl(s,a,u))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var u=Aa(),p=is(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=ls(a,p,u),s!==null&&(pa(s,a,u),Yl(s,a,u))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=Aa(),u=is(l);u.tag=2,s!=null&&(u.callback=s),s=ls(a,u,l),s!==null&&(pa(s,a,l),Yl(s,a,l))}};function rp(a,s,l,u,p,g,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Ul(l,u)||!Ul(p,g):!0}function ap(a,s,l,u){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==a&&bh.enqueueReplaceState(s,s.state,null)}function Ks(a,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(a=a.defaultProps){l===s&&(l=v({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}function np(a){_c(a)}function sp(a){console.error(a)}function ip(a){_c(a)}function Uc(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function lp(a,s,l){try{var u=a.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Th(a,s,l){return l=is(l),l.tag=3,l.payload={element:null},l.callback=function(){Uc(a,s)},l}function op(a){return a=is(a),a.tag=3,a}function cp(a,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;a.payload=function(){return p(g)},a.callback=function(){lp(s,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){lp(s,l,u),typeof p!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function tS(a,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Bi(s,l,p,!0),l=Sa.current,l!==null){switch(l.tag){case 31:case 13:return Xa===null?Qc():l.alternate===null&&_r===0&&(_r=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Cc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Xh(a,u,p)),!1;case 22:return l.flags|=65536,u===Cc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Xh(a,u,p)),!1}throw Error(n(435,l.tag))}return Xh(a,u,p),Qc(),!1}if(Tt)return s=Sa.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==$f&&(a=Error(n(422),{cause:u}),$l(Ga(a,l)))):(u!==$f&&(s=Error(n(423),{cause:u}),$l(Ga(s,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,u=Ga(u,l),p=Th(a.stateNode,u,p),eh(a,p),_r!==4&&(_r=2)),!1;var g=Error(n(520),{cause:u});if(g=Ga(g,l),oo===null?oo=[g]:oo.push(g),_r!==4&&(_r=2),s===null)return!0;u=Ga(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=Th(l.stateNode,u,a),eh(l,a),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=op(p),cp(p,a,l,u),eh(l,p),!1}l=l.return}while(l!==null);return!1}var Eh=Error(n(461)),Ar=!1;function $r(a,s,l,u){s.child=a===null?d1(s,null,l,u):Ys(s,a.child,l,u)}function up(a,s,l,u,p){l=l.render;var g=s.ref;if("ref"in u){var T={};for(var k in u)k!=="ref"&&(T[k]=u[k])}else T=u;return qs(s),u=ih(a,s,l,T,g,p),k=lh(),a!==null&&!Ar?(oh(a,s,p),Ln(a,s,p)):(Tt&&k&&Hf(s),s.flags|=1,$r(a,s,u,p),s.child)}function fp(a,s,l,u,p){if(a===null){var g=l.type;return typeof g=="function"&&!Ff(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,hp(a,s,g,u,p)):(a=wc(l.type,null,u,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(g=a.child,!Rh(a,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ul,l(T,u)&&a.ref===s.ref)return Ln(a,s,p)}return s.flags|=1,a=jn(g,u),a.ref=s.ref,a.return=s,s.child=a}function hp(a,s,l,u,p){if(a!==null){var g=a.memoizedProps;if(Ul(g,u)&&a.ref===s.ref)if(Ar=!1,s.pendingProps=u=g,Rh(a,p))(a.flags&131072)!==0&&(Ar=!0);else return s.lanes=a.lanes,Ln(a,s,p)}return Ah(a,s,l,u,p)}function dp(a,s,l,u){var p=u.children,g=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,a!==null){for(u=s.child=a.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return mp(a,s,g,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ec(s,g!==null?g.cachePool:null),g!==null?g1(s,g):rh(),_1(s);else return u=s.lanes=536870912,mp(a,s,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Ec(s,g.cachePool),g1(s,g),cs(),s.memoizedState=null):(a!==null&&Ec(s,null),rh(),cs());return $r(a,s,p,l),s.child}function to(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mp(a,s,l,u,p){var g=Kf();return g=g===null?null:{parent:Tr._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},a!==null&&Ec(s,null),rh(),_1(s),a!==null&&Bi(a,s,u,!0),s.childLanes=p,null}function Hc(a,s){return s=$c({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function pp(a,s,l){return Ys(s,a.child,null,l),a=Hc(s,s.pendingProps),a.flags|=2,ba(s),s.memoizedState=null,a}function rS(a,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Tt){if(u.mode==="hidden")return a=Hc(s,u),s.lanes=536870912,to(null,a);if(nh(s),(a=nr)?(a=Cg(a,Ya),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ts!==null?{id:yn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},l=Qm(a),l.return=s,s.child=l,Hr=s,nr=null)):a=null,a===null)throw as(s);return s.lanes=536870912,null}return Hc(s,u)}var g=a.memoizedState;if(g!==null){var T=g.dehydrated;if(nh(s),p)if(s.flags&256)s.flags&=-257,s=pp(a,s,l);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(Ar||Bi(a,s,l,!1),p=(l&a.childLanes)!==0,Ar||p){if(u=Jt,u!==null&&(T=lc(u,l),T!==0&&T!==g.retryLane))throw g.retryLane=T,Us(a,T),pa(u,a,T),Eh;Qc(),s=pp(a,s,l)}else a=g.treeContext,nr=Ka(T.nextSibling),Hr=s,Tt=!0,rs=null,Ya=!1,a!==null&&t1(s,a),s=Hc(s,u),s.flags|=4096;return s}return a=jn(a.child,{mode:u.mode,children:u.children}),a.ref=s.ref,s.child=a,a.return=s,a}function zc(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function Ah(a,s,l,u,p){return qs(s),l=ih(a,s,l,u,void 0,p),u=lh(),a!==null&&!Ar?(oh(a,s,p),Ln(a,s,p)):(Tt&&u&&Hf(s),s.flags|=1,$r(a,s,l,p),s.child)}function gp(a,s,l,u,p,g){return qs(s),s.updateQueue=null,l=y1(s,u,l,p),v1(a),u=lh(),a!==null&&!Ar?(oh(a,s,g),Ln(a,s,g)):(Tt&&u&&Hf(s),s.flags|=1,$r(a,s,l,g),s.child)}function _p(a,s,l,u,p){if(qs(s),s.stateNode===null){var g=ji,T=l.contextType;typeof T=="object"&&T!==null&&(g=zr(T)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Qf(s),T=l.contextType,g.context=typeof T=="object"&&T!==null?zr(T):ji,g.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Sh(s,l,T,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&bh.enqueueReplaceState(g,g.state,null),Kl(s,u,g,p),Xl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(a===null){g=s.stateNode;var k=s.memoizedProps,V=Ks(l,k);g.props=V;var oe=g.context,Se=l.contextType;T=ji,typeof Se=="object"&&Se!==null&&(T=zr(Se));var Ne=l.getDerivedStateFromProps;Se=typeof Ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,Se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||oe!==T)&&ap(s,g,u,T),ss=!1;var me=s.memoizedState;g.state=me,Kl(s,u,g,p),Xl(),oe=s.memoizedState,k||me!==oe||ss?(typeof Ne=="function"&&(Sh(s,l,Ne,u),oe=s.memoizedState),(V=ss||rp(s,l,V,u,me,oe,T))?(Se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=oe),g.props=u,g.state=oe,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Zf(a,s),T=s.memoizedProps,Se=Ks(l,T),g.props=Se,Ne=s.pendingProps,me=g.context,oe=l.contextType,V=ji,typeof oe=="object"&&oe!==null&&(V=zr(oe)),k=l.getDerivedStateFromProps,(oe=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Ne||me!==V)&&ap(s,g,u,V),ss=!1,me=s.memoizedState,g.state=me,Kl(s,u,g,p),Xl();var ye=s.memoizedState;T!==Ne||me!==ye||ss||a!==null&&a.dependencies!==null&&bc(a.dependencies)?(typeof k=="function"&&(Sh(s,l,k,u),ye=s.memoizedState),(Se=ss||rp(s,l,Se,u,me,ye,V)||a!==null&&a.dependencies!==null&&bc(a.dependencies))?(oe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ye,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ye,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===a.memoizedProps&&me===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&me===a.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ye),g.props=u,g.state=ye,g.context=V,u=Se):(typeof g.componentDidUpdate!="function"||T===a.memoizedProps&&me===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&me===a.memoizedState||(s.flags|=1024),u=!1)}return g=u,zc(a,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,a!==null&&u?(s.child=Ys(s,a.child,null,p),s.child=Ys(s,null,l,p)):$r(a,s,l,p),s.memoizedState=g.state,a=s.child):a=Ln(a,s,p),a}function vp(a,s,l,u){return zs(),s.flags|=256,$r(a,s,l,u),s.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(a){return{baseLanes:a,cachePool:l1()}}function kh(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=Ea),a}function yp(a,s,l){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=a!==null&&a.memoizedState===null?!1:(wr.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,a===null){if(Tt){if(p?os(s):cs(),(a=nr)?(a=Cg(a,Ya),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ts!==null?{id:yn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},l=Qm(a),l.return=s,s.child=l,Hr=s,nr=null)):a=null,a===null)throw as(s);return fd(a)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,p?(cs(),p=s.mode,k=$c({mode:"hidden",children:k},p),u=Hs(u,p,l,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=Nh(l),u.childLanes=kh(a,T,l),s.memoizedState=Ch,to(null,u)):(os(s),jh(s,k))}var V=a.memoizedState;if(V!==null&&(k=V.dehydrated,k!==null)){if(g)s.flags&256?(os(s),s.flags&=-257,s=Oh(a,s,l)):s.memoizedState!==null?(cs(),s.child=a.child,s.flags|=128,s=null):(cs(),k=u.fallback,p=s.mode,u=$c({mode:"visible",children:u.children},p),k=Hs(k,p,l,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,Ys(s,a.child,null,l),u=s.child,u.memoizedState=Nh(l),u.childLanes=kh(a,T,l),s.memoizedState=Ch,s=to(null,u));else if(os(s),fd(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var oe=T.dgst;T=oe,u=Error(n(419)),u.stack="",u.digest=T,$l({value:u,source:null,stack:null}),s=Oh(a,s,l)}else if(Ar||Bi(a,s,l,!1),T=(l&a.childLanes)!==0,Ar||T){if(T=Jt,T!==null&&(u=lc(T,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,Us(a,u),pa(T,a,u),Eh;ud(k)||Qc(),s=Oh(a,s,l)}else ud(k)?(s.flags|=192,s.child=a.child,s=null):(a=V.treeContext,nr=Ka(k.nextSibling),Hr=s,Tt=!0,rs=null,Ya=!1,a!==null&&t1(s,a),s=jh(s,u.children),s.flags|=4096);return s}return p?(cs(),k=u.fallback,p=s.mode,V=a.child,oe=V.sibling,u=jn(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,oe!==null?k=jn(oe,k):(k=Hs(k,p,l,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,to(null,u),u=s.child,k=a.child.memoizedState,k===null?k=Nh(l):(p=k.cachePool,p!==null?(V=Tr._currentValue,p=p.parent!==V?{parent:V,pool:V}:p):p=l1(),k={baseLanes:k.baseLanes|l,cachePool:p}),u.memoizedState=k,u.childLanes=kh(a,T,l),s.memoizedState=Ch,to(a.child,u)):(os(s),l=a.child,a=l.sibling,l=jn(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,a!==null&&(T=s.deletions,T===null?(s.deletions=[a],s.flags|=16):T.push(a)),s.child=l,s.memoizedState=null,l)}function jh(a,s){return s=$c({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function $c(a,s){return a=wa(22,a,null,s),a.lanes=0,a}function Oh(a,s,l){return Ys(s,a.child,null,l),a=jh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function xp(a,s,l){a.lanes|=s;var u=a.alternate;u!==null&&(u.lanes|=s),Vf(a.return,s,l)}function Dh(a,s,l,u,p,g){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=l,T.tailMode=p,T.treeForkCount=g)}function wp(a,s,l){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var T=wr.current,k=(T&2)!==0;if(k?(T=T&1|2,s.flags|=128):T&=1,P(wr,T),$r(a,s,u,l),u=Tt?zl:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xp(a,l,s);else if(a.tag===19)xp(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)a=l.alternate,a!==null&&Oc(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Dh(s,!1,p,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&Oc(a)===null){s.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}Dh(s,!0,l,null,g,u);break;case"together":Dh(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ln(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),hs|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Bi(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,l=jn(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=jn(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function Rh(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&bc(a)))}function aS(a,s,l){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),ns(s,Tr,a.memoizedState.cache),zs();break;case 27:case 5:De(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nh(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(l&s.child.childLanes)!==0?yp(a,s,l):(os(s),a=Ln(a,s,l),a!==null?a.sibling:null);os(s);break;case 19:var p=(a.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Bi(a,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return wp(a,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),P(wr,wr.current),u)break;return null;case 22:return s.lanes=0,dp(a,s,l,s.pendingProps);case 24:ns(s,Tr,a.memoizedState.cache)}return Ln(a,s,l)}function Sp(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ar=!0;else{if(!Rh(a,l)&&(s.flags&128)===0)return Ar=!1,aS(a,s,l);Ar=(a.flags&131072)!==0}else Ar=!1,Tt&&(s.flags&1048576)!==0&&e1(s,zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(a=Vs(s.elementType),s.type=a,typeof a=="function")Ff(a)?(u=Ks(a,u),s.tag=1,s=_p(null,s,a,u,l)):(s.tag=0,s=Ah(null,s,a,u,l));else{if(a!=null){var p=a.$$typeof;if(p===B){s.tag=11,s=up(null,s,a,u,l);break e}else if(p===R){s.tag=14,s=fp(null,s,a,u,l);break e}}throw s=Ve(a)||a,Error(n(306,s,""))}}return s;case 0:return Ah(a,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=Ks(u,s.pendingProps),_p(a,s,u,p,l);case 3:e:{if(Le(s,s.stateNode.containerInfo),a===null)throw Error(n(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,Zf(a,s),Kl(s,u,null,l);var T=s.memoizedState;if(u=T.cache,ns(s,Tr,u),u!==g.cache&&Wf(s,[Tr],l,!0),Xl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=vp(a,s,u,l);break e}else if(u!==p){p=Ga(Error(n(424)),s),$l(p),s=vp(a,s,u,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(nr=Ka(a.firstChild),Hr=s,Tt=!0,rs=null,Ya=!0,l=d1(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(zs(),u===p){s=Ln(a,s,l);break e}$r(a,s,u,l)}s=s.child}return s;case 26:return zc(a,s),a===null?(l=Rg(s.type,null,s.pendingProps,null))?s.memoizedState=l:Tt||(l=s.type,a=s.pendingProps,u=su(ie.current).createElement(l),u[D]=s,u[M]=a,qr(u,l,a),Qe(u),s.stateNode=u):s.memoizedState=Rg(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return De(s),a===null&&Tt&&(u=s.stateNode=jg(s.type,s.pendingProps,ie.current),Hr=s,Ya=!0,p=nr,_s(s.type)?(hd=p,nr=Ka(u.firstChild)):nr=p),$r(a,s,s.pendingProps.children,l),zc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Tt&&((p=u=nr)&&(u=RS(u,s.type,s.pendingProps,Ya),u!==null?(s.stateNode=u,Hr=s,nr=Ka(u.firstChild),Ya=!1,p=!0):p=!1),p||as(s)),De(s),p=s.type,g=s.pendingProps,T=a!==null?a.memoizedProps:null,u=g.children,ld(p,g)?u=null:T!==null&&ld(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=ih(a,s,Y2,null,null,l),_o._currentValue=p),zc(a,s),$r(a,s,u,l),s.child;case 6:return a===null&&Tt&&((a=l=nr)&&(l=BS(l,s.pendingProps,Ya),l!==null?(s.stateNode=l,Hr=s,nr=null,a=!0):a=!1),a||as(s)),null;case 13:return yp(a,s,l);case 4:return Le(s,s.stateNode.containerInfo),u=s.pendingProps,a===null?s.child=Ys(s,null,u,l):$r(a,s,u,l),s.child;case 11:return up(a,s,s.type,s.pendingProps,l);case 7:return $r(a,s,s.pendingProps,l),s.child;case 8:return $r(a,s,s.pendingProps.children,l),s.child;case 12:return $r(a,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,ns(s,s.type,u.value),$r(a,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,qs(s),p=zr(p),u=u(p),s.flags|=1,$r(a,s,u,l),s.child;case 14:return fp(a,s,s.type,s.pendingProps,l);case 15:return hp(a,s,s.type,s.pendingProps,l);case 19:return wp(a,s,l);case 31:return rS(a,s,l);case 22:return dp(a,s,l,s.pendingProps);case 24:return qs(s),u=zr(Tr),a===null?(p=Kf(),p===null&&(p=Jt,g=Yf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:u,cache:p},Qf(s),ns(s,Tr,p)):((a.lanes&l)!==0&&(Zf(a,s),Kl(s,null,null,l),Xl()),p=a.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ns(s,Tr,u)):(u=g.cache,ns(s,Tr,u),u!==p.cache&&Wf(s,[Tr],l,!0))),$r(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Pn(a){a.flags|=4}function Bh(a,s,l,u,p){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(p&335544128)===p)if(a.stateNode.complete)a.flags|=8192;else if(Xp())a.flags|=8192;else throw Ws=Cc,Jf}else a.flags&=-16777217}function bp(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Fg(s))if(Xp())a.flags|=8192;else throw Ws=Cc,Jf}function qc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?vt():536870912,a.lanes|=s,Vi|=s)}function ro(a,s){if(!Tt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function sr(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,u=0;if(s)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=u,a.childLanes=l,s}function nS(a,s,l){var u=s.pendingProps;switch(zf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(s),null;case 1:return sr(s),null;case 3:return l=s.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Rn(Tr),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Ri(s)?Pn(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qf())),sr(s),null;case 26:var p=s.type,g=s.memoizedState;return a===null?(Pn(s),g!==null?(sr(s),bp(s,g)):(sr(s),Bh(s,p,null,u,l))):g?g!==a.memoizedState?(Pn(s),sr(s),bp(s,g)):(sr(s),s.flags&=-16777217):(a=a.memoizedProps,a!==u&&Pn(s),sr(s),Bh(s,p,a,u,l)),null;case 27:if(gt(s),l=ie.current,p=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==u&&Pn(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return sr(s),null}a=U.current,Ri(s)?r1(s):(a=jg(p,u,l),s.stateNode=a,Pn(s))}return sr(s),null;case 5:if(gt(s),p=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==u&&Pn(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return sr(s),null}if(g=U.current,Ri(s))r1(s);else{var T=su(ie.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}g[D]=s,g[M]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(qr(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Pn(s)}}return sr(s),Bh(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,l),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==u&&Pn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=ie.current,Ri(s)){if(a=s.stateNode,l=s.memoizedProps,u=null,p=Hr,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}a[D]=s,a=!!(a.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||yg(a.nodeValue,l)),a||as(s,!0)}else a=su(a).createTextNode(u),a[D]=s,s.stateNode=a}return sr(s),null;case 31:if(l=s.memoizedState,a===null||a.memoizedState!==null){if(u=Ri(s),l!==null){if(a===null){if(!u)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[D]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;sr(s),a=!1}else l=qf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return s.flags&256?(ba(s),s):(ba(s),null);if((s.flags&128)!==0)throw Error(n(558))}return sr(s),null;case 13:if(u=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Ri(s),u!==null&&u.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[D]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;sr(s),p=!1}else p=qf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ba(s),s):(ba(s),null)}return ba(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,a=a!==null&&a.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),l!==a&&l&&(s.child.flags|=8192),qc(s,s.updateQueue),sr(s),null);case 4:return Ce(),a===null&&rd(s.stateNode.containerInfo),sr(s),null;case 10:return Rn(s.type),sr(s),null;case 19:if(C(wr),u=s.memoizedState,u===null)return sr(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)ro(u,!1);else{if(_r!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(g=Oc(a),g!==null){for(s.flags|=128,ro(u,!1),a=g.updateQueue,s.updateQueue=a,qc(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)Jm(l,a),l=l.sibling;return P(wr,wr.current&1|2),Tt&&On(s,u.treeForkCount),s.child}a=a.sibling}u.tail!==null&&ut()>Xc&&(s.flags|=128,p=!0,ro(u,!1),s.lanes=4194304)}else{if(!p)if(a=Oc(g),a!==null){if(s.flags|=128,p=!0,a=a.updateQueue,s.updateQueue=a,qc(s,a),ro(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Tt)return sr(s),null}else 2*ut()-u.renderingStartTime>Xc&&l!==536870912&&(s.flags|=128,p=!0,ro(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(a=u.last,a!==null?a.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(a=u.tail,u.rendering=a,u.tail=a.sibling,u.renderingStartTime=ut(),a.sibling=null,l=wr.current,P(wr,p?l&1|2:l&1),Tt&&On(s,u.treeForkCount),a):(sr(s),null);case 22:case 23:return ba(s),ah(),u=s.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(sr(s),s.subtreeFlags&6&&(s.flags|=8192)):sr(s),l=s.updateQueue,l!==null&&qc(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),a!==null&&C(Gs),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Rn(Tr),sr(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function sS(a,s){switch(zf(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Rn(Tr),Ce(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return gt(s),null;case 31:if(s.memoizedState!==null){if(ba(s),s.alternate===null)throw Error(n(340));zs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(ba(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));zs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return C(wr),null;case 4:return Ce(),null;case 10:return Rn(s.type),null;case 22:case 23:return ba(s),ah(),a!==null&&C(Gs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Rn(Tr),null;case 25:return null;default:return null}}function Tp(a,s){switch(zf(s),s.tag){case 3:Rn(Tr),Ce();break;case 26:case 27:case 5:gt(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&ba(s);break;case 13:ba(s);break;case 19:C(wr);break;case 10:Rn(s.type);break;case 22:case 23:ba(s),ah(),a!==null&&C(Gs);break;case 24:Rn(Tr)}}function ao(a,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&a)===a){u=void 0;var g=l.create,T=l.inst;u=g(),T.destroy=u}l=l.next}while(l!==p)}}catch(k){Ut(s,s.return,k)}}function us(a,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&a)===a){var T=u.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,p=s;var V=l,oe=k;try{oe()}catch(Se){Ut(p,V,Se)}}}u=u.next}while(u!==g)}}catch(Se){Ut(s,s.return,Se)}}function Ep(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{p1(s,l)}catch(u){Ut(a,a.return,u)}}}function Ap(a,s,l){l.props=Ks(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(u){Ut(a,s,u)}}function no(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof l=="function"?a.refCleanup=l(u):l.current=u}}catch(p){Ut(a,s,p)}}function wn(a,s){var l=a.ref,u=a.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Ut(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ut(a,s,p)}else l.current=null}function Cp(a){var s=a.type,l=a.memoizedProps,u=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Ut(a,a.return,p)}}function Mh(a,s,l){try{var u=a.stateNode;CS(u,a.type,l,s),u[M]=s}catch(p){Ut(a,a.return,p)}}function Np(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_s(a.type)||a.tag===4}function Lh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Np(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_s(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ph(a,s,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nn));else if(u!==4&&(u===27&&_s(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(Ph(a,s,l),a=a.sibling;a!==null;)Ph(a,s,l),a=a.sibling}function Gc(a,s,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(u!==4&&(u===27&&_s(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Gc(a,s,l),a=a.sibling;a!==null;)Gc(a,s,l),a=a.sibling}function kp(a){var s=a.stateNode,l=a.memoizedProps;try{for(var u=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);qr(s,u,l),s[D]=a,s[M]=l}catch(g){Ut(a,a.return,g)}}var Fn=!1,Cr=!1,Fh=!1,jp=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function iS(a,s){if(a=a.containerInfo,sd=hu,a=zm(a),Of(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,k=-1,V=-1,oe=0,Se=0,Ne=a,me=null;t:for(;;){for(var ye;Ne!==l||p!==0&&Ne.nodeType!==3||(k=T+p),Ne!==g||u!==0&&Ne.nodeType!==3||(V=T+u),Ne.nodeType===3&&(T+=Ne.nodeValue.length),(ye=Ne.firstChild)!==null;)me=Ne,Ne=ye;for(;;){if(Ne===a)break t;if(me===l&&++oe===p&&(k=T),me===g&&++Se===u&&(V=T),(ye=Ne.nextSibling)!==null)break;Ne=me,me=Ne.parentNode}Ne=ye}l=k===-1||V===-1?null:{start:k,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(id={focusedElem:a,selectionRange:l},hu=!1,Pr=s;Pr!==null;)if(s=Pr,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Pr=a;else for(;Pr!==null;){switch(s=Pr,g=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)p=a[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Je=Ks(l.type,p);a=u.getSnapshotBeforeUpdate(Je,g),u.__reactInternalSnapshotBeforeUpdate=a}catch(it){Ut(l,l.return,it)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)cd(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cd(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,Pr=a;break}Pr=s.return}}function Op(a,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Un(a,l),u&4&&ao(5,l);break;case 1:if(Un(a,l),u&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(T){Ut(l,l.return,T)}else{var p=Ks(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Ut(l,l.return,T)}}u&64&&Ep(l),u&512&&no(l,l.return);break;case 3:if(Un(a,l),u&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{p1(a,s)}catch(T){Ut(l,l.return,T)}}break;case 27:s===null&&u&4&&kp(l);case 26:case 5:Un(a,l),s===null&&u&4&&Cp(l),u&512&&no(l,l.return);break;case 12:Un(a,l);break;case 31:Un(a,l),u&4&&Bp(a,l);break;case 13:Un(a,l),u&4&&Mp(a,l),u&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=pS.bind(null,l),MS(a,l))));break;case 22:if(u=l.memoizedState!==null||Fn,!u){s=s!==null&&s.memoizedState!==null||Cr,p=Fn;var g=Cr;Fn=u,(Cr=s)&&!g?Hn(a,l,(l.subtreeFlags&8772)!==0):Un(a,l),Fn=p,Cr=g}break;case 30:break;default:Un(a,l)}}function Dp(a){var s=a.alternate;s!==null&&(a.alternate=null,Dp(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Be(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var cr=null,fa=!1;function In(a,s,l){for(l=l.child;l!==null;)Rp(a,s,l),l=l.sibling}function Rp(a,s,l){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(ra,l)}catch{}switch(l.tag){case 26:Cr||wn(l,s),In(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Cr||wn(l,s);var u=cr,p=fa;_s(l.type)&&(cr=l.stateNode,fa=!1),In(a,s,l),mo(l.stateNode),cr=u,fa=p;break;case 5:Cr||wn(l,s);case 6:if(u=cr,p=fa,cr=null,In(a,s,l),cr=u,fa=p,cr!==null)if(fa)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(l.stateNode)}catch(g){Ut(l,s,g)}else try{cr.removeChild(l.stateNode)}catch(g){Ut(l,s,g)}break;case 18:cr!==null&&(fa?(a=cr,Eg(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),el(a)):Eg(cr,l.stateNode));break;case 4:u=cr,p=fa,cr=l.stateNode.containerInfo,fa=!0,In(a,s,l),cr=u,fa=p;break;case 0:case 11:case 14:case 15:us(2,l,s),Cr||us(4,l,s),In(a,s,l);break;case 1:Cr||(wn(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ap(l,s,u)),In(a,s,l);break;case 21:In(a,s,l);break;case 22:Cr=(u=Cr)||l.memoizedState!==null,In(a,s,l),Cr=u;break;default:In(a,s,l)}}function Bp(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{el(a)}catch(l){Ut(s,s.return,l)}}}function Mp(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{el(a)}catch(l){Ut(s,s.return,l)}}function lS(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new jp),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new jp),s;default:throw Error(n(435,a.tag))}}function Vc(a,s){var l=lS(a);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=gS.bind(null,a,u);u.then(p,p)}})}function ha(a,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=a,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(_s(k.type)){cr=k.stateNode,fa=!1;break e}break;case 5:cr=k.stateNode,fa=!1;break e;case 3:case 4:cr=k.stateNode.containerInfo,fa=!0;break e}k=k.return}if(cr===null)throw Error(n(160));Rp(g,T,p),cr=null,fa=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Lp(s,a),s=s.sibling}var nn=null;function Lp(a,s){var l=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ha(s,a),da(a),u&4&&(us(3,a,a.return),ao(3,a),us(5,a,a.return));break;case 1:ha(s,a),da(a),u&512&&(Cr||l===null||wn(l,l.return)),u&64&&Fn&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=nn;if(ha(s,a),da(a),u&512&&(Cr||l===null||wn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=a.memoizedState,l===null)if(u===null)if(a.stateNode===null){e:{u=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[pe]||g[D]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),qr(g,u,l),g[D]=a,Qe(g),u=g;break e;case"link":var T=Lg("link","href",p).get(u+(l.href||""));if(T){for(var k=0;k<T.length;k++)if(g=T[k],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(k,1);break t}}g=p.createElement(u),qr(g,u,l),p.head.appendChild(g);break;case"meta":if(T=Lg("meta","content",p).get(u+(l.content||""))){for(k=0;k<T.length;k++)if(g=T[k],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(k,1);break t}}g=p.createElement(u),qr(g,u,l),p.head.appendChild(g);break;default:throw Error(n(468,u))}g[D]=a,Qe(g),u=g}a.stateNode=u}else Pg(p,a.type,a.stateNode);else a.stateNode=Mg(p,u,a.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?Pg(p,a.type,a.stateNode):Mg(p,u,a.memoizedProps)):u===null&&a.stateNode!==null&&Mh(a,a.memoizedProps,l.memoizedProps)}break;case 27:ha(s,a),da(a),u&512&&(Cr||l===null||wn(l,l.return)),l!==null&&u&4&&Mh(a,a.memoizedProps,l.memoizedProps);break;case 5:if(ha(s,a),da(a),u&512&&(Cr||l===null||wn(l,l.return)),a.flags&32){p=a.stateNode;try{bi(p,"")}catch(Je){Ut(a,a.return,Je)}}u&4&&a.stateNode!=null&&(p=a.memoizedProps,Mh(a,p,l!==null?l.memoizedProps:p)),u&1024&&(Fh=!0);break;case 6:if(ha(s,a),da(a),u&4){if(a.stateNode===null)throw Error(n(162));u=a.memoizedProps,l=a.stateNode;try{l.nodeValue=u}catch(Je){Ut(a,a.return,Je)}}break;case 3:if(ou=null,p=nn,nn=iu(s.containerInfo),ha(s,a),nn=p,da(a),u&4&&l!==null&&l.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(Je){Ut(a,a.return,Je)}Fh&&(Fh=!1,Pp(a));break;case 4:u=nn,nn=iu(a.stateNode.containerInfo),ha(s,a),da(a),nn=u;break;case 12:ha(s,a),da(a);break;case 31:ha(s,a),da(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Vc(a,u)));break;case 13:ha(s,a),da(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yc=ut()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Vc(a,u)));break;case 22:p=a.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,oe=Fn,Se=Cr;if(Fn=oe||p,Cr=Se||V,ha(s,a),Cr=Se,Fn=oe,da(a),u&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||V||Fn||Cr||Js(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){V=l=s;try{if(g=V.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=V.stateNode;var Ne=V.memoizedProps.style,me=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;k.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Je){Ut(V,V.return,Je)}}}else if(s.tag===6){if(l===null){V=s;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(Je){Ut(V,V.return,Je)}}}else if(s.tag===18){if(l===null){V=s;try{var ye=V.stateNode;p?Ag(ye,!0):Ag(V.stateNode,!1)}catch(Je){Ut(V,V.return,Je)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=a.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Vc(a,l))));break;case 19:ha(s,a),da(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Vc(a,u)));break;case 30:break;case 21:break;default:ha(s,a),da(a)}}function da(a){var s=a.flags;if(s&2){try{for(var l,u=a.return;u!==null;){if(Np(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,g=Lh(a);Gc(a,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(bi(T,""),l.flags&=-33);var k=Lh(a);Gc(a,k,T);break;case 3:case 4:var V=l.stateNode.containerInfo,oe=Lh(a);Ph(a,oe,V);break;default:throw Error(n(161))}}catch(Se){Ut(a,a.return,Se)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Pp(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Pp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Un(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Op(a,s.alternate,s),s=s.sibling}function Js(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),Js(s);break;case 1:wn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Ap(s,s.return,l),Js(s);break;case 27:mo(s.stateNode);case 26:case 5:wn(s,s.return),Js(s);break;case 22:s.memoizedState===null&&Js(s);break;case 30:Js(s);break;default:Js(s)}a=a.sibling}}function Hn(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=a,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(p,g,l),ao(4,g);break;case 1:if(Hn(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(oe){Ut(u,u.return,oe)}if(u=g,p=u.updateQueue,p!==null){var k=u.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)m1(V[p],k)}catch(oe){Ut(u,u.return,oe)}}l&&T&64&&Ep(g),no(g,g.return);break;case 27:kp(g);case 26:case 5:Hn(p,g,l),l&&u===null&&T&4&&Cp(g),no(g,g.return);break;case 12:Hn(p,g,l);break;case 31:Hn(p,g,l),l&&T&4&&Bp(p,g);break;case 13:Hn(p,g,l),l&&T&4&&Mp(p,g);break;case 22:g.memoizedState===null&&Hn(p,g,l),no(g,g.return);break;case 30:break;default:Hn(p,g,l)}s=s.sibling}}function Ih(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&ql(l))}function Uh(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ql(a))}function sn(a,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fp(a,s,l,u),s=s.sibling}function Fp(a,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:sn(a,s,l,u),p&2048&&ao(9,s);break;case 1:sn(a,s,l,u);break;case 3:sn(a,s,l,u),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ql(a)));break;case 12:if(p&2048){sn(a,s,l,u),a=s.stateNode;try{var g=s.memoizedProps,T=g.id,k=g.onPostCommit;typeof k=="function"&&k(T,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(V){Ut(s,s.return,V)}}else sn(a,s,l,u);break;case 31:sn(a,s,l,u);break;case 13:sn(a,s,l,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?sn(a,s,l,u):so(a,s):g._visibility&2?sn(a,s,l,u):(g._visibility|=2,$i(a,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Ih(T,s);break;case 24:sn(a,s,l,u),p&2048&&Uh(s.alternate,s);break;default:sn(a,s,l,u)}}function $i(a,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=a,T=s,k=l,V=u,oe=T.flags;switch(T.tag){case 0:case 11:case 15:$i(g,T,k,V,p),ao(8,T);break;case 23:break;case 22:var Se=T.stateNode;T.memoizedState!==null?Se._visibility&2?$i(g,T,k,V,p):so(g,T):(Se._visibility|=2,$i(g,T,k,V,p)),p&&oe&2048&&Ih(T.alternate,T);break;case 24:$i(g,T,k,V,p),p&&oe&2048&&Uh(T.alternate,T);break;default:$i(g,T,k,V,p)}s=s.sibling}}function so(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,u=s,p=u.flags;switch(u.tag){case 22:so(l,u),p&2048&&Ih(u.alternate,u);break;case 24:so(l,u),p&2048&&Uh(u.alternate,u);break;default:so(l,u)}s=s.sibling}}var io=8192;function qi(a,s,l){if(a.subtreeFlags&io)for(a=a.child;a!==null;)Ip(a,s,l),a=a.sibling}function Ip(a,s,l){switch(a.tag){case 26:qi(a,s,l),a.flags&io&&a.memoizedState!==null&&WS(l,nn,a.memoizedState,a.memoizedProps);break;case 5:qi(a,s,l);break;case 3:case 4:var u=nn;nn=iu(a.stateNode.containerInfo),qi(a,s,l),nn=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=io,io=16777216,qi(a,s,l),io=u):qi(a,s,l));break;default:qi(a,s,l)}}function Up(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function lo(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Pr=u,zp(u,a)}Up(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hp(a),a=a.sibling}function Hp(a){switch(a.tag){case 0:case 11:case 15:lo(a),a.flags&2048&&us(9,a,a.return);break;case 3:lo(a);break;case 12:lo(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Wc(a)):lo(a);break;default:lo(a)}}function Wc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Pr=u,zp(u,a)}Up(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:us(8,s,s.return),Wc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Wc(s));break;default:Wc(s)}a=a.sibling}}function zp(a,s){for(;Pr!==null;){var l=Pr;switch(l.tag){case 0:case 11:case 15:us(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Pr=u;else e:for(l=a;Pr!==null;){u=Pr;var p=u.sibling,g=u.return;if(Dp(u),u===l){Pr=null;break e}if(p!==null){p.return=g,Pr=p;break e}Pr=g}}}var oS={getCacheForType:function(a){var s=zr(Tr),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l},cacheSignal:function(){return zr(Tr).controller.signal}},cS=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,yt=null,wt=0,It=0,Ta=null,fs=!1,Gi=!1,Hh=!1,zn=0,_r=0,hs=0,Qs=0,zh=0,Ea=0,Vi=0,oo=null,ma=null,$h=!1,Yc=0,$p=0,Xc=1/0,Kc=null,ds=null,Br=0,ms=null,Wi=null,$n=0,qh=0,Gh=null,qp=null,co=0,Vh=null;function Aa(){return(Bt&2)!==0&&wt!==0?wt&-wt:W.T!==null?Qh():A()}function Gp(){if(Ea===0)if((wt&536870912)===0||Tt){var a=At;At<<=1,(At&3932160)===0&&(At=262144),Ea=a}else Ea=536870912;return a=Sa.current,a!==null&&(a.flags|=32),Ea}function pa(a,s,l){(a===Jt&&(It===2||It===9)||a.cancelPendingCommit!==null)&&(Yi(a,0),ps(a,wt,Ea,!1)),pr(a,l),((Bt&2)===0||a!==Jt)&&(a===Jt&&((Bt&2)===0&&(Qs|=l),_r===4&&ps(a,wt,Ea,!1)),Sn(a))}function Vp(a,s,l){if((Bt&6)!==0)throw Error(n(327));var u=!l&&(s&127)===0&&(s&a.expiredLanes)===0||qe(a,s),p=u?hS(a,s):Yh(a,s,!0),g=u;do{if(p===0){Gi&&!u&&ps(a,s,0,!1);break}else{if(l=a.current.alternate,g&&!uS(l)){p=Yh(a,s,!1),g=!1;continue}if(p===2){if(g=s,a.errorRecoveryDisabledLanes&g)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var k=a;p=oo;var V=k.current.memoizedState.isDehydrated;if(V&&(Yi(k,T).flags|=256),T=Yh(k,T,!1),T!==2){if(Hh&&!V){k.errorRecoveryDisabledLanes|=g,Qs|=g,p=4;break e}g=ma,ma=p,g!==null&&(ma===null?ma=g:ma.push.apply(ma,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Yi(a,0),ps(a,s,0,!0);break}e:{switch(u=a,g=p,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,Ea,!fs);break e;case 2:ma=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=Yc+300-ut(),10<p)){if(ps(u,s,Ea,!fs),Re(u,0,!0)!==0)break e;$n=s,u.timeoutHandle=bg(Wp.bind(null,u,l,ma,Kc,$h,s,Ea,Qs,Vi,fs,g,"Throttled",-0,0),p);break e}Wp(u,l,ma,Kc,$h,s,Ea,Qs,Vi,fs,g,null,-0,0)}}break}while(!0);Sn(a)}function Wp(a,s,l,u,p,g,T,k,V,oe,Se,Ne,me,ye){if(a.timeoutHandle=-1,Ne=s.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Ip(s,g,Ne);var Je=(g&62914560)===g?Yc-ut():(g&4194048)===g?$p-ut():0;if(Je=YS(Ne,Je),Je!==null){$n=g,a.cancelPendingCommit=Je(tg.bind(null,a,s,g,l,u,p,T,k,V,Se,Ne,null,me,ye)),ps(a,g,T,!oe);return}}tg(a,s,g,l,u,p,T,k,V)}function uS(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!xa(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(a,s,l,u){s&=~zh,s&=~Qs,a.suspendedLanes|=s,a.pingedLanes&=~s,u&&(a.warmLanes|=s),u=a.expirationTimes;for(var p=s;0<p;){var g=31-Nt(p),T=1<<g;u[g]=-1,p&=~T}l!==0&&xi(a,l,s)}function Jc(){return(Bt&6)===0?(uo(0),!1):!0}function Wh(){if(yt!==null){if(It===0)var a=yt.return;else a=yt,Dn=$s=null,ch(a),Fi=null,Vl=0,a=yt;for(;a!==null;)Tp(a.alternate,a),a=a.return;yt=null}}function Yi(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,jS(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),$n=0,Wh(),Jt=a,yt=l=jn(a.current,null),wt=s,It=0,Ta=null,fs=!1,Gi=qe(a,s),Hh=!1,Vi=Ea=zh=Qs=hs=_r=0,ma=oo=null,$h=!1,(s&8)!==0&&(s|=s&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=s;0<u;){var p=31-Nt(u),g=1<<p;s|=a[p],u&=~g}return zn=s,vc(),l}function Yp(a,s){dt=null,W.H=eo,s===Pi||s===Ac?(s=u1(),It=3):s===Jf?(s=u1(),It=4):It=s===Eh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ta=s,yt===null&&(_r=1,Uc(a,Ga(s,a.current)))}function Xp(){var a=Sa.current;return a===null?!0:(wt&4194048)===wt?Xa===null:(wt&62914560)===wt||(wt&536870912)!==0?a===Xa:!1}function Kp(){var a=W.H;return W.H=eo,a===null?eo:a}function Jp(){var a=W.A;return W.A=oS,a}function Qc(){_r=4,fs||(wt&4194048)!==wt&&Sa.current!==null||(Gi=!0),(hs&134217727)===0&&(Qs&134217727)===0||Jt===null||ps(Jt,wt,Ea,!1)}function Yh(a,s,l){var u=Bt;Bt|=2;var p=Kp(),g=Jp();(Jt!==a||wt!==s)&&(Kc=null,Yi(a,s)),s=!1;var T=_r;e:do try{if(It!==0&&yt!==null){var k=yt,V=Ta;switch(It){case 8:Wh(),T=6;break e;case 3:case 2:case 9:case 6:Sa.current===null&&(s=!0);var oe=It;if(It=0,Ta=null,Xi(a,k,V,oe),l&&Gi){T=0;break e}break;default:oe=It,It=0,Ta=null,Xi(a,k,V,oe)}}fS(),T=_r;break}catch(Se){Yp(a,Se)}while(!0);return s&&a.shellSuspendCounter++,Dn=$s=null,Bt=u,W.H=p,W.A=g,yt===null&&(Jt=null,wt=0,vc()),T}function fS(){for(;yt!==null;)Qp(yt)}function hS(a,s){var l=Bt;Bt|=2;var u=Kp(),p=Jp();Jt!==a||wt!==s?(Kc=null,Xc=ut()+500,Yi(a,s)):Gi=qe(a,s);e:do try{if(It!==0&&yt!==null){s=yt;var g=Ta;t:switch(It){case 1:It=0,Ta=null,Xi(a,s,g,1);break;case 2:case 9:if(o1(g)){It=0,Ta=null,Zp(s);break}s=function(){It!==2&&It!==9||Jt!==a||(It=7),Sn(a)},g.then(s,s);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:o1(g)?(It=0,Ta=null,Zp(s)):(It=0,Ta=null,Xi(a,s,g,7));break;case 5:var T=null;switch(yt.tag){case 26:T=yt.memoizedState;case 5:case 27:var k=yt;if(T?Fg(T):k.stateNode.complete){It=0,Ta=null;var V=k.sibling;if(V!==null)yt=V;else{var oe=k.return;oe!==null?(yt=oe,Zc(oe)):yt=null}break t}}It=0,Ta=null,Xi(a,s,g,5);break;case 6:It=0,Ta=null,Xi(a,s,g,6);break;case 8:Wh(),_r=6;break e;default:throw Error(n(462))}}dS();break}catch(Se){Yp(a,Se)}while(!0);return Dn=$s=null,W.H=u,W.A=p,Bt=l,yt!==null?0:(Jt=null,wt=0,vc(),_r)}function dS(){for(;yt!==null&&!rt();)Qp(yt)}function Qp(a){var s=Sp(a.alternate,a,zn);a.memoizedProps=a.pendingProps,s===null?Zc(a):yt=s}function Zp(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=gp(l,s,s.pendingProps,s.type,void 0,wt);break;case 11:s=gp(l,s,s.pendingProps,s.type.render,s.ref,wt);break;case 5:ch(s);default:Tp(l,s),s=yt=Jm(s,zn),s=Sp(l,s,zn)}a.memoizedProps=a.pendingProps,s===null?Zc(a):yt=s}function Xi(a,s,l,u){Dn=$s=null,ch(s),Fi=null,Vl=0;var p=s.return;try{if(tS(a,p,s,l,wt)){_r=1,Uc(a,Ga(l,a.current)),yt=null;return}}catch(g){if(p!==null)throw yt=p,g;_r=1,Uc(a,Ga(l,a.current)),yt=null;return}s.flags&32768?(Tt||u===1?a=!0:Gi||(wt&536870912)!==0?a=!1:(fs=a=!0,(u===2||u===9||u===3||u===6)&&(u=Sa.current,u!==null&&u.tag===13&&(u.flags|=16384))),eg(s,a)):Zc(s)}function Zc(a){var s=a;do{if((s.flags&32768)!==0){eg(s,fs);return}a=s.return;var l=nS(s.alternate,s,zn);if(l!==null){yt=l;return}if(s=s.sibling,s!==null){yt=s;return}yt=s=a}while(s!==null);_r===0&&(_r=5)}function eg(a,s){do{var l=sS(a.alternate,a);if(l!==null){l.flags&=32767,yt=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){yt=a;return}yt=a=l}while(a!==null);_r=6,yt=null}function tg(a,s,l,u,p,g,T,k,V){a.cancelPendingCommit=null;do eu();while(Br!==0);if((Bt&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=Lf,Kt(a,l,g,T,k,V),a===Jt&&(yt=Jt=null,wt=0),Wi=s,ms=a,$n=l,qh=g,Gh=p,qp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_S(Et,function(){return ig(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,p=xe.p,xe.p=2,T=Bt,Bt|=4;try{iS(a,s,l)}finally{Bt=T,xe.p=p,W.T=u}}Br=1,rg(),ag(),ng()}}function rg(){if(Br===1){Br=0;var a=ms,s=Wi,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var u=xe.p;xe.p=2;var p=Bt;Bt|=4;try{Lp(s,a);var g=id,T=zm(a.containerInfo),k=g.focusedElem,V=g.selectionRange;if(T!==k&&k&&k.ownerDocument&&Hm(k.ownerDocument.documentElement,k)){if(V!==null&&Of(k)){var oe=V.start,Se=V.end;if(Se===void 0&&(Se=oe),"selectionStart"in k)k.selectionStart=oe,k.selectionEnd=Math.min(Se,k.value.length);else{var Ne=k.ownerDocument||document,me=Ne&&Ne.defaultView||window;if(me.getSelection){var ye=me.getSelection(),Je=k.textContent.length,it=Math.min(V.start,Je),Yt=V.end===void 0?it:Math.min(V.end,Je);!ye.extend&&it>Yt&&(T=Yt,Yt=it,it=T);var re=Um(k,it),K=Um(k,Yt);if(re&&K&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==K.node||ye.focusOffset!==K.offset)){var le=Ne.createRange();le.setStart(re.node,re.offset),ye.removeAllRanges(),it>Yt?(ye.addRange(le),ye.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ye.addRange(le))}}}}for(Ne=[],ye=k;ye=ye.parentNode;)ye.nodeType===1&&Ne.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Ne.length;k++){var Ae=Ne[k];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}hu=!!sd,id=sd=null}finally{Bt=p,xe.p=u,W.T=l}}a.current=s,Br=2}}function ag(){if(Br===2){Br=0;var a=ms,s=Wi,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var u=xe.p;xe.p=2;var p=Bt;Bt|=4;try{Op(a,s.alternate,s)}finally{Bt=p,xe.p=u,W.T=l}}Br=3}}function ng(){if(Br===4||Br===3){Br=0,Rt();var a=ms,s=Wi,l=$n,u=qp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Br=5:(Br=0,Wi=ms=null,sg(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(ds=null),Ol(l),s=s.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(ra,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,p=xe.p,xe.p=2,W.T=null;try{for(var g=a.onRecoverableError,T=0;T<u.length;T++){var k=u[T];g(k.value,{componentStack:k.stack})}}finally{W.T=s,xe.p=p}}($n&3)!==0&&eu(),Sn(a),p=a.pendingLanes,(l&261930)!==0&&(p&42)!==0?a===Vh?co++:(co=0,Vh=a):co=0,uo(0)}}function sg(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,ql(s)))}function eu(){return rg(),ag(),ng(),ig()}function ig(){if(Br!==5)return!1;var a=ms,s=qh;qh=0;var l=Ol($n),u=W.T,p=xe.p;try{xe.p=32>l?32:l,W.T=null,l=Gh,Gh=null;var g=ms,T=$n;if(Br=0,Wi=ms=null,$n=0,(Bt&6)!==0)throw Error(n(331));var k=Bt;if(Bt|=4,Hp(g.current),Fp(g,g.current,T,l),Bt=k,uo(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(ra,g)}catch{}return!0}finally{xe.p=p,W.T=u,sg(a,s)}}function lg(a,s,l){s=Ga(l,s),s=Th(a.stateNode,s,2),a=ls(a,s,2),a!==null&&(pr(a,2),Sn(a))}function Ut(a,s,l){if(a.tag===3)lg(a,a,l);else for(;s!==null;){if(s.tag===3){lg(s,a,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){a=Ga(l,a),l=op(2),u=ls(s,l,2),u!==null&&(cp(l,u,s,a),pr(u,2),Sn(u));break}}s=s.return}}function Xh(a,s,l){var u=a.pingCache;if(u===null){u=a.pingCache=new cS;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(Hh=!0,p.add(l),a=mS.bind(null,a,s,l),s.then(a,a))}function mS(a,s,l){var u=a.pingCache;u!==null&&u.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Jt===a&&(wt&l)===l&&(_r===4||_r===3&&(wt&62914560)===wt&&300>ut()-Yc?(Bt&2)===0&&Yi(a,0):zh|=l,Vi===wt&&(Vi=0)),Sn(a)}function og(a,s){s===0&&(s=vt()),a=Us(a,s),a!==null&&(pr(a,s),Sn(a))}function pS(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),og(a,l)}function gS(a,s){var l=0;switch(a.tag){case 31:case 13:var u=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),og(a,l)}function _S(a,s){return Me(a,s)}var tu=null,Ki=null,Kh=!1,ru=!1,Jh=!1,gs=0;function Sn(a){a!==Ki&&a.next===null&&(Ki===null?tu=Ki=a:Ki=Ki.next=a),ru=!0,Kh||(Kh=!0,yS())}function uo(a,s){if(!Jh&&ru){Jh=!0;do for(var l=!1,u=tu;u!==null;){if(a!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var T=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-Nt(42|a)+1)-1,g&=p&~(T&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,hg(u,g))}else g=wt,g=Re(u,u===Jt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||qe(u,g)||(l=!0,hg(u,g));u=u.next}while(l);Jh=!1}}function vS(){cg()}function cg(){ru=Kh=!1;var a=0;gs!==0&&kS()&&(a=gs);for(var s=ut(),l=null,u=tu;u!==null;){var p=u.next,g=ug(u,s);g===0?(u.next=null,l===null?tu=p:l.next=p,p===null&&(Ki=l)):(l=u,(a!==0||(g&3)!==0)&&(ru=!0)),u=p}Br!==0&&Br!==5||uo(a),gs!==0&&(gs=0)}function ug(a,s){for(var l=a.suspendedLanes,u=a.pingedLanes,p=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var T=31-Nt(g),k=1<<T,V=p[T];V===-1?((k&l)===0||(k&u)!==0)&&(p[T]=bt(k,s)):V<=s&&(a.expiredLanes|=k),g&=~k}if(s=Jt,l=wt,l=Re(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,l===0||a===s&&(It===2||It===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&ze(u),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||qe(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(u!==null&&ze(u),Ol(l)){case 2:case 8:l=hr;break;case 32:l=Et;break;case 268435456:l=Rr;break;default:l=Et}return u=fg.bind(null,a),l=Me(l,u),a.callbackPriority=s,a.callbackNode=l,s}return u!==null&&u!==null&&ze(u),a.callbackPriority=2,a.callbackNode=null,2}function fg(a,s){if(Br!==0&&Br!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(eu()&&a.callbackNode!==l)return null;var u=wt;return u=Re(a,a===Jt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(Vp(a,u,s),ug(a,ut()),a.callbackNode!=null&&a.callbackNode===l?fg.bind(null,a):null)}function hg(a,s){if(eu())return null;Vp(a,s,!0)}function yS(){OS(function(){(Bt&6)!==0?Me(Qt,vS):cg()})}function Qh(){if(gs===0){var a=Mi;a===0&&(a=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),gs=a}return gs}function dg(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:uc(""+a)}function mg(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function xS(a,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var g=dg((p[M]||null).action),T=u.submitter;T&&(s=(s=T[M]||null)?dg(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var k=new mc("action","action",null,u,p);a.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(gs!==0){var V=T?mg(p,T):new FormData(p);vh(l,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(k.preventDefault(),V=T?mg(p,T):new FormData(p),vh(l,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var Zh=0;Zh<Mf.length;Zh++){var ed=Mf[Zh],wS=ed.toLowerCase(),SS=ed[0].toUpperCase()+ed.slice(1);an(wS,"on"+SS)}an(Gm,"onAnimationEnd"),an(Vm,"onAnimationIteration"),an(Wm,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(F2,"onTransitionRun"),an(I2,"onTransitionStart"),an(U2,"onTransitionCancel"),an(Ym,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function pg(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var u=a[l],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var k=u[T],V=k.instance,oe=k.currentTarget;if(k=k.listener,V!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=oe;try{g(p)}catch(Se){_c(Se)}p.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(k=u[T],V=k.instance,oe=k.currentTarget,k=k.listener,V!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=oe;try{g(p)}catch(Se){_c(Se)}p.currentTarget=null,g=V}}}}function xt(a,s){var l=s[ce];l===void 0&&(l=s[ce]=new Set);var u=a+"__bubble";l.has(u)||(gg(s,a,2,!1),l.add(u))}function td(a,s,l){var u=0;s&&(u|=4),gg(l,a,u,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function rd(a){if(!a[au]){a[au]=!0,Zt.forEach(function(l){l!=="selectionchange"&&(bS.has(l)||td(l,!1,a),td(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[au]||(s[au]=!0,td("selectionchange",!1,s))}}function gg(a,s,l,u){switch(Gg(s)){case 2:var p=JS;break;case 8:p=QS;break;default:p=_d}l=p.bind(null,s,l,a),p=void 0,!Sf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?a.addEventListener(s,l,{capture:!0,passive:p}):a.addEventListener(s,l,!0):p!==void 0?a.addEventListener(s,l,{passive:p}):a.addEventListener(s,l,!1)}function ad(a,s,l,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var k=u.stateNode.containerInfo;if(k===p)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;k!==null;){if(T=Ue(k),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue e}k=k.parentNode}}u=u.return}wm(function(){var oe=g,Se=xf(l),Ne=[];e:{var me=Xm.get(a);if(me!==void 0){var ye=mc,Je=a;switch(a){case"keypress":if(hc(l)===0)break e;case"keydown":case"keyup":ye=g2;break;case"focusin":Je="focus",ye=Af;break;case"focusout":Je="blur",ye=Af;break;case"beforeblur":case"afterblur":ye=Af;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=n2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=y2;break;case Gm:case Vm:case Wm:ye=l2;break;case Ym:ye=w2;break;case"scroll":case"scrollend":ye=r2;break;case"wheel":ye=b2;break;case"copy":case"cut":case"paste":ye=c2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Am;break;case"toggle":case"beforetoggle":ye=E2}var it=(s&4)!==0,Yt=!it&&(a==="scroll"||a==="scrollend"),re=it?me!==null?me+"Capture":null:me;it=[];for(var K=oe,le;K!==null;){var Ae=K;if(le=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||le===null||re===null||(Ae=Rl(K,re),Ae!=null&&it.push(ho(K,Ae,le))),Yt)break;K=K.return}0<it.length&&(me=new ye(me,Je,null,l,Se),Ne.push({event:me,listeners:it}))}}if((s&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",ye=a==="mouseout"||a==="pointerout",me&&l!==yf&&(Je=l.relatedTarget||l.fromElement)&&(Ue(Je)||Je[F]))break e;if((ye||me)&&(me=Se.window===Se?Se:(me=Se.ownerDocument)?me.defaultView||me.parentWindow:window,ye?(Je=l.relatedTarget||l.toElement,ye=oe,Je=Je?Ue(Je):null,Je!==null&&(Yt=o(Je),it=Je.tag,Je!==Yt||it!==5&&it!==27&&it!==6)&&(Je=null)):(ye=null,Je=oe),ye!==Je)){if(it=Tm,Ae="onMouseLeave",re="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(it=Am,Ae="onPointerLeave",re="onPointerEnter",K="pointer"),Yt=ye==null?me:Pe(ye),le=Je==null?me:Pe(Je),me=new it(Ae,K+"leave",ye,l,Se),me.target=Yt,me.relatedTarget=le,Ae=null,Ue(Se)===oe&&(it=new it(re,K+"enter",Je,l,Se),it.target=le,it.relatedTarget=Yt,Ae=it),Yt=Ae,ye&&Je)t:{for(it=TS,re=ye,K=Je,le=0,Ae=re;Ae;Ae=it(Ae))le++;Ae=0;for(var nt=K;nt;nt=it(nt))Ae++;for(;0<le-Ae;)re=it(re),le--;for(;0<Ae-le;)K=it(K),Ae--;for(;le--;){if(re===K||K!==null&&re===K.alternate){it=re;break t}re=it(re),K=it(K)}it=null}else it=null;ye!==null&&_g(Ne,me,ye,it,!1),Je!==null&&Yt!==null&&_g(Ne,Yt,Je,it,!0)}}e:{if(me=oe?Pe(oe):window,ye=me.nodeName&&me.nodeName.toLowerCase(),ye==="select"||ye==="input"&&me.type==="file")var kt=Bm;else if(Dm(me))if(Mm)kt=M2;else{kt=R2;var et=D2}else ye=me.nodeName,!ye||ye.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?oe&&vf(oe.elementType)&&(kt=Bm):kt=B2;if(kt&&(kt=kt(a,oe))){Rm(Ne,kt,l,Se);break e}et&&et(a,me,oe),a==="focusout"&&oe&&me.type==="number"&&oe.memoizedProps.value!=null&&_f(me,"number",me.value)}switch(et=oe?Pe(oe):window,a){case"focusin":(Dm(et)||et.contentEditable==="true")&&(Ci=et,Df=oe,Hl=null);break;case"focusout":Hl=Df=Ci=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,$m(Ne,l,Se);break;case"selectionchange":if(P2)break;case"keydown":case"keyup":$m(Ne,l,Se)}var mt;if(Nf)e:{switch(a){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Ai?jm(a,l)&&(St="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(St="onCompositionStart");St&&(Cm&&l.locale!=="ko"&&(Ai||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ai&&(mt=Sm()):(es=Se,bf="value"in es?es.value:es.textContent,Ai=!0)),et=nu(oe,St),0<et.length&&(St=new Em(St,a,null,l,Se),Ne.push({event:St,listeners:et}),mt?St.data=mt:(mt=Om(l),mt!==null&&(St.data=mt)))),(mt=C2?N2(a,l):k2(a,l))&&(St=nu(oe,"onBeforeInput"),0<St.length&&(et=new Em("onBeforeInput","beforeinput",null,l,Se),Ne.push({event:et,listeners:St}),et.data=mt)),xS(Ne,a,oe,l,Se)}pg(Ne,s)})}function ho(a,s,l){return{instance:a,listener:s,currentTarget:l}}function nu(a,s){for(var l=s+"Capture",u=[];a!==null;){var p=a,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Rl(a,l),p!=null&&u.unshift(ho(a,p,g)),p=Rl(a,s),p!=null&&u.push(ho(a,p,g))),a.tag===3)return u;a=a.return}return[]}function TS(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _g(a,s,l,u,p){for(var g=s._reactName,T=[];l!==null&&l!==u;){var k=l,V=k.alternate,oe=k.stateNode;if(k=k.tag,V!==null&&V===u)break;k!==5&&k!==26&&k!==27||oe===null||(V=oe,p?(oe=Rl(l,g),oe!=null&&T.unshift(ho(l,oe,V))):p||(oe=Rl(l,g),oe!=null&&T.push(ho(l,oe,V)))),l=l.return}T.length!==0&&a.push({event:s,listeners:T})}var ES=/\r\n?/g,AS=/\u0000|\uFFFD/g;function vg(a){return(typeof a=="string"?a:""+a).replace(ES,`
`).replace(AS,"")}function yg(a,s){return s=vg(s),vg(a)===s}function Wt(a,s,l,u,p,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||bi(a,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&bi(a,""+u);break;case"className":oc(a,"class",u);break;case"tabIndex":oc(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(a,l,u);break;case"style":ym(a,u,g);break;case"data":if(s!=="object"){oc(a,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=uc(""+u),a.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&Wt(a,s,"name",p.name,p,null),Wt(a,s,"formEncType",p.formEncType,p,null),Wt(a,s,"formMethod",p.formMethod,p,null),Wt(a,s,"formTarget",p.formTarget,p,null)):(Wt(a,s,"encType",p.encType,p,null),Wt(a,s,"method",p.method,p,null),Wt(a,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=uc(""+u),a.setAttribute(l,u);break;case"onClick":u!=null&&(a.onclick=Nn);break;case"onScroll":u!=null&&xt("scroll",a);break;case"onScrollEnd":u!=null&&xt("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}l=uc(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""+u):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":u===!0?a.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,u):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(l,u):a.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(l):a.setAttribute(l,u);break;case"popover":xt("beforetoggle",a),xt("toggle",a),ca(a,"popover",u);break;case"xlinkActuate":Cn(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ca(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=e2.get(l)||l,ca(a,l,u))}}function nd(a,s,l,u,p,g){switch(l){case"style":ym(a,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof u=="string"?bi(a,u):(typeof u=="number"||typeof u=="bigint")&&bi(a,""+u);break;case"onScroll":u!=null&&xt("scroll",a);break;case"onScrollEnd":u!=null&&xt("scrollend",a);break;case"onClick":u!=null&&(a.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!er.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=a[M]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,u,p);break e}l in a?a[l]=u:u===!0?a.setAttribute(l,""):ca(a,l,u)}}}function qr(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",a),xt("load",a);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Wt(a,s,g,T,l,null)}}p&&Wt(a,s,"srcSet",l.srcSet,l,null),u&&Wt(a,s,"src",l.src,l,null);return;case"input":xt("invalid",a);var k=g=T=p=null,V=null,oe=null;for(u in l)if(l.hasOwnProperty(u)){var Se=l[u];if(Se!=null)switch(u){case"name":p=Se;break;case"type":T=Se;break;case"checked":V=Se;break;case"defaultChecked":oe=Se;break;case"value":g=Se;break;case"defaultValue":k=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,s));break;default:Wt(a,s,u,Se,l,null)}}pm(a,g,k,V,oe,T,p,!1);return;case"select":xt("invalid",a),u=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":T=k;break;case"multiple":u=k;default:Wt(a,s,p,k,l,null)}s=g,l=T,a.multiple=!!u,s!=null?Si(a,!!u,s,!1):l!=null&&Si(a,!!u,l,!0);return;case"textarea":xt("invalid",a),g=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(k=l[T],k!=null))switch(T){case"value":u=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:Wt(a,s,T,k,l,null)}_m(a,u,p,g);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(a,s,V,u,l,null)}return;case"dialog":xt("beforetoggle",a),xt("toggle",a),xt("cancel",a),xt("close",a);break;case"iframe":case"object":xt("load",a);break;case"video":case"audio":for(u=0;u<fo.length;u++)xt(fo[u],a);break;case"image":xt("error",a),xt("load",a);break;case"details":xt("toggle",a);break;case"embed":case"source":case"link":xt("error",a),xt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(u=l[oe],u!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Wt(a,s,oe,u,l,null)}return;default:if(vf(s)){for(Se in l)l.hasOwnProperty(Se)&&(u=l[Se],u!==void 0&&nd(a,s,Se,u,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!=null&&Wt(a,s,k,u,l,null))}function CS(a,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,k=null,V=null,oe=null,Se=null;for(ye in l){var Ne=l[ye];if(l.hasOwnProperty(ye)&&Ne!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":V=Ne;default:u.hasOwnProperty(ye)||Wt(a,s,ye,null,u,Ne)}}for(var me in u){var ye=u[me];if(Ne=l[me],u.hasOwnProperty(me)&&(ye!=null||Ne!=null))switch(me){case"type":g=ye;break;case"name":p=ye;break;case"checked":oe=ye;break;case"defaultChecked":Se=ye;break;case"value":T=ye;break;case"defaultValue":k=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,s));break;default:ye!==Ne&&Wt(a,s,me,ye,u,Ne)}}gf(a,T,k,V,oe,Se,g,p);return;case"select":ye=T=k=me=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ye=V;default:u.hasOwnProperty(g)||Wt(a,s,g,null,u,V)}for(p in u)if(g=u[p],V=l[p],u.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":me=g;break;case"defaultValue":k=g;break;case"multiple":T=g;default:g!==V&&Wt(a,s,p,g,u,V)}s=k,l=T,u=ye,me!=null?Si(a,!!l,me,!1):!!u!=!!l&&(s!=null?Si(a,!!l,s,!0):Si(a,!!l,l?[]:"",!1));return;case"textarea":ye=me=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Wt(a,s,k,null,u,p)}for(T in u)if(p=u[T],g=l[T],u.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":me=p;break;case"defaultValue":ye=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==g&&Wt(a,s,T,p,u,g)}gm(a,me,ye);return;case"option":for(var Je in l)if(me=l[Je],l.hasOwnProperty(Je)&&me!=null&&!u.hasOwnProperty(Je))switch(Je){case"selected":a.selected=!1;break;default:Wt(a,s,Je,null,u,me)}for(V in u)if(me=u[V],ye=l[V],u.hasOwnProperty(V)&&me!==ye&&(me!=null||ye!=null))switch(V){case"selected":a.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Wt(a,s,V,me,u,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in l)me=l[it],l.hasOwnProperty(it)&&me!=null&&!u.hasOwnProperty(it)&&Wt(a,s,it,null,u,me);for(oe in u)if(me=u[oe],ye=l[oe],u.hasOwnProperty(oe)&&me!==ye&&(me!=null||ye!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,s));break;default:Wt(a,s,oe,me,u,ye)}return;default:if(vf(s)){for(var Yt in l)me=l[Yt],l.hasOwnProperty(Yt)&&me!==void 0&&!u.hasOwnProperty(Yt)&&nd(a,s,Yt,void 0,u,me);for(Se in u)me=u[Se],ye=l[Se],!u.hasOwnProperty(Se)||me===ye||me===void 0&&ye===void 0||nd(a,s,Se,me,u,ye);return}}for(var re in l)me=l[re],l.hasOwnProperty(re)&&me!=null&&!u.hasOwnProperty(re)&&Wt(a,s,re,null,u,me);for(Ne in u)me=u[Ne],ye=l[Ne],!u.hasOwnProperty(Ne)||me===ye||me==null&&ye==null||Wt(a,s,Ne,me,u,ye)}function xg(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],g=p.transferSize,T=p.initiatorType,k=p.duration;if(g&&k&&xg(T)){for(T=0,k=p.responseEnd,u+=1;u<l.length;u++){var V=l[u],oe=V.startTime;if(oe>k)break;var Se=V.transferSize,Ne=V.initiatorType;Se&&xg(Ne)&&(V=V.responseEnd,T+=Se*(V<k?1:(k-oe)/(V-oe)))}if(--u,s+=8*(g+T)/(p.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var sd=null,id=null;function su(a){return a.nodeType===9?a:a.ownerDocument}function wg(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function ld(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=null;function kS(){var a=window.event;return a&&a.type==="popstate"?a===od?!1:(od=a,!0):(od=null,!1)}var bg=typeof setTimeout=="function"?setTimeout:void 0,jS=typeof clearTimeout=="function"?clearTimeout:void 0,Tg=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof Tg<"u"?function(a){return Tg.resolve(null).then(a).catch(DS)}:bg;function DS(a){setTimeout(function(){throw a})}function _s(a){return a==="head"}function Eg(a,s){var l=s,u=0;do{var p=l.nextSibling;if(a.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){a.removeChild(p),el(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")mo(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,mo(l);for(var g=l.firstChild;g;){var T=g.nextSibling,k=g.nodeName;g[pe]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=T}}else l==="body"&&mo(a.ownerDocument.body);l=p}while(l);el(s)}function Ag(a,s){var l=a;a=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=u}while(l)}function cd(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cd(l),Be(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function RS(a,s,l,u){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[pe])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=Ka(a.nextSibling),a===null)break}return null}function BS(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ka(a.nextSibling),a===null))return null;return a}function Cg(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Ka(a.nextSibling),a===null))return null;return a}function ud(a){return a.data==="$?"||a.data==="$~"}function fd(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function MS(a,s){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function Ka(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var hd=null;function Ng(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(s===0)return Ka(a.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}a=a.nextSibling}return null}function kg(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return a;s--}else l!=="/$"&&l!=="/&"||s++}a=a.previousSibling}return null}function jg(a,s,l){switch(s=su(l),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function mo(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Be(a)}var Ja=new Map,Og=new Set;function iu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var qn=xe.d;xe.d={f:LS,r:PS,D:FS,C:IS,L:US,m:HS,X:$S,S:zS,M:qS};function LS(){var a=qn.f(),s=Jc();return a||s}function PS(a){var s=Ye(a);s!==null&&s.tag===5&&s.type==="form"?Y1(s):qn.r(a)}var Ji=typeof document>"u"?null:document;function Dg(a,s,l){var u=Ji;if(u&&typeof s=="string"&&s){var p=$a(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Og.has(p)||(Og.add(p),a={rel:a,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),qr(s,"link",a),Qe(s),u.head.appendChild(s)))}}function FS(a){qn.D(a),Dg("dns-prefetch",a,null)}function IS(a,s){qn.C(a,s),Dg("preconnect",a,s)}function US(a,s,l){qn.L(a,s,l);var u=Ji;if(u&&a&&s){var p='link[rel="preload"][as="'+$a(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+$a(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+$a(l.imageSizes)+'"]')):p+='[href="'+$a(a)+'"]';var g=p;switch(s){case"style":g=Qi(a);break;case"script":g=Zi(a)}Ja.has(g)||(a=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Ja.set(g,a),u.querySelector(p)!==null||s==="style"&&u.querySelector(po(g))||s==="script"&&u.querySelector(go(g))||(s=u.createElement("link"),qr(s,"link",a),Qe(s),u.head.appendChild(s)))}}function HS(a,s){qn.m(a,s);var l=Ji;if(l&&a){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+$a(u)+'"][href="'+$a(a)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zi(a)}if(!Ja.has(g)&&(a=v({rel:"modulepreload",href:a},s),Ja.set(g,a),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(go(g)))return}u=l.createElement("link"),qr(u,"link",a),Qe(u),l.head.appendChild(u)}}}function zS(a,s,l){qn.S(a,s,l);var u=Ji;if(u&&a){var p=Ge(u).hoistableStyles,g=Qi(a);s=s||"default";var T=p.get(g);if(!T){var k={loading:0,preload:null};if(T=u.querySelector(po(g)))k.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Ja.get(g))&&dd(a,l);var V=T=u.createElement("link");Qe(V),qr(V,"link",a),V._p=new Promise(function(oe,Se){V.onload=oe,V.onerror=Se}),V.addEventListener("load",function(){k.loading|=1}),V.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lu(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:k},p.set(g,T)}}}function $S(a,s){qn.X(a,s);var l=Ji;if(l&&a){var u=Ge(l).hoistableScripts,p=Zi(a),g=u.get(p);g||(g=l.querySelector(go(p)),g||(a=v({src:a,async:!0},s),(s=Ja.get(p))&&md(a,s),g=l.createElement("script"),Qe(g),qr(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function qS(a,s){qn.M(a,s);var l=Ji;if(l&&a){var u=Ge(l).hoistableScripts,p=Zi(a),g=u.get(p);g||(g=l.querySelector(go(p)),g||(a=v({src:a,async:!0,type:"module"},s),(s=Ja.get(p))&&md(a,s),g=l.createElement("script"),Qe(g),qr(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Rg(a,s,l,u){var p=(p=ie.current)?iu(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Qi(l.href),l=Ge(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Qi(l.href);var g=Ge(p).hoistableStyles,T=g.get(a);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,T),(g=p.querySelector(po(a)))&&!g._p&&(T.instance=g,T.state.loading=5),Ja.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ja.set(a,l),g||GS(p,a,l,T.state))),s&&u===null)throw Error(n(528,""));return T}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zi(l),l=Ge(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Qi(a){return'href="'+$a(a)+'"'}function po(a){return'link[rel="stylesheet"]['+a+"]"}function Bg(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function GS(a,s,l,u){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=a.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qr(s,"link",l),Qe(s),a.head.appendChild(s))}function Zi(a){return'[src="'+$a(a)+'"]'}function go(a){return"script[async]"+a}function Mg(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=a.querySelector('style[data-href~="'+$a(l.href)+'"]');if(u)return s.instance=u,Qe(u),u;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),Qe(u),qr(u,"style",p),lu(u,l.precedence,a),s.instance=u;case"stylesheet":p=Qi(l.href);var g=a.querySelector(po(p));if(g)return s.state.loading|=4,s.instance=g,Qe(g),g;u=Bg(l),(p=Ja.get(p))&&dd(u,p),g=(a.ownerDocument||a).createElement("link"),Qe(g);var T=g;return T._p=new Promise(function(k,V){T.onload=k,T.onerror=V}),qr(g,"link",u),s.state.loading|=4,lu(g,l.precedence,a),s.instance=g;case"script":return g=Zi(l.src),(p=a.querySelector(go(g)))?(s.instance=p,Qe(p),p):(u=l,(p=Ja.get(g))&&(u=v({},l),md(u,p)),a=a.ownerDocument||a,p=a.createElement("script"),Qe(p),qr(p,"link",u),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,lu(u,l.precedence,a));return s.instance}function lu(a,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,T=0;T<u.length;T++){var k=u[T];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(a,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function dd(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function md(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var ou=null;function Lg(a,s,l){if(ou===null){var u=new Map,p=ou=new Map;p.set(l,u)}else p=ou,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(a))return u;for(u.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var g=l[p];if(!(g[pe]||g[D]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=a+T;var k=u.get(T);k?k.push(g):u.set(T,[g])}}return u}function Pg(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function VS(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Fg(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function WS(a,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Qi(u.href),g=s.querySelector(po(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=cu.bind(a),s.then(a,a)),l.state.loading|=4,l.instance=g,Qe(g);return}g=s.ownerDocument||s,u=Bg(u),(p=Ja.get(p))&&dd(u,p),g=g.createElement("link"),Qe(g);var T=g;T._p=new Promise(function(k,V){T.onload=k,T.onerror=V}),qr(g,"link",u),l.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=cu.bind(a),s.addEventListener("load",l),s.addEventListener("error",l))}}var pd=0;function YS(a,s){return a.stylesheets&&a.count===0&&fu(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var u=setTimeout(function(){if(a.stylesheets&&fu(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4+s);0<a.imgBytes&&pd===0&&(pd=62500*NS());var p=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&fu(a,a.stylesheets),a.unsuspend)){var g=a.unsuspend;a.unsuspend=null,g()}},(a.imgBytes>pd?50:800)+s);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var uu=null;function fu(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,uu=new Map,s.forEach(XS,a),uu=null,cu.call(a))}function XS(a,s){if(!(s.state.loading&4)){var l=uu.get(a);if(l)var u=l.get(null);else{l=new Map,uu.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||u,g===u&&l.set(null,p),l.set(T,p),this.count++,u=cu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var _o={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function KS(a,s,l,u,p,g,T,k,V){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Ig(a,s,l,u,p,g,T,k,V,oe,Se,Ne){return a=new KS(a,s,l,T,V,oe,Se,Ne,k),s=1,g===!0&&(s|=24),g=wa(3,null,null,s),a.current=g,g.stateNode=a,s=Yf(),s.refCount++,a.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},Qf(g),a}function Ug(a){return a?(a=ji,a):ji}function Hg(a,s,l,u,p,g){p=Ug(p),u.context===null?u.context=p:u.pendingContext=p,u=is(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=ls(a,u,s),l!==null&&(pa(l,a,s),Yl(l,a,s))}function zg(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function gd(a,s){zg(a,s),(a=a.alternate)&&zg(a,s)}function $g(a){if(a.tag===13||a.tag===31){var s=Us(a,67108864);s!==null&&pa(s,a,67108864),gd(a,67108864)}}function qg(a){if(a.tag===13||a.tag===31){var s=Aa();s=jl(s);var l=Us(a,s);l!==null&&pa(l,a,s),gd(a,s)}}var hu=!0;function JS(a,s,l,u){var p=W.T;W.T=null;var g=xe.p;try{xe.p=2,_d(a,s,l,u)}finally{xe.p=g,W.T=p}}function QS(a,s,l,u){var p=W.T;W.T=null;var g=xe.p;try{xe.p=8,_d(a,s,l,u)}finally{xe.p=g,W.T=p}}function _d(a,s,l,u){if(hu){var p=vd(u);if(p===null)ad(a,s,u,du,l),Vg(a,u);else if(eb(p,a,s,l,u))u.stopPropagation();else if(Vg(a,u),s&4&&-1<ZS.indexOf(a)){for(;p!==null;){var g=Ye(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ae(g.pendingLanes);if(T!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var V=1<<31-Nt(T);k.entanglements[1]|=V,T&=~V}Sn(g),(Bt&6)===0&&(Xc=ut()+500,uo(0))}}break;case 31:case 13:k=Us(g,2),k!==null&&pa(k,g,2),Jc(),gd(g,2)}if(g=vd(u),g===null&&ad(a,s,u,du,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else ad(a,s,u,null,l)}}function vd(a){return a=xf(a),yd(a)}var du=null;function yd(a){if(du=null,a=Ue(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=c(s),a!==null)return a;a=null}else if(l===31){if(a=h(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return du=a,null}function Gg(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case Qt:return 2;case hr:return 8;case Et:case An:return 32;case Rr:return 268435456;default:return 32}default:return 32}}var xd=!1,vs=null,ys=null,xs=null,vo=new Map,yo=new Map,ws=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vg(a,s){switch(a){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":vo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(s.pointerId)}}function xo(a,s,l,u,p,g){return a===null||a.nativeEvent!==g?(a={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ye(s),s!==null&&$g(s)),a):(a.eventSystemFlags|=u,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function eb(a,s,l,u,p){switch(s){case"focusin":return vs=xo(vs,a,s,l,u,p),!0;case"dragenter":return ys=xo(ys,a,s,l,u,p),!0;case"mouseover":return xs=xo(xs,a,s,l,u,p),!0;case"pointerover":var g=p.pointerId;return vo.set(g,xo(vo.get(g)||null,a,s,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,yo.set(g,xo(yo.get(g)||null,a,s,l,u,p)),!0}return!1}function Wg(a){var s=Ue(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){a.blockedOn=s,L(a.priority,function(){qg(l)});return}}else if(s===31){if(s=h(l),s!==null){a.blockedOn=s,L(a.priority,function(){qg(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mu(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=vd(a.nativeEvent);if(l===null){l=a.nativeEvent;var u=new l.constructor(l.type,l);yf=u,l.target.dispatchEvent(u),yf=null}else return s=Ye(l),s!==null&&$g(s),a.blockedOn=l,!1;s.shift()}return!0}function Yg(a,s,l){mu(a)&&l.delete(s)}function tb(){xd=!1,vs!==null&&mu(vs)&&(vs=null),ys!==null&&mu(ys)&&(ys=null),xs!==null&&mu(xs)&&(xs=null),vo.forEach(Yg),yo.forEach(Yg)}function pu(a,s){a.blockedOn===s&&(a.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tb)))}var gu=null;function Xg(a){gu!==a&&(gu=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gu===a&&(gu=null);for(var s=0;s<a.length;s+=3){var l=a[s],u=a[s+1],p=a[s+2];if(typeof u!="function"){if(yd(u||l)===null)continue;break}var g=Ye(l);g!==null&&(a.splice(s,3),s-=3,vh(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function el(a){function s(V){return pu(V,a)}vs!==null&&pu(vs,a),ys!==null&&pu(ys,a),xs!==null&&pu(xs,a),vo.forEach(s),yo.forEach(s);for(var l=0;l<ws.length;l++){var u=ws[l];u.blockedOn===a&&(u.blockedOn=null)}for(;0<ws.length&&(l=ws[0],l.blockedOn===null);)Wg(l),l.blockedOn===null&&ws.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],T=p[M]||null;if(typeof g=="function")T||Xg(l);else if(T){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[M]||null)k=T.formAction;else if(yd(p)!==null)continue}else k=T.action;typeof k=="function"?l[u+1]=k:(l.splice(u,3),u-=3),Xg(l)}}}function Kg(){function a(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function wd(a){this._internalRoot=a}_u.prototype.render=wd.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,u=Aa();Hg(l,u,a,s,null,null)},_u.prototype.unmount=wd.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Hg(a.current,2,null,a,null,null),Jc(),s[F]=null}};function _u(a){this._internalRoot=a}_u.prototype.unstable_scheduleHydration=function(a){if(a){var s=A();a={blockedOn:null,target:a,priority:s};for(var l=0;l<ws.length&&s!==0&&s<ws[l].priority;l++);ws.splice(l,0,a),l===0&&Wg(a)}};var Jg=e.version;if(Jg!=="19.2.0")throw Error(n(527,Jg,"19.2.0"));xe.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m(s),a=a!==null?_(a):null,a=a===null?null:a.stateNode,a};var rb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{ra=vu.inject(rb),lr=vu}catch{}}return So.createRoot=function(a,s){if(!i(a))throw Error(n(299));var l=!1,u="",p=np,g=sp,T=ip;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Ig(a,1,!1,null,null,l,u,null,p,g,T,Kg),a[F]=s.current,rd(a),new wd(s)},So.hydrateRoot=function(a,s,l){if(!i(a))throw Error(n(299));var u=!1,p="",g=np,T=sp,k=ip,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),s=Ig(a,1,!0,s,l??null,u,p,V,g,T,k,Kg),s.context=Ug(null),l=s.current,u=Aa(),u=jl(u),p=is(u),p.callback=null,ls(l,p,u),l=u,s.current.lanes=l,pr(s,l),Sn(s),a[F]=s.current,rd(a),new _u(s)},So.version="19.2.0",So}var l_;function db(){if(l_)return Td.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Td.exports=hb(),Td.exports}var mb=db();const pb=S0(mb);qv();function Mo(){return Mo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mo.apply(this,arguments)}var As;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(As||(As={}));const o_="popstate";function gb(r){r===void 0&&(r={});function e(n,i){let{pathname:o,search:c,hash:h}=n.location;return Kd("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Gv(i)}return vb(e,t,null,r)}function jr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function E0(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _b(){return Math.random().toString(36).substr(2,8)}function c_(r,e){return{usr:r.state,key:r.key,idx:e}}function Kd(r,e,t,n){return t===void 0&&(t=null),Mo({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?bl(e):e,{state:t,key:e&&e.key||n||_b()})}function Gv(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function vb(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,h=As.Pop,d=null,m=_();m==null&&(m=0,c.replaceState(Mo({},c.state,{idx:m}),""));function _(){return(c.state||{idx:null}).idx}function v(){h=As.Pop;let S=_(),j=S==null?null:S-m;m=S,d&&d({action:h,location:w.location,delta:j})}function x(S,j){h=As.Push;let E=Kd(w.location,S,j);m=_()+1;let N=c_(E,m),B=w.createHref(E);try{c.pushState(N,"",B)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(B)}o&&d&&d({action:h,location:w.location,delta:1})}function y(S,j){h=As.Replace;let E=Kd(w.location,S,j);m=_();let N=c_(E,m),B=w.createHref(E);c.replaceState(N,"",B),o&&d&&d({action:h,location:w.location,delta:0})}function b(S){let j=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:Gv(S);return E=E.replace(/ $/,"%20"),jr(j,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,j)}let w={get action(){return h},get location(){return r(i,c)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(o_,v),d=S,()=>{i.removeEventListener(o_,v),d=null}},createHref(S){return e(i,S)},createURL:b,encodeLocation(S){let j=b(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:y,go(S){return c.go(S)}};return w}var u_;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(u_||(u_={}));function yb(r,e,t){return t===void 0&&(t="/"),xb(r,e,t)}function xb(r,e,t,n){let i=typeof e=="string"?bl(e):e,o=Yv(i.pathname||"/",t);if(o==null)return null;let c=Vv(r);wb(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Rb(o);h=jb(c[d],m)}return h}function Vv(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(jr(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let m=ci([n,d.relativePath]),_=t.concat(d);o.children&&o.children.length>0&&(jr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Vv(o.children,e,_,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:Nb(m,o.index),routesMeta:_})};return r.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,c);else for(let d of Wv(o.path))i(o,c,d)}),e}function Wv(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=Wv(n.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...c),h.map(d=>r.startsWith("/")&&d===""?"/":d)}function wb(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:kb(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Sb=/^:[\w-]+$/,bb=3,Tb=2,Eb=1,Ab=10,Cb=-2,f_=r=>r==="*";function Nb(r,e){let t=r.split("/"),n=t.length;return t.some(f_)&&(n+=Cb),e&&(n+=Tb),t.filter(i=>!f_(i)).reduce((i,o)=>i+(Sb.test(o)?bb:o===""?Eb:Ab),n)}function kb(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function jb(r,e,t){let{routesMeta:n}=r,i={},o="/",c=[];for(let h=0;h<n.length;++h){let d=n[h],m=h===n.length-1,_=o==="/"?e:e.slice(o.length)||"/",v=Ob({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},_),x=d.route;if(!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:ci([o,v.pathname]),pathnameBase:Fb(ci([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ci([o,v.pathnameBase]))}return c}function Ob(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Db(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:n.reduce((m,_,v)=>{let{paramName:x,isOptional:y}=_;if(x==="*"){let w=h[v]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=h[v];return y&&!b?m[x]=void 0:m[x]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:r}}function Db(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),E0(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(n.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Rb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E0(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Yv(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}const Bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mb=r=>Bb.test(r);function Lb(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?bl(r):r,o;if(t)if(Mb(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),E0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?o=h_(t.substring(1),"/"):o=h_(t,e)}else o=e;return{pathname:o,search:Ib(n),hash:Ub(i)}}function h_(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Nd(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pb(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xv(r,e){let t=Pb(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Kv(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=bl(r):(i=Mo({},r),jr(!i.pathname||!i.pathname.includes("?"),Nd("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),Nd("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),Nd("#","search","hash",i)));let o=r===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=t;else{let v=e.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}h=v>=0?e[v]:"/"}let d=Lb(i,h),m=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||_)&&(d.pathname+="/"),d}const ci=r=>r.join("/").replace(/\/\/+/g,"/"),Fb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ub=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Hb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Jv=["post","put","patch","delete"];new Set(Jv);const zb=["get",...Jv];new Set(zb);function Lo(){return Lo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Lo.apply(this,arguments)}const A0=q.createContext(null),$b=q.createContext(null),Ko=q.createContext(null),af=q.createContext(null),mi=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Qv=q.createContext(null);function Jo(){return q.useContext(af)!=null}function Qo(){return Jo()||jr(!1),q.useContext(af).location}function Zv(r){q.useContext(Ko).static||q.useLayoutEffect(r)}function tn(){let{isDataRoute:r}=q.useContext(mi);return r?rT():qb()}function qb(){Jo()||jr(!1);let r=q.useContext(A0),{basename:e,future:t,navigator:n}=q.useContext(Ko),{matches:i}=q.useContext(mi),{pathname:o}=Qo(),c=JSON.stringify(Xv(i,t.v7_relativeSplatPath)),h=q.useRef(!1);return Zv(()=>{h.current=!0}),q.useCallback(function(m,_){if(_===void 0&&(_={}),!h.current)return;if(typeof m=="number"){n.go(m);return}let v=Kv(m,JSON.parse(c),o,_.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ci([e,v.pathname])),(_.replace?n.replace:n.push)(v,_.state,_)},[e,n,c,o,r])}function Gb(r,e){return Vb(r,e)}function Vb(r,e,t,n){Jo()||jr(!1);let{navigator:i}=q.useContext(Ko),{matches:o}=q.useContext(mi),c=o[o.length-1],h=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let m=Qo(),_;if(e){var v;let S=typeof e=="string"?bl(e):e;d==="/"||(v=S.pathname)!=null&&v.startsWith(d)||jr(!1),_=S}else _=m;let x=_.pathname||"/",y=x;if(d!=="/"){let S=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=yb(r,{pathname:y}),w=Jb(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:ci([d,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:ci([d,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,t,n);return e&&w?q.createElement(af.Provider,{value:{location:Lo({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:As.Pop}},w):w}function Wb(){let r=tT(),e=Hb(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:i},t):null,null)}const Yb=q.createElement(Wb,null);class Xb extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?q.createElement(mi.Provider,{value:this.props.routeContext},q.createElement(Qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kb(r){let{routeContext:e,match:t,children:n}=r,i=q.useContext(A0);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(mi.Provider,{value:e},n)}function Jb(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,h=(i=t)==null?void 0:i.errors;if(h!=null){let _=c.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);_>=0||jr(!1),c=c.slice(0,Math.min(c.length,_+1))}let d=!1,m=-1;if(t&&n&&n.v7_partialHydration)for(let _=0;_<c.length;_++){let v=c[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=_),v.route.id){let{loaderData:x,errors:y}=t,b=v.route.loader&&x[v.route.id]===void 0&&(!y||y[v.route.id]===void 0);if(v.route.lazy||b){d=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((_,v,x)=>{let y,b=!1,w=null,S=null;t&&(y=h&&v.route.id?h[v.route.id]:void 0,w=v.route.errorElement||Yb,d&&(m<0&&x===0?(aT("route-fallback"),b=!0,S=null):m===x&&(b=!0,S=v.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,x+1)),E=()=>{let N;return y?N=w:b?N=S:v.route.Component?N=q.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=_,q.createElement(Kb,{match:v,routeContext:{outlet:_,matches:j,isDataRoute:t!=null},children:N})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?q.createElement(Xb,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):E()},null)}var ey=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(ey||{}),ty=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(ty||{});function Qb(r){let e=q.useContext(A0);return e||jr(!1),e}function Zb(r){let e=q.useContext($b);return e||jr(!1),e}function eT(r){let e=q.useContext(mi);return e||jr(!1),e}function ry(r){let e=eT(),t=e.matches[e.matches.length-1];return t.route.id||jr(!1),t.route.id}function tT(){var r;let e=q.useContext(Qv),t=Zb(),n=ry();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function rT(){let{router:r}=Qb(ey.UseNavigateStable),e=ry(ty.UseNavigateStable),t=q.useRef(!1);return Zv(()=>{t.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Lo({fromRouteId:e},o)))},[r,e])}const d_={};function aT(r,e,t){d_[r]||(d_[r]=!0)}function nT(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function sT(r){let{to:e,replace:t,state:n,relative:i}=r;Jo()||jr(!1);let{future:o,static:c}=q.useContext(Ko),{matches:h}=q.useContext(mi),{pathname:d}=Qo(),m=tn(),_=Kv(e,Xv(h,o.v7_relativeSplatPath),d,i==="path"),v=JSON.stringify(_);return q.useEffect(()=>m(JSON.parse(v),{replace:t,state:n,relative:i}),[m,v,i,t,n]),null}function sa(r){jr(!1)}function iT(r){let{basename:e="/",children:t=null,location:n,navigationType:i=As.Pop,navigator:o,static:c=!1,future:h}=r;Jo()&&jr(!1);let d=e.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:d,navigator:o,static:c,future:Lo({v7_relativeSplatPath:!1},h)}),[d,h,o,c]);typeof n=="string"&&(n=bl(n));let{pathname:_="/",search:v="",hash:x="",state:y=null,key:b="default"}=n,w=q.useMemo(()=>{let S=Yv(_,d);return S==null?null:{location:{pathname:S,search:v,hash:x,state:y,key:b},navigationType:i}},[d,_,v,x,y,b,i]);return w==null?null:q.createElement(Ko.Provider,{value:m},q.createElement(af.Provider,{children:t,value:w}))}function lT(r){let{children:e,location:t}=r;return Gb(Jd(e),t)}new Promise(()=>{});function Jd(r,e){e===void 0&&(e=[]);let t=[];return q.Children.forEach(r,(n,i)=>{if(!q.isValidElement(n))return;let o=[...e,i];if(n.type===q.Fragment){t.push.apply(t,Jd(n.props.children,o));return}n.type!==sa&&jr(!1),!n.props.index||!n.props.children||jr(!1);let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Jd(n.props.children,o)),t.push(c)}),t}const oT="6";try{window.__reactRouterVersion=oT}catch{}const cT="startTransition",m_=ob[cT];function uT(r){let{basename:e,children:t,future:n,window:i}=r,o=q.useRef();o.current==null&&(o.current=gb({window:i,v5Compat:!0}));let c=o.current,[h,d]=q.useState({action:c.action,location:c.location}),{v7_startTransition:m}=n||{},_=q.useCallback(v=>{m&&m_?m_(()=>d(v)):d(v)},[d,m]);return q.useLayoutEffect(()=>c.listen(_),[c,_]),q.useEffect(()=>nT(n),[n]),q.createElement(iT,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:n})}var p_;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(p_||(p_={}));var g_;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(g_||(g_={}));var Qd=function(r,e){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Qd(r,e)};function ay(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qd(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pu=function(){return Pu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pu.apply(this,arguments)};function Tl(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function ny(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var h=r.length-1;h>=0;h--)(c=r[h])&&(o=(i<3?c(o):i>3?c(e,t,o):c(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function sy(r,e){return function(t,n){e(t,n,r)}}function iy(r,e,t,n,i,o){function c(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var h=n.kind,d=h==="getter"?"get":h==="setter"?"set":"value",m=!e&&r?n.static?r:r.prototype:null,_=e||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),v,x=!1,y=t.length-1;y>=0;y--){var b={};for(var w in n)b[w]=w==="access"?{}:n[w];for(var w in n.access)b.access[w]=n.access[w];b.addInitializer=function(j){if(x)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(j||null))};var S=(0,t[y])(h==="accessor"?{get:_.get,set:_.set}:_[d],b);if(h==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(v=c(S.get))&&(_.get=v),(v=c(S.set))&&(_.set=v),(v=c(S.init))&&i.unshift(v)}else(v=c(S))&&(h==="field"?i.unshift(v):_[d]=v)}m&&Object.defineProperty(m,n.name,_),x=!0}function ly(r,e,t){for(var n=arguments.length>2,i=0;i<e.length;i++)t=n?e[i].call(r,t):e[i].call(r);return n?t:void 0}function oy(r){return typeof r=="symbol"?r:"".concat(r)}function cy(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function uy(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function tt(r,e,t,n){function i(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(_){try{m(n.next(_))}catch(v){c(v)}}function d(_){try{m(n.throw(_))}catch(v){c(v)}}function m(_){_.done?o(_.value):i(_.value).then(h,d)}m((n=n.apply(r,e||[])).next())})}function fy(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(_){return d([m,_])}}function d(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(n=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(r,t)}catch(_){m=[6,_],i=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var nf=Object.create?(function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}):(function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]});function hy(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nf(e,r,t)}function Fu(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function C0(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){c={error:h}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return o}function dy(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(C0(arguments[e]));return r}function my(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var o=arguments[e],c=0,h=o.length;c<h;c++,i++)n[i]=o[c];return n}function py(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}function yl(r){return this instanceof yl?(this.v=r,this):new yl(r)}function gy(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(y){return function(b){return Promise.resolve(b).then(y,v)}}function h(y,b){n[y]&&(i[y]=function(w){return new Promise(function(S,j){o.push([y,w,S,j])>1||d(y,w)})},b&&(i[y]=b(i[y])))}function d(y,b){try{m(n[y](b))}catch(w){x(o[0][3],w)}}function m(y){y.value instanceof yl?Promise.resolve(y.value.v).then(_,v):x(o[0][2],y)}function _(y){d("next",y)}function v(y){d("throw",y)}function x(y,b){y(b),o.shift(),o.length&&d(o[0][0],o[0][1])}}function _y(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=r[i]?function(c){return(t=!t)?{value:yl(r[i](c)),done:!1}:o?o(c):c}:o}}function vy(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Fu=="function"?Fu(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=r[o]&&function(c){return new Promise(function(h,d){c=r[o](c),i(h,d,c.done,c.value)})}}function i(o,c,h,d){Promise.resolve(d).then(function(m){o({value:m,done:h})},c)}}function yy(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var fT=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},Zd=function(r){return Zd=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},Zd(r)};function xy(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=Zd(r),n=0;n<t.length;n++)t[n]!=="default"&&nf(e,r,t[n]);return fT(e,r),e}function wy(r){return r&&r.__esModule?r:{default:r}}function Sy(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function by(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t}function Ty(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function Ey(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),r.stack.push({value:e,dispose:n,async:t})}else t&&r.stack.push({async:!0});return e}var hT=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=r,n.suppressed=e,n};function Ay(r){function e(o){r.error=r.hasError?new hT(o,r.error,"An error was suppressed during disposal."):o,r.hasError=!0}var t,n=0;function i(){for(;t=r.stack.pop();)try{if(!t.async&&n===1)return n=0,r.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(i,function(c){return e(c),i()})}else n|=1}catch(c){e(c)}if(n===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return i()}function Cy(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,i,o,c){return n?e?".jsx":".js":i&&(!o||!c)?t:i+o+"."+c.toLowerCase()+"js"}):r}const dT={__extends:ay,__assign:Pu,__rest:Tl,__decorate:ny,__param:sy,__esDecorate:iy,__runInitializers:ly,__propKey:oy,__setFunctionName:cy,__metadata:uy,__awaiter:tt,__generator:fy,__createBinding:nf,__exportStar:hy,__values:Fu,__read:C0,__spread:dy,__spreadArrays:my,__spreadArray:py,__await:yl,__asyncGenerator:gy,__asyncDelegator:_y,__asyncValues:vy,__makeTemplateObject:yy,__importStar:xy,__importDefault:wy,__classPrivateFieldGet:Sy,__classPrivateFieldSet:by,__classPrivateFieldIn:Ty,__addDisposableResource:Ey,__disposeResources:Ay,__rewriteRelativeImportExtension:Cy},mT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ey,get __assign(){return Pu},__asyncDelegator:_y,__asyncGenerator:gy,__asyncValues:vy,__await:yl,__awaiter:tt,__classPrivateFieldGet:Sy,__classPrivateFieldIn:Ty,__classPrivateFieldSet:by,__createBinding:nf,__decorate:ny,__disposeResources:Ay,__esDecorate:iy,__exportStar:hy,__extends:ay,__generator:fy,__importDefault:wy,__importStar:xy,__makeTemplateObject:yy,__metadata:uy,__param:sy,__propKey:oy,__read:C0,__rest:Tl,__rewriteRelativeImportExtension:Cy,__runInitializers:ly,__setFunctionName:cy,__spread:dy,__spreadArray:py,__spreadArrays:my,__values:Fu,default:dT},Symbol.toStringTag,{value:"Module"})),pT=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class N0 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class gT extends N0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class __ extends N0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class v_ extends N0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var e0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(e0||(e0={}));class _T{constructor(e,{headers:t={},customFetch:n,region:i=e0.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=pT(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return tt(this,arguments,void 0,function*(t,n={}){var i;let o,c;try{const{headers:h,method:d,body:m,signal:_,timeout:v}=n;let x={},{region:y}=n;y||(y=this.region);const b=new URL(`${this.url}/${t}`);y&&y!=="any"&&(x["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let w;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",w=m):typeof m=="string"?(x["Content-Type"]="text/plain",w=m):typeof FormData<"u"&&m instanceof FormData?w=m:(x["Content-Type"]="application/json",w=JSON.stringify(m)):w=m;let S=_;v&&(c=new AbortController,o=setTimeout(()=>c.abort(),v),_?(S=c.signal,_.addEventListener("abort",()=>c.abort())):S=c.signal);const j=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),h),body:w,signal:S}).catch(X=>{throw new gT(X)}),E=j.headers.get("x-relay-error");if(E&&E==="true")throw new __(j);if(!j.ok)throw new v_(j);let N=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return N==="application/json"?B=yield j.json():N==="application/octet-stream"||N==="application/pdf"?B=yield j.blob():N==="text/event-stream"?B=j:N==="multipart/form-data"?B=yield j.formData():B=yield j.text(),{data:B,error:null,response:j}}catch(h){return{data:null,error:h,response:h instanceof v_||h instanceof __?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var Zr={};const El=nb(mT);var yu={},xu={},wu={},Su={},bu={},Tu={},y_;function Ny(){if(y_)return Tu;y_=1,Object.defineProperty(Tu,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Tu.default=r,Tu}var x_;function ky(){if(x_)return bu;x_=1,Object.defineProperty(bu,"__esModule",{value:!0});const e=El.__importDefault(Ny());class t{constructor(i){var o,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var m,_,v,x;let y=null,b=null,w=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const X=await d.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?b=X:b=JSON.parse(X))}const N=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),B=(v=d.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&B&&B.length>1&&(w=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,S=406,j="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const N=await d.text();try{y=JSON.parse(N),Array.isArray(y)&&d.status===404&&(b=[],y=null,S=200,j="OK")}catch{d.status===404&&N===""?(S=204,j="No Content"):y={message:N}}if(y&&this.isMaybeSingle&&(!((x=y?.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,S=200,j="OK"),y&&this.shouldThrowOnError)throw new e.default(y)}return{error:y,data:b,count:w,status:S,statusText:j}});return this.shouldThrowOnError||(h=h.catch(d=>{var m,_,v,x,y,b;let w="";const S=d?.cause;if(S){const j=(m=S?.message)!==null&&m!==void 0?m:"",E=(_=S?.code)!==null&&_!==void 0?_:"";w=`${(v=d?.name)!==null&&v!==void 0?v:"FetchError"}: ${d?.message}`,w+=`

Caused by: ${(x=S?.name)!==null&&x!==void 0?x:"Error"}: ${j}`,E&&(w+=` (${E})`),S?.stack&&(w+=`
${S.stack}`)}else w=(y=d?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(i,o)}returns(){return this}overrideTypes(){return this}}return bu.default=t,bu}var w_;function jy(){if(w_)return Su;w_=1,Object.defineProperty(Su,"__esModule",{value:!0});const e=El.__importDefault(ky());class t extends e.default{select(i){let o=!1;const c=(i??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:c,foreignTable:h,referencedTable:d=h}={}){const m=d?`${d}.order`:"order",_=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${_?`${_},`:""}${i}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:c=o}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${i}`),this}range(i,o,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(m,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:c=!1,buffers:h=!1,wal:d=!1,format:m="text"}={}){var _;const v=[i?"analyze":null,o?"verbose":null,c?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${x}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Su.default=t,Su}var S_;function k0(){if(S_)return wu;S_=1,Object.defineProperty(wu,"__esModule",{value:!0});const e=El.__importDefault(jy()),t=new RegExp("[,()]");class n extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:d}={}){let m="";d==="plain"?m="pl":d==="phrase"?m="ph":d==="websearch"&&(m="w");const _=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${m}fts${_}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}}return wu.default=n,wu}var b_;function Oy(){if(b_)return xu;b_=1,Object.defineProperty(xu,"__esModule",{value:!0});const e=El.__importDefault(k0());class t{constructor(i,{headers:o={},schema:c,fetch:h}){this.url=i,this.headers=new Headers(o),this.schema=c,this.fetch=h}select(i,o){const{head:c=!1,count:h}=o??{},d=c?"HEAD":"GET";let m=!1;const _=(i??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",_),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:c=!0}={}){var h;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((_,v)=>_.concat(Object.keys(v)),[]);if(m.length>0){const _=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:c=!1,count:h,defaultToNull:d=!0}={}){var m;const _="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(v.length>0){const x=[...new Set(v)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:o}={}){var c;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var o;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return xu.default=t,xu}var T_;function vT(){if(T_)return yu;T_=1,Object.defineProperty(yu,"__esModule",{value:!0});const r=El,e=r.__importDefault(Oy()),t=r.__importDefault(k0());class n{constructor(o,{headers:c={},schema:h,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=h,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:h=!1,get:d=!1,count:m}={}){var _;let v;const x=new URL(`${this.url}/rpc/${o}`);let y;h||d?(v=h?"HEAD":"GET",Object.entries(c).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{x.searchParams.append(w,S)})):(v="POST",y=c);const b=new Headers(this.headers);return m&&b.set("Prefer",`count=${m}`),new t.default({method:v,url:x,headers:b,schema:this.schemaName,body:y,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return yu.default=n,yu}var E_;function yT(){if(E_)return Zr;E_=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.PostgrestError=Zr.PostgrestBuilder=Zr.PostgrestTransformBuilder=Zr.PostgrestFilterBuilder=Zr.PostgrestQueryBuilder=Zr.PostgrestClient=void 0;const r=El,e=r.__importDefault(vT());Zr.PostgrestClient=e.default;const t=r.__importDefault(Oy());Zr.PostgrestQueryBuilder=t.default;const n=r.__importDefault(k0());Zr.PostgrestFilterBuilder=n.default;const i=r.__importDefault(jy());Zr.PostgrestTransformBuilder=i.default;const o=r.__importDefault(ky());Zr.PostgrestBuilder=o.default;const c=r.__importDefault(Ny());return Zr.PostgrestError=c.default,Zr.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:c.default},Zr}var Dy=yT();const Ry=S0(Dy),xT=$v({__proto__:null,default:Ry},[Dy]),{PostgrestClient:wT,PostgrestQueryBuilder:cH,PostgrestFilterBuilder:uH,PostgrestTransformBuilder:fH,PostgrestBuilder:hH,PostgrestError:dH}=Ry||xT;class ST{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bT="2.84.0",TT=`realtime-js/${bT}`,By="1.0.0",ET="2.0.0",A_=By,t0=1e4,AT=1e3,CT=100;var ai;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ai||(ai={}));var Mr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Mr||(Mr={}));var dn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(dn||(dn={}));var r0;(function(r){r.websocket="websocket"})(r0||(r0={}));var ni;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ni||(ni={}));class NT{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n,i,o;const c=e.topic,h=(t=e.ref)!==null&&t!==void 0?t:"",d=(n=e.join_ref)!==null&&n!==void 0?n:"",m=e.payload.event,_=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let y=new DataView(x),b=0;y.setUint8(b++,this.KINDS.userBroadcastPush),y.setUint8(b++,d.length),y.setUint8(b++,h.length),y.setUint8(b++,c.length),y.setUint8(b++,m.length),y.setUint8(b++,this.BINARY_ENCODING),Array.from(d,S=>y.setUint8(b++,S.charCodeAt(0))),Array.from(h,S=>y.setUint8(b++,S.charCodeAt(0))),Array.from(c,S=>y.setUint8(b++,S.charCodeAt(0))),Array.from(m,S=>y.setUint8(b++,S.charCodeAt(0)));var w=new Uint8Array(x.byteLength+_.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(_),x.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var t,n,i,o;const c=e.topic,h=(t=e.ref)!==null&&t!==void 0?t:"",d=(n=e.join_ref)!==null&&n!==void 0?n:"",m=e.payload.event,_=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},x=new TextEncoder().encode(JSON.stringify(_)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(b),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,d.length),w.setUint8(S++,h.length),w.setUint8(S++,c.length),w.setUint8(S++,m.length),w.setUint8(S++,this.JSON_ENCODING),Array.from(d,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(h,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(c,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(m,E=>w.setUint8(S++,E.charCodeAt(0)));var j=new Uint8Array(b.byteLength+x.byteLength);return j.set(new Uint8Array(b),0),j.set(new Uint8Array(x),b.byteLength),j.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,c,h,d]=n;return t({join_ref:i,ref:o,topic:c,event:h,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,n){const i=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),h=t.getUint8(4);let d=this.HEADER_LENGTH+4;const m=n.decode(e.slice(d,d+i));d=d+i;const _=n.decode(e.slice(d,d+o));d=d+o;const v=n.decode(e.slice(d,d+c));d=d+c;const x=e.slice(d,e.byteLength),y=h===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,b={type:this.BROADCAST_EVENT,event:_,payload:y};return c>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class My{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(tr||(tr={}));const C_=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=kT(c,r,e,i),o),{}):{}},kT=(r,e,t,n)=>{const i=e.find(h=>h.name===r),o=i?.type,c=t[r];return o&&!n.includes(o)?Ly(o,c):a0(c)},Ly=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return RT(e,t)}switch(r){case tr.bool:return jT(e);case tr.float4:case tr.float8:case tr.int2:case tr.int4:case tr.int8:case tr.numeric:case tr.oid:return OT(e);case tr.json:case tr.jsonb:return DT(e);case tr.timestamp:return BT(e);case tr.abstime:case tr.date:case tr.daterange:case tr.int4range:case tr.int8range:case tr.money:case tr.reltime:case tr.text:case tr.time:case tr.timestamptz:case tr.timetz:case tr.tsrange:case tr.tstzrange:return a0(e);default:return a0(e)}},a0=r=>r,jT=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},OT=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},DT=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},RT=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let o;const c=r.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>Ly(e,h))}return r},BT=r=>typeof r=="string"?r.replace(" ","T"):r,Py=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class kd{constructor(e,t,n={},i=t0){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N_;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(N_||(N_={}));class Ao{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,i,o,c),this.pendingDiffs.forEach(d=>{this.state=Ao.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ao.syncDiff(this.state,i,o,c),h())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const o=this.cloneDeep(e),c=this.transformState(t),h={},d={};return this.map(o,(m,_)=>{c[m]||(d[m]=_)}),this.map(c,(m,_)=>{const v=o[m];if(v){const x=_.map(S=>S.presence_ref),y=v.map(S=>S.presence_ref),b=_.filter(S=>y.indexOf(S.presence_ref)<0),w=v.filter(S=>x.indexOf(S.presence_ref)<0);b.length>0&&(h[m]=b),w.length>0&&(d[m]=w)}else h[m]=_}),this.syncDiff(o,{joins:h,leaves:d},n,i)}static syncDiff(e,t,n,i){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(h,d)=>{var m;const _=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(d),_.length>0){const v=e[h].map(y=>y.presence_ref),x=_.filter(y=>v.indexOf(y.presence_ref)<0);e[h].unshift(...x)}n(h,_,d)}),this.map(c,(h,d)=>{let m=e[h];if(!m)return;const _=d.map(v=>v.presence_ref);m=m.filter(v=>_.indexOf(v.presence_ref)<0),e[h]=m,i(h,m,d),m.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k_;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(k_||(k_={}));var Co;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Co||(Co={}));var Gn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class j0{constructor(e,t={config:{}},n){var i,o;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new kd(this,dn.join,this.params,this.timeout),this.rejoinTimer=new My(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Ao(this),this.broadcastEndpointURL=Py(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Mr.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],_=!!this.bindings[Co.PRESENCE]&&this.bindings[Co.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},x={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:_}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Gn.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket.setAuth(),y===void 0){e?.(Gn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(b=w?.length)!==null&&b!==void 0?b:0,j=[];for(let E=0;E<S;E++){const N=w[E],{filter:{event:B,schema:X,table:Y,filter:R}}=N,J=y&&y[E];if(J&&J.event===B&&J.schema===X&&J.table===Y&&J.filter===R)j.push(Object.assign(Object.assign({},N),{id:J.id}));else{this.unsubscribe(),this.state=Mr.errored,e?.(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Gn.SUBSCRIBED);return}}).receive("error",y=>{this.state=Mr.errored,e?.(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Mr.joined&&e===Co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const m=await h.json();d=m.error||m.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,d;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new kd(this,dn.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mr.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),c}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kd(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>CT){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,o;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:m,join:_}=dn;if(n&&[h,d,m,_].indexOf(c)>=0&&n!==this._joinRef())return;let x=this._onMessage(c,t,n);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,w,S;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(y=>y.callback(x,n)):(o=this.bindings[c])===null||o===void 0||o.filter(y=>{var b,w,S,j,E,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const B=y.id,X=(b=y.filter)===null||b===void 0?void 0:b.event;return B&&((w=t.ids)===null||w===void 0?void 0:w.includes(B))&&(X==="*"||X?.toLocaleLowerCase()===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const B=(E=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return B==="*"||B===((N=t?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const b=x.data,{schema:w,table:S,commit_timestamp:j,type:E,errors:N}=b;x=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:j,eventType:E,new:{},old:{},errors:N}),this._getPayloadRecords(b))}y.callback(x,n)})}_isClosed(){return this.state===Mr.closed}_isJoined(){return this.state===Mr.joined}_isJoining(){return this.state===Mr.joining}_isLeaving(){return this.state===Mr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&j0.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dn.close,{},e)}_onError(e){this._on(dn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=C_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=C_(e.columns,e.old_record)),t}}const jd=()=>{},Eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MT=[1e3,2e3,5e3,1e4],LT=1e4,PT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FT{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t0,this.transport=null,this.heartbeatIntervalMs=Eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jd,this.ref=0,this.reconnectTimer=null,this.vsn=A_,this.logger=jd,this.conn=null,this.sendBuffer=[],this.serializer=new NT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${r0.websocket}`,this.httpEndpoint=Py(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ST.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ai.connecting:return ni.Connecting;case ai.open:return ni.Open;case ai.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new j0(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:n,payload:i,ref:o}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${t} ${n} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AT,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:c}=t,h=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${i} ${h}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ai.open||this.conn.readyState===ai.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(dn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([PT],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const i={access_token:t,version:TT};t&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(dn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new My(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,o,c,h,d,m,_,v,x,y;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:t0,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Eu.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:jd,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:A_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(b=>MT[b-1]||LT),this.vsn){case By:this.encode=(_=e?.encode)!==null&&_!==void 0?_:((b,w)=>w(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((b,w)=>w(JSON.parse(b)));break;case ET:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class O0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class IT extends O0{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class n0 extends O0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const D0=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),UT=()=>Response,s0=r=>{if(Array.isArray(r))return r.map(t=>s0(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=s0(n)}),e},HT=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Od=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},zT=(r,e,t)=>tt(void 0,void 0,void 0,function*(){const n=yield UT();r instanceof n&&!t?.noResolveJson?r.json().then(i=>{const o=r.status||500,c=i?.statusCode||o+"";e(new IT(Od(i),o,c))}).catch(i=>{e(new n0(Od(i),i))}):e(new n0(Od(r),r))}),$T=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"||!n?i:(HT(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Zo(r,e,t,n,i,o){return tt(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(t,$T(e,n,i,o)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>zT(d,h,n))})})}function Po(r,e,t,n){return tt(this,void 0,void 0,function*(){return Zo(r,"GET",e,t,n)})}function hn(r,e,t,n,i){return tt(this,void 0,void 0,function*(){return Zo(r,"POST",e,n,i,t)})}function i0(r,e,t,n,i){return tt(this,void 0,void 0,function*(){return Zo(r,"PUT",e,n,i,t)})}function qT(r,e,t,n){return tt(this,void 0,void 0,function*(){return Zo(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function R0(r,e,t,n,i){return tt(this,void 0,void 0,function*(){return Zo(r,"DELETE",e,n,i,t)})}class GT{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return tt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}})}}var Fy;class VT{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new GT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return tt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}})}}Fy=Symbol.toStringTag;const WT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YT{constructor(e,t={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=D0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,i){return tt(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},j_),i);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(h=Object.assign(Object.assign({},h),i.headers));const m=this._removeEmptyFolders(t),_=this._getFinalPath(m),v=yield(e=="PUT"?i0:hn)(this.fetch,`${this.url}/object/${_}`,o,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dr(o))return{data:null,error:o};throw o}})}upload(e,t,n){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return tt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let d;const m=Object.assign({upsert:j_.upsert},i),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const v=yield i0(this.fetch,h.toString(),d,{headers:_});return{data:{path:o,fullPath:v.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(dr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return tt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield hn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+o.url),h=c.searchParams.get("token");if(!h)throw new O0("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}update(e,t,n){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return tt(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}copy(e,t,n){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield hn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return tt(this,void 0,void 0,function*(){try{const i=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(e),d=()=>Po(this.fetch,`${this.url}/${i}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new VT(d,this.shouldThrowOnError)}info(e){return tt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Po(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:s0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}exists(e){return tt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qT(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n)&&n instanceof n0){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const h=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${n}${m}`)}}}remove(e){return tt(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}list(e,t,n){return tt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},WT),t),{prefix:e||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}listV2(e,t){return tt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Iy="2.84.0",Uy={"X-Client-Info":`storage-js/${Iy}`};class XT{constructor(e,t={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uy),t),this.fetch=D0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return tt(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Po(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}getBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}createBucket(e){return tt(this,arguments,void 0,function*(t,n={public:!1}){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return tt(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class KT{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uy),t),this.fetch=D0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}listBuckets(e){return tt(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const n=t.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Po(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}})}}const B0={"X-Client-Info":`storage-js/${Iy}`,"Content-Type":"application/json"};class Hy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ra(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Dd extends Hy{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class JT extends Hy{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var O_;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(O_||(O_={}));const M0=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),QT=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},D_=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ZT=(r,e,t)=>tt(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const i=r.status||500,o=r;if(typeof o.json=="function")o.json().then(c=>{const h=c?.statusCode||c?.code||i+"";e(new Dd(D_(c),i,h))}).catch(()=>{const c=i+"",h=o.statusText||`HTTP ${i} error`;e(new Dd(h,i,c))});else{const c=i+"",h=o.statusText||`HTTP ${i} error`;e(new Dd(h,i,c))}}else e(new JT(D_(r),r))}),eE=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return n?(QT(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),t)):i};function tE(r,e,t,n,i,o){return tt(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(t,eE(e,n,i,o)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const m=d.headers.get("content-type");return!m||!m.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>ZT(d,h,n))})})}function Ba(r,e,t,n,i){return tt(this,void 0,void 0,function*(){return tE(r,"POST",e,n,i,t)})}class rE{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),t),this.fetch=M0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return tt(this,void 0,void 0,function*(){try{return{data:(yield Ba(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}getIndex(e,t){return tt(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ra(n))return{data:null,error:n};throw n}})}listIndexes(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return tt(this,void 0,void 0,function*(){try{return{data:(yield Ba(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ra(n))return{data:null,error:n};throw n}})}}class aE{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),t),this.fetch=M0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return tt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ba(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}getVectors(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}listVectors(e){return tt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ba(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}queryVectors(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}deleteVectors(e){return tt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ba(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}}class nE{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),t),this.fetch=M0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:(yield Ba(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}getBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}listBuckets(){return tt(this,arguments,void 0,function*(e={}){try{return{data:yield Ba(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}deleteBucket(e){return tt(this,void 0,void 0,function*(){try{return{data:(yield Ba(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ra(t))return{data:null,error:t};throw t}})}}class sE extends nE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new iE(this.url,this.headers,e,this.fetch)}}class iE extends rE{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return tt(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return tt(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return tt(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return tt(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new lE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class lE extends aE{constructor(e,t,n,i,o){super(e,t,o),this.vectorBucketName=n,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return tt(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return tt(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return tt(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return tt(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return tt(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class oE extends XT{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new YT(this.url,this.headers,e,this.fetch)}get vectors(){return new sE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KT(this.url+"/iceberg",this.headers,this.fetch)}}const cE="2.84.0";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const uE={"X-Client-Info":`supabase-js-${To}/${cE}`},fE={headers:uE},hE={schema:"public"},dE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mE={},pE=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),gE=()=>Headers,_E=(r,e,t)=>{const n=pE(t),i=gE();return async(o,c)=>{var h;const d=(h=await e())!==null&&h!==void 0?h:r;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),n(o,Object.assign(Object.assign({},c),{headers:m}))}};function vE(r){return r.endsWith("/")?r:r+"/"}function yE(r,e){var t,n;const{db:i,auth:o,realtime:c,global:h}=r,{db:d,auth:m,realtime:_,global:v}=e,x={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},_),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(t=v?.headers)!==null&&t!==void 0?t:{}),(n=h?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}function xE(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zy="2.84.0",ul=30*1e3,l0=3,Rd=l0*ul,wE="http://localhost:9999",SE="supabase.auth.token",bE={"X-Client-Info":`gotrue-js/${zy}`},o0="X-Supabase-Api-Version",$y={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EE=600*1e3;class Fo extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function at(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class AE extends Fo{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function CE(r){return at(r)&&r.name==="AuthApiError"}class si extends Fo{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Bs extends Fo{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class Na extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NE(r){return at(r)&&r.name==="AuthSessionMissingError"}class tl extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends Bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends Bs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kE(r){return at(r)&&r.name==="AuthImplicitGrantRedirectError"}class R_ extends Bs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c0 extends Bs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Bd(r){return at(r)&&r.name==="AuthRetryableFetchError"}class B_ extends Bs{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class u0 extends Bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M_=` 	
\r=`.split(""),jE=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<M_.length;e+=1)r[M_[e].charCodeAt(0)]=-2;for(let e=0;e<Iu.length;e+=1)r[Iu[e].charCodeAt(0)]=e;return r})();function L_(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Iu[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Iu[n]),e.queuedBits-=6}}function qy(r,e,t){const n=jE[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function P_(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{RE(c,n,t)};for(let c=0;c<r.length;c+=1)qy(r.charCodeAt(c),i,o);return e.join("")}function OE(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function DE(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}OE(n,e)}}function RE(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ml(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)qy(r.charCodeAt(i),t,n);return new Uint8Array(e)}function BE(r){const e=[];return DE(r,t=>e.push(t)),new Uint8Array(e)}function li(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>L_(i,t,n)),L_(null,t,n),e.join("")}function ME(r){return Math.round(Date.now()/1e3)+r}function LE(){return Symbol("auth-callback")}const Gr=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},Gy=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function PE(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const Vy=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),FE=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",fl=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ei=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},bs=async(r,e)=>{await r.removeItem(e)};class sf{constructor(){this.promise=new sf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}sf.promiseConstructor=Promise;function Md(r){const e=r.split(".");if(e.length!==3)throw new u0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!TE.test(e[n]))throw new u0("JWT not in base64url format");return{header:JSON.parse(P_(e[0])),payload:JSON.parse(P_(e[1])),signature:ml(e[2]),raw:{header:e[0],payload:e[1]}}}async function IE(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function UE(r,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await r(o);if(!e(o,null,c)){n(c);return}}catch(c){if(!e(o,c)){i(c);return}}})()})}function HE(r){return("0"+r.toString(16)).substr(-2)}function zE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,HE).join("")}async function $E(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function qE(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await $E(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rl(r,e,t=!1){const n=zE();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await fl(r,`${e}-code-verifier`,i);const o=await qE(n);return[o,n===o?"plain":"s256"]}const GE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VE(r){const e=r.headers.get(o0);if(!e||!e.match(GE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function WE(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function YE(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function al(r){if(!XE.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ld(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KE(r,e){return new Proxy(r,{get:(t,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,i)}})}function F_(r){return JSON.parse(JSON.stringify(r))}const ri=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),JE=[502,503,504];async function I_(r){var e;if(!FE(r))throw new c0(ri(r),0);if(JE.includes(r.status))throw new c0(ri(r),r.status);let t;try{t=await r.json()}catch(o){throw new si(ri(o),o)}let n;const i=VE(r);if(i&&i.getTime()>=$y["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new B_(ri(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Na}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new B_(ri(t),r.status,t.weak_password.reasons);throw new AE(ri(t),r.status||500,n)}const QE=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function ct(r,e,t,n){var i;const o=Object.assign({},n?.headers);o[o0]||(o[o0]=$y["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await ZE(r,e,t+h,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function ZE(r,e,t,n,i,o){const c=QE(e,n,i,o);let h;try{h=await r(t,Object.assign({},c))}catch(d){throw console.error(d),new c0(ri(d),0)}if(h.ok||await I_(h),n?.noResolveJson)return h;try{return await h.json()}catch(d){await I_(d)}}function un(r){var e;let t=null;r3(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=ME(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function U_(r){const e=un(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Es(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function e3(r){return{data:r,error:null}}function t3(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:o}=r,c=Tl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:o},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function H_(r){return r}function r3(r){return r.access_token&&r.refresh_token&&r.expires_in}const Pd=["global","local","others"];class a3{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Vy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Pd[0]){if(Pd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pd.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Es})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Tl(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:t3,redirectTo:t?.redirectTo})}catch(t){if(at(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Es})}catch(t){if(at(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,o,c,h,d;try{const m={nextPage:null,lastPage:0,total:0},_=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:H_});if(_.error)throw _.error;const v=await _.json(),x=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(d=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);m[`${S}Page`]=w}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(at(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){al(e);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Es})}catch(t){if(at(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){al(e);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Es})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){al(e);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Es})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){al(e.userId);try{const{data:t,error:n}=await ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(at(t))return{data:null,error:t};throw t}}async _deleteFactor(e){al(e.userId),al(e.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(at(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,i,o,c,h,d;try{const m={nextPage:null,lastPage:0,total:0},_=await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:H_});if(_.error)throw _.error;const v=await _.json(),x=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(d=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);m[`${S}Page`]=w}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(at(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(at(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(at(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(at(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(at(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(at(t))return{data:null,error:t};throw t}}}function z_(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const nl={debug:!!(globalThis&&Gy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n3 extends Wy{}async function s3(r,e,t){nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new n3(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(nl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function i3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function l3(r){return parseInt(r,16)}function o3(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function c3(r){var e;const{chainId:t,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:d,resources:m,scheme:_,uri:v,version:x}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=Yy(r.address),b=_?`${_}://${n}`:n,w=r.statement?`${r.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${y}

${w}`;let j=`URI: ${v}
Version: ${x}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),h&&(j+=`
Not Before: ${h.toISOString()}`),d&&(j+=`
Request ID: ${d}`),m){let E=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);E+=`
- ${N}`}j+=E}return`${S}
${j}`}class kr extends Error{constructor({message:e,code:t,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Uu extends kr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function u3({error:r,options:e}){var t,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new kr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(Xy(c)){if(o.rp.id!==c)return new kr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function f3({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new kr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(Xy(n)){if(t.rpId!==n)return new kr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class h3{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const d3=new h3;function m3(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,i=Tl(r,["challenge","user","excludeCredentials"]),o=ml(e).buffer,c=Object.assign(Object.assign({},t),{id:ml(t.id).buffer}),h=Object.assign(Object.assign({},i),{challenge:o,user:c});if(n&&n.length>0){h.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const m=n[d];h.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:ml(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function p3(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=Tl(r,["challenge","allowCredentials"]),i=ml(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:ml(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function g3(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:li(new Uint8Array(r.response.attestationObject)),clientDataJSON:li(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _3(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),i=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:li(new Uint8Array(i.authenticatorData)),clientDataJSON:li(new Uint8Array(i.clientDataJSON)),signature:li(new Uint8Array(i.signature)),userHandle:i.userHandle?li(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Xy(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function $_(){var r,e;return!!(Gr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function v3(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uu("Browser returned unexpected credential type",e)}:{data:null,error:new Uu("Empty credential response",e)}}catch(e){return{data:null,error:u3({error:e,options:r})}}}async function y3(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uu("Browser returned unexpected credential type",e)}:{data:null,error:new Uu("Empty credential response",e)}}catch(e){return{data:null,error:f3({error:e,options:r})}}}const x3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},w3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hu(...r){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of r)if(i)for(const o in i){const c=i[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(t(c))n[o]=c;else if(e(c)){const h=n[o];e(h)?n[o]=Hu(h,c):n[o]=Hu(c)}else n[o]=c}return n}function S3(r,e){return Hu(x3,r,e||{})}function b3(r,e){return Hu(w3,r,e||{})}class T3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:i},o){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=i??d3.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=S3(c.webauthn.credential_options.publicKey,o?.create),{data:_,error:v}=await v3({publicKey:m,signal:d});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:v}}case"request":{const m=b3(c.webauthn.credential_options.publicKey,o?.request),{data:_,error:v}=await y3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:d}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:v}}}}catch(c){return at(c)?{data:null,error:c}:{data:null,error:new si("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Fo("rpId is required for WebAuthn authentication")};try{if(!$_())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:i},{request:o});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:n,credential_response:d.credential_response}})}catch(c){return at(c)?{data:null,error:c}:{data:null,error:new si("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Fo("rpId is required for WebAuthn registration")};try{if(!$_())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(_=>{var v;return(v=_.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:h};const{data:d,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:i},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(c){return at(c)?{data:null,error:c}:{data:null,error:new si("Unexpected error in register",c)}}}}i3();const E3={url:wE,storageKey:SE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function q_(r,e,t){return await t()}const sl={};class Io{get jwks(){var e,t;return(t=(e=sl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=sl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},E3),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Io.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Io.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Gr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new a3({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Vy(o.fetch),this.lock=o.lock||q_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Gr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=s3:this.lock=q_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Gy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(Gr()&&(t=PE(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Gr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),kE(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return at(t)?this._returnResult({error:t}):this._returnResult({error:new si("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const o=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:un}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(at(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,n,i;try{let o;if("email"in e){const{email:_,password:v,options:x}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await rl(this.storage,this.storageKey)),o=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:_,password:v,data:(t=x?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:y,code_challenge_method:b},xform:un})}else if("phone"in e){const{phone:_,password:v,options:x}=e;o=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:v,data:(n=x?.data)!==null&&n!==void 0?n:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:un})}else throw new Au("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(at(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:h}=e;t=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:U_})}else if("phone"in e){const{phone:o,password:c,options:h}=e;t=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:U_})}else throw new Au("You must provide either an email or phone number and a password");const{data:n,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new tl;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(at(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,i,o,c,h,d,m,_,v,x;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:w,wallet:S,statement:j,options:E}=e;let N;if(Gr())if(typeof S=="object")N=S;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")N=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=S}const B=new URL((t=E?.url)!==null&&t!==void 0?t:window.location.href),X=await N.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Yy(X[0]);let R=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const Z=await N.request({method:"eth_chainId"});R=l3(Z)}const J={domain:B.host,address:Y,statement:j,uri:B.href,version:"1",chainId:R,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(_=E?.signInWithEthereum)===null||_===void 0?void 0:_.resources};y=c3(J),b=await N.request({method:"personal_sign",params:[o3(y),Y]})}try{const{data:w,error:S}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:un});if(S)throw S;if(!w||!w.session||!w.user){const j=new tl;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(at(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var t,n,i,o,c,h,d,m,_,v,x,y;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:S,wallet:j,statement:E,options:N}=e;let B;if(Gr())if(typeof j=="object")B=j;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))B=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=j}const X=new URL((t=N?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in B&&B.signIn){const Y=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),E?{statement:E}:null));let R;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")R=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)R=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)b=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${X.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(i=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(_=N?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const Y=await B.signMessage(new TextEncoder().encode(b),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=Y}}try{const{data:S,error:j}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:li(w)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:un});if(j)throw j;if(!S||!S.session||!S.user){const E=new tl;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(at(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const t=await ei(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:o,error:c}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:un});if(await bs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new tl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(at(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:o,nonce:c}=e,h=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:un}),{data:d,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d||!d.session||!d.user){const _=new tl;return this._returnResult({data:{user:null,session:null},error:_})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:m})}catch(t){if(at(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,i,o,c;try{if("email"in e){const{email:h,options:d}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await rl(this.storage,this.storageKey));const{error:v}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:h,options:d}=e,{data:m,error:_}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:_})}throw new Au("You must provide either an email or phone number.")}catch(h){if(at(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,n;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:h}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:un});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,m=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(i){if(at(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,n,i,o,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await rl(this.storage,this.storageKey));const m=await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:e3});return!((o=m.data)===null||o===void 0)&&o.url&&Gr()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(at(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Na;const{error:i}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(at(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:c}=await ct(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:c,error:h}=await ct(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Au("You must provide either an email or phone number and a type")}catch(t){if(at(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Rd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await ei(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Ld()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=KE(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Es}):await this._useSession(async t=>{var n,i,o;const{data:c,error:h}=t;if(h)throw h;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Na}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Es})})}catch(t){if(at(t))return NE(t)&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Na;const c=i.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await rl(this.storage,this.storageKey));const{data:m,error:_}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Es});if(_)throw _;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(at(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Na;const t=Date.now()/1e3;let n=t,i=!0,o=null;const{payload:c}=Md(e.access_token);if(c.exp&&(n=c.exp,i=n<=t),i){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(at(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Na;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(at(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Gr())throw new Cu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new R_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new R_("No code detected.");const{data:E,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:h,expires_at:d,token_type:m}=e;if(!o||!h||!c||!m)throw new Cu("No session defined in URL");const _=Math.round(Date.now()/1e3),v=parseInt(h);let x=_+v;d&&(x=parseInt(d));const y=x-_;y*1e3<=ul&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const b=x-v;_-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,x,_):_-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,x,_);const{data:w,error:S}=await this._getUser(o);if(S)throw S;const j={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:x,refresh_token:c,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(n){if(at(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ei(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:o}=t;if(o)return this._returnResult({error:o});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(CE(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=LE(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:o},error:c}=t;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await rl(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(at(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:i}=await this._useSession(async o=>{var c,h,d,m,_;const{data:v,error:x}=o;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",y,{headers:this.headers,jwt:(_=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(i)throw i;return Gr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(at(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:i,data:{session:o}}=t;if(i)throw i;const{options:c,provider:h,token:d,access_token:m,nonce:_}=e,v=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:h,id_token:d,access_token:m,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:un}),{data:x,error:y}=v;return y?this._returnResult({data:{user:null,session:null},error:y}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new tl}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:y}))}catch(i){if(at(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:o,error:c}=t;if(c)throw c;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await UE(async i=>(i>0&&await IE(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:un})),(i,o)=>{const c=200*Math.pow(2,i);return o&&Bd(o)&&Date.now()+c-n<ul})}catch(n){if(this._debug(t,"error",n),at(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Gr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ei(this.storage,this.storageKey);if(i&&this.userStorage){let c=await ei(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await fl(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Ld()}else if(i&&!i.user&&!i.user){const c=await ei(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await bs(this.storage,this.storageKey+"-user"),await fl(this.storage,this.storageKey,i)):i.user=Ld()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Rd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Rd}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Bd(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(i.access_token);!h&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new sf;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Na;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(i,"error",o),at(o)){const c={data:null,error:o};return Bd(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await fl(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const o=F_(i);await fl(this.storage,this.storageKey,o)}else{const i=F_(t);await fl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bs(this.storage,this.storageKey),await bs(this.storage,this.storageKey+"-code-verifier"),await bs(this.storage,this.storageKey+"-user"),this.userStorage&&await bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ul);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ul);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ul}ms, refresh threshold is ${l0} ticks`),i<=l0&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await rl(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(h.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:o}=t;return o?this._returnResult({data:null,error:o}):await ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:m}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?g3(e.webauthn.credential_response):_3(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m3(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p3(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Md(n.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(_=>_.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Na})})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Na});const c=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Gr()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Na});const c=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Gr()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await ct(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Na})})}catch(e){if(at(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await ct(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Na})})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(h=>h.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(h=>h.kid===e),n&&this.jwks_cached_at+EE>i)return n;const{data:o,error:c}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(h=>h.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:y,error:b}=await this.getSession();if(b||!y.session)return this._returnResult({data:null,error:b});n=y.session.access_token}const{header:i,payload:o,signature:c,raw:{header:h,payload:d}}=Md(n);t?.allowExpired||WE(o.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!m){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:i,signature:c},error:null}}const _=YE(i.alg),v=await crypto.subtle.importKey("jwk",m,_,!0,["verify"]);if(!await crypto.subtle.verify(_,v,c,BE(`${h}.${d}`)))throw new u0("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}}Io.nextInstanceID={};const A3=Io;class C3 extends A3{constructor(e){super(e)}}class N3{constructor(e,t,n){var i,o,c;this.supabaseUrl=e,this.supabaseKey=t;const h=xE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:hE,realtime:mE,auth:Object.assign(Object.assign({},dE),{storageKey:d}),global:fE},_=yE(n??{},m);this.storageKey=(i=_.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=_.global.headers)!==null&&o!==void 0?o:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=_E(t,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new wT(new URL("rest/v1",h).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new oE(this.storageUrl.href,this.headers,this.fetch,n?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new _T(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:c,flowType:h,lock:d,debug:m,throwOnError:_},v,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C3({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),v),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:o,flowType:h,lock:d,debug:m,throwOnError:_,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new FT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k3=(r,e,t)=>new N3(r,e,t);function j3(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}j3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O3="https://ybmdqagdmfqrbzngryxn.supabase.co",D3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlibWRxYWdkbWZxcmJ6bmdyeXhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwOTUxNTEsImV4cCI6MjA3OTY3MTE1MX0.xzHGaDY_dsRsH_huIRErRr2D2pBYKfxL1DgM06DmgLQ",st=k3(O3,D3),Ky=q.createContext({});function R3({children:r}){const[e,t]=q.useState(null),[n,i]=q.useState(!0);q.useEffect(()=>{st.auth.getSession().then(({data:{session:_}})=>{t(_?.user??null),i(!1)});const{data:{subscription:m}}=st.auth.onAuthStateChange((_,v)=>{t(v?.user??null)});return()=>m.unsubscribe()},[]);const d={user:e,loading:n,signUp:async(m,_)=>{const{data:v,error:x}=await st.auth.signUp({email:m,password:_});if(x)throw x;return v},signIn:async(m,_)=>{const{data:v,error:x}=await st.auth.signInWithPassword({email:m,password:_});if(x)throw x;return v},signOut:async()=>{const{error:m}=await st.auth.signOut();if(m)throw m}};return f.jsx(Ky.Provider,{value:d,children:r})}function La(){const r=q.useContext(Ky);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}function vr(r,e=null){console.error(`[ERROR] ${r}`,e||"")}class G_ extends T0.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){vr("ErrorBoundary caught an error",{error:e,errorInfo:t}),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",background:"var(--bg-primary)",color:"var(--text-primary)",textAlign:"center"},children:[f.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px"},children:"Something went wrong"}),f.jsx("p",{style:{marginBottom:"24px",color:"var(--text-secondary)"},children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),f.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},style:{padding:"12px 24px",background:"var(--text-primary)",color:"var(--bg-primary)",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Refresh Page"}),!1]}):this.props.children}}const B3="modulepreload",M3=function(r){return"/"+r},V_={},br=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let m=function(_){return Promise.all(_.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");i=m(t.map(_=>{if(_=M3(_),_ in V_)return;V_[_]=!0;const v=_.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${x}`))return;const y=document.createElement("link");if(y.rel=v?"stylesheet":B3,v||(y.as="script"),y.crossOrigin="",y.href=_,d&&y.setAttribute("nonce",d),document.head.appendChild(y),v)return new Promise((b,w)=>{y.addEventListener("load",b),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${_}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return i.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function L0(r=new Date){const e={timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit"},t=new Intl.DateTimeFormat("en-CA",e).formatToParts(r),n=t.find(c=>c.type==="year").value,i=t.find(c=>c.type==="month").value,o=t.find(c=>c.type==="day").value;return`${n}-${i}-${o}`}function Dt(){return L0(new Date)}function Jy(){const r=new Date;return r.setDate(r.getDate()-1),L0(r)}const xl=Object.freeze(Object.defineProperty({__proto__:null,getESTDate:L0,getTodayEST:Dt,getYesterdayEST:Jy},Symbol.toStringTag,{value:"Module"}));async function Qy(r,e,t){const{data:n,error:i}=await st.from("connected_accounts").upsert({user_id:r,provider:e,access_token:t.access_token,refresh_token:t.refresh_token||null,expires_at:t.expires_at?new Date(t.expires_at).toISOString():null,token_type:t.token_type||"Bearer",scope:t.scope||null,updated_at:new Date().toISOString()},{onConflict:"user_id,provider"}).select().single();if(i)throw i;return n}async function Zy(r,e){const{data:t,error:n}=await st.from("connected_accounts").select("*").eq("user_id",r).eq("provider",e).single();if(n&&n.code!=="PGRST116")throw n;return t}async function ec(r){const{data:e,error:t}=await st.from("connected_accounts").select("*").eq("user_id",r);if(t)throw t;return e||[]}async function P0(r,e){const{error:t}=await st.from("connected_accounts").delete().eq("user_id",r).eq("provider",e);if(t)throw t}async function ex(r,e){const{data:t,error:n}=await st.from("oura_daily").select("*").eq("user_id",r).eq("date",e).single();if(n&&n.code!=="PGRST116")throw n;return t}async function tx(r,e,t){const{data:n,error:i}=await st.from("fitbit_daily").upsert({user_id:r,date:e,hrv:t.hrv||null,resting_heart_rate:t.resting_heart_rate||null,average_heart_rate:t.average_heart_rate||null,body_temp:t.body_temp||null,sleep_duration:t.sleep_duration||null,sleep_efficiency:t.sleep_efficiency||null,calories:t.calories||null,steps:t.steps||null,active_calories:t.active_calories||null,marginal_calories:t.marginal_calories||null,distance:t.distance||null,floors:t.floors||null,sedentary_minutes:t.sedentary_minutes||null,lightly_active_minutes:t.lightly_active_minutes||null,fairly_active_minutes:t.fairly_active_minutes||null,very_active_minutes:t.very_active_minutes||null,weight:t.weight||null,bmi:t.bmi||null,fat:t.fat||null,updated_at:new Date().toISOString()},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n}async function js(r,e){const{data:t,error:n}=await st.from("fitbit_daily").select("*").eq("user_id",r).eq("date",e).single();if(n&&n.code!=="PGRST116")throw console.error("Error getting Fitbit daily data:",n),n;return t}async function F0(r){const{data:e,error:t}=await st.from("fitbit_daily").select("*").eq("user_id",r).order("date",{ascending:!1}).limit(1).single();return t&&t.code!=="PGRST116"?(console.error("Error getting most recent Fitbit data:",t),null):e}async function oi(r,e=null){const t=e||Dt();try{const{data:{session:n}}=await st.auth.getSession(),i=n?.access_token||"",o=await fetch("/api/input/fitbit/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({userId:r,date:t})});if(!o.ok){const h=await o.json().catch(()=>({})),d=h.error||h.message||`HTTP ${o.status}: Failed to sync Fitbit data`;throw o.status===401||d.includes("authorization")||d.includes("reconnect")?new Error("Fitbit authorization expired. Please reconnect your account from the Wearables page."):o.status===404&&d.includes("not connected")?new Error("Fitbit account not found. Please connect your Fitbit account first."):new Error(d)}const c=await o.json();if(!c.success)throw new Error(c.error||"Sync failed");return c.data&&(await tx(r,t,c.data),await Uo(r,t)),{synced:!0,date:t,data:c.data||c,warnings:c.warnings}}catch(n){throw n.message?.includes("authorization")||n.message?.includes("reconnect")?n:new Error(`Failed to sync Fitbit data: ${n.message||"Unknown error"}`)}}async function Uo(r,e=null){const t=e||Dt(),n=await ex(r,t),i=await js(r,t),o={hrv:n?.hrv||i?.hrv||null,sleep_time:n?.total_sleep||i?.sleep_duration||null,sleep_score:n?.sleep_score||(i?.sleep_efficiency?Math.round(i.sleep_efficiency):null),steps:n?.steps||i?.steps||null,calories:n?.calories||i?.calories||i?.active_calories||null,weight:null};if(o.hrv||o.sleep_time||o.steps||o.calories){const{saveMetricsToSupabase:c}=await br(async()=>{const{saveMetricsToSupabase:h}=await Promise.resolve().then(()=>lA);return{saveMetricsToSupabase:h}},void 0);await c(r,t,{sleepScore:o.sleep_score?String(o.sleep_score):null,sleepTime:o.sleep_time?String(o.sleep_time):null,hrv:o.hrv?String(o.hrv):null,steps:o.steps?String(o.steps):null,caloriesBurned:o.calories?String(o.calories):null,weight:null})}return o}const L3=Object.freeze(Object.defineProperty({__proto__:null,disconnectAccount:P0,getAllConnectedAccounts:ec,getConnectedAccount:Zy,getFitbitDaily:js,getMostRecentFitbitData:F0,getOuraDaily:ex,mergeWearableDataToMetrics:Uo,saveConnectedAccount:Qy,saveFitbitDaily:tx,syncFitbitData:oi},Symbol.toStringTag,{value:"Module"}));async function W_(r){try{const e=await Zy(r,"fitbit");if(!e)return{needsRefresh:!1,refreshed:!1};const t=e.expires_at?new Date(e.expires_at):null,n=new Date;if(!t||t<=new Date(n.getTime()+900*1e3))try{const i=await fetch("/api/fitbit/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,refreshToken:e.refresh_token})});if(i.ok){const o=await i.json();return await Qy(r,"fitbit",{access_token:o.access_token,refresh_token:o.refresh_token,expires_at:o.expires_at,token_type:"Bearer"}),{needsRefresh:!0,refreshed:!0}}else{const o=await i.json().catch(()=>({}));return logError("Token refresh failed",o),i.status===401||i.status===403?{needsRefresh:!0,refreshed:!1,error:"Refresh token expired. Please reconnect your Fitbit account.",requiresReconnect:!0}:{needsRefresh:!0,refreshed:!1,error:"Refresh failed"}}}catch(i){return logError("Error refreshing token",i),{needsRefresh:!0,refreshed:!1,error:i.message}}return{needsRefresh:!1,refreshed:!1}}catch(e){return logError("Error checking token",e),{needsRefresh:!1,refreshed:!1,error:e.message}}}function P3(r){W_(r);const e=setInterval(()=>{W_(r)},1800*1e3);return()=>clearInterval(e)}const F3=(r,e)=>e.some(t=>r instanceof t);let Y_,X_;function I3(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rx=new WeakMap,f0=new WeakMap,ax=new WeakMap,Fd=new WeakMap,I0=new WeakMap;function H3(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",c)},o=()=>{t(ks(r.result)),i()},c=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&rx.set(t,r)}).catch(()=>{}),I0.set(e,r),e}function z3(r){if(f0.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",c),r.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",c),r.addEventListener("abort",c)});f0.set(r,e)}let h0={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return f0.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ax.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $3(r){h0=r(h0)}function q3(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Id(this),e,...t);return ax.set(n,e.sort?e.sort():[e]),ks(n)}:U3().includes(r)?function(...e){return r.apply(Id(this),e),ks(rx.get(this))}:function(...e){return ks(r.apply(Id(this),e))}}function G3(r){return typeof r=="function"?q3(r):(r instanceof IDBTransaction&&z3(r),F3(r,I3())?new Proxy(r,h0):r)}function ks(r){if(r instanceof IDBRequest)return H3(r);if(Fd.has(r))return Fd.get(r);const e=G3(r);return e!==r&&(Fd.set(r,e),I0.set(e,r)),e}const Id=r=>I0.get(r);function V3(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const c=indexedDB.open(r,e),h=ks(c);return n&&c.addEventListener("upgradeneeded",d=>{n(ks(c.result),d.oldVersion,d.newVersion,ks(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const W3=["get","getKey","getAll","getAllKeys","count"],Y3=["put","add","delete","clear"],Ud=new Map;function K_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=Y3.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||W3.includes(t)))return;const o=async function(c,...h){const d=this.transaction(c,i?"readwrite":"readonly");let m=d.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),i&&d.done]))[0]};return Ud.set(e,o),o}$3(r=>({...r,get:(e,t,n)=>K_(e,t)||r.get(e,t,n),has:(e,t)=>!!K_(e,t)||r.has(e,t)}));const X3="honest-fitness",K3=1;async function _n(){return V3(X3,K3,{upgrade(r){if(!r.objectStoreNames.contains("exercises")){const e=r.createObjectStore("exercises",{keyPath:"id",autoIncrement:!0});e.createIndex("category","category"),e.createIndex("bodyPart","bodyPart"),e.createIndex("name","name")}r.objectStoreNames.contains("templates")||r.createObjectStore("templates",{keyPath:"id"}),r.objectStoreNames.contains("workouts")||r.createObjectStore("workouts",{keyPath:"id",autoIncrement:!0}).createIndex("date","date"),r.objectStoreNames.contains("metrics")||r.createObjectStore("metrics",{keyPath:"date"}),r.objectStoreNames.contains("scheduled")||r.createObjectStore("scheduled",{keyPath:"date"})}})}async function nx(){return(await _n()).getAll("exercises")}async function J3(r){const t=(await _n()).transaction("exercises","readwrite");await Promise.all([...r.map(n=>t.store.add(n)),t.done])}async function No(){return(await _n()).getAll("templates")}async function Q3(r){return(await _n()).get("templates",r)}async function Z3(r){return(await _n()).put("templates",r)}async function eA(r){return(await _n()).delete("templates",r)}async function tA(r){const t=(await _n()).transaction("templates","readwrite");await Promise.all([...r.map(n=>t.store.put(n)),t.done])}async function rA(r){return(await _n()).add("workouts",{...r,date:r.date||new Date().toISOString().split("T")[0],timestamp:new Date().toISOString()})}async function aA(r,e){return(await _n()).put("scheduled",{date:r,templateId:e})}async function J_(r){return(await _n()).get("scheduled",r)}async function sx(){return await(await _n()).count("exercises")>0}const nA=[{category:"Strength",bodyPart:"Chest",name:"Barbell Bench Press",equipment:"Barbell"},{category:"Strength",bodyPart:"Chest",name:"Incline Barbell Bench Press",equipment:"Barbell"},{category:"Strength",bodyPart:"Chest",name:"Decline Barbell Bench Press",equipment:"Barbell"},{category:"Strength",bodyPart:"Chest",name:"Dumbbell Bench Press",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Chest",name:"Incline Dumbebell Bench Press",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Chest",name:"Decline Dumbbell Bench Press",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Chest",name:"Machine Chest Fly",equipment:"Machine"},{category:"Strength",bodyPart:"Chest",name:"Dumbbell Chest Fly",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Chest",name:"Cable Chest Fly",equipment:"Cable"},{category:"Strength",bodyPart:"Chest",name:"Machine Chest Press",equipment:"Machine"},{category:"Strength",bodyPart:"Chest",name:"Incline Machine Chest Press",equipment:"Machine"},{category:"Strength",bodyPart:"Chest",name:"Decline Machine Chest Press",equipment:"Machine"},{category:"Strength",bodyPart:"Back",name:"Pullups",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Back",name:"Barbell Row",equipment:"Barbell"},{category:"Strength",bodyPart:"Back",name:"Smith Machine Row",equipment:"Machine"},{category:"Strength",bodyPart:"Back",name:"Cable Row",equipment:"Cable"},{category:"Strength",bodyPart:"Back",name:"Single Arm Cable Row",equipment:"Cable"},{category:"Strength",bodyPart:"Back",name:"Machine Row",equipment:"Machine"},{category:"Strength",bodyPart:"Back",name:"Single Arm Machine Row",equipment:"Machine"},{category:"Strength",bodyPart:"Back",name:"Dumbell Row",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Back",name:"Single Arm Dumbell Row",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Back",name:"Cable Lat Pulldown",equipment:"Cable"},{category:"Strength",bodyPart:"Back",name:"Cable Single Arm Lat Pulldown",equipment:"Cable"},{category:"Strength",bodyPart:"Back",name:"Machine Lat Pulldown",equipment:"Machine"},{category:"Strength",bodyPart:"Back",name:"Single Arm Machine Lat Pulldown",equipment:"Machine"},{category:"Strength",bodyPart:"Back",name:"Straigh Arm Cable Pulldown",equipment:"Cable"},{category:"Strength",bodyPart:"Back",name:"Face Pulls",equipment:"Cable"},{category:"Strength",bodyPart:"Back",name:"Dumbell Pullovers",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Biceps",name:"Dumbell Hammer Curls",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Biceps",name:"Dumbell Curls",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Biceps",name:"Alternating Dumbell Curls",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Biceps",name:"Seated Curls",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Biceps",name:"Dumbell Preacher Curls",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Biceps",name:"Machine Preacher Curls",equipment:"Machine"},{category:"Strength",bodyPart:"Biceps",name:"Cable Preacher Curls",equipment:"Cable"},{category:"Strength",bodyPart:"Biceps",name:"Cable Hammer Curls",equipment:"Cable"},{category:"Strength",bodyPart:"Triceps",name:"Close Grip Pushups",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Triceps",name:"Cable Tricep Extensions",equipment:"Cable"},{category:"Strength",bodyPart:"Triceps",name:"Machine Tricep Pushdowns",equipment:"Machine"},{category:"Strength",bodyPart:"Triceps",name:"Tricep Dips",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Shoulders",name:"Side Raise",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Shoulders",name:"Front Raise",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Shoulders",name:"Reverse Fly",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Shoulders",name:"Cable Side Raise",equipment:"Cable"},{category:"Strength",bodyPart:"Shoulders",name:"Cable Front Raise",equipment:"Cable"},{category:"Strength",bodyPart:"Shoulders",name:"Dumbell Overhead Press",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Shoulders",name:"Barbell Overhead Press",equipment:"Barbell"},{category:"Strength",bodyPart:"Shoulders",name:"Machine Overhead Press",equipment:"Machine"},{category:"Strength",bodyPart:"Shoulders",name:"Cable Machine Overhead Press",equipment:"Cable"},{category:"Strength",bodyPart:"Shoulders",name:"Dumbell Shrugs",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Shoulders",name:"Barbell Shrugs",equipment:"Barbell"},{category:"Strength",bodyPart:"Shoulders",name:"Machine Shrugs",equipment:"Machine"},{category:"Strength",bodyPart:"Shoulders",name:"Barbell Front Raise",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Barbell Squat",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Front Squat",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Goblet Squat",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Legs",name:"Split Squat",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Lunge",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Reverse Lunge",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Walking Lunge",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Legs",name:"Side Lunge",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Legs",name:"Leg Extensions",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Leg Curls",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Deadlift",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Hip Thrust Machine",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Hip Thrust Barbell",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Leg Press Machine",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Leg Press Cables",equipment:"Cable"},{category:"Strength",bodyPart:"Legs",name:"Hack Squat",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Hip Extensions Inwards",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Hip Extensions Outwards",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Calf Raises",equipment:"Machine"},{category:"Strength",bodyPart:"Legs",name:"Bulgarian Split Squat",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Legs",name:"Barbell RDL",equipment:"Barbell"},{category:"Strength",bodyPart:"Legs",name:"Dumbell RDL",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Core",name:"Cable Crunch",equipment:"Cable"},{category:"Strength",bodyPart:"Core",name:"Ab Wheel",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Core",name:"Crunch Machine",equipment:"Machine"},{category:"Strength",bodyPart:"Core",name:"Bench Reverse Crunch",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Core",name:"Side bends",equipment:"Dumbbell"},{category:"Strength",bodyPart:"Core",name:"Rotation Machine",equipment:"Machine"},{category:"Strength",bodyPart:"Core",name:"Med Ball Crunch",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Core",name:"Med Ball Reverse Crunch",equipment:"Bodyweight"},{category:"Strength",bodyPart:"Core",name:"Alternating Med Ball Crunch",equipment:"Bodyweight"},{category:"Cardio",bodyPart:"Cardio",name:"Outdoor Run",equipment:"Intense Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Treadmill Run",equipment:"Intense Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Outdoor Walk",equipment:"Relaxed Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Treadmill Walk",equipment:"Relaxed Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Incline Treadmill Walk",equipment:"Intense Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Stairmaster",equipment:"Intense Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Bicycle",equipment:"Relaxed Cardio"},{category:"Cardio",bodyPart:"Cardio",name:"Row Machine",equipment:"Intense Cardio"},{category:"Recovery",bodyPart:"Recovery",name:"Sauna",equipment:"Heat"},{category:"Recovery",bodyPart:"Recovery",name:"Cold Plunge",equipment:"Cold"},{category:"Recovery",bodyPart:"Recovery",name:"Massage",equipment:"Rest"},{category:"Recovery",bodyPart:"Recovery",name:"Hot Tub",equipment:"Heat"},{category:"Recovery",bodyPart:"Recovery",name:"Steam Room",equipment:"Heat"}],sA=[{id:"day1",name:"Day 1",exercises:["Incline Treadmill Walk","Treadmill Run","Machine Chest Press","Incline Machine Chest Press","Machine Chest Fly","Cable Tricep Extensions","Machine Tricep Pushdowns","Leg Press Machine","Cable Crunch","Sauna"]},{id:"day2",name:"Day 2",exercises:["Incline Treadmill Walk","Treadmill Run","Pullups","Machine Row","Cable Lat Pulldown","Dumbell Hammer Curls","Cable Preacher Curls","Hack Squat","Ab Wheel","Sauna"]},{id:"day3",name:"Day 3",exercises:["Cold Plunge","Treadmill Walk","Treadmill Run","Hack Squat","Leg Press Machine","Goblet Squat","Walking Lunge","Leg Curls","Cable Crunch","Sauna"]},{id:"day4",name:"Day 4",exercises:["Incline Treadmill Walk","Treadmill Run","Dumbell Hammer Curls","Seated Curls","Machine Preacher Curls","Cable Tricep Extensions","Machine Tricep Pushdowns","Tricep Dips","Side Raise","Reverse Fly","Machine Overhead Press","Dumbell Shrugs","Stairmaster","Sauna"]},{id:"day5",name:"Day 5",exercises:["Incline Treadmill Walk","Treadmill Run","Machine Chest Fly","Machine Chest Press","Incline Machine Chest Press","Pullups","Smith Machine Row","Cable Row","Cable Lat Pulldown","Straigh Arm Cable Pulldown","Face Pulls","Leg Press Machine","Cable Crunch","Sauna","Cold Plunge"]},{id:"day6",name:"Day 6",exercises:["Machine Preacher Curls","Cable Tricep Extensions","Cable Side Raise","Cable Front Raise","Hip Extensions Inwards","Hip Extensions Outwards","Cable Crunch","Ab Wheel","Treadmill Run","Incline Treadmill Walk","Sauna","Cold Plunge"]},{id:"day7",name:"Day 7",exercises:["Treadmill Run","Treadmill Walk","Incline Treadmill Walk","Sauna","Hot Tub"]}];async function iA(){await sx()||(await J3(nA),await tA(sA))}async function ix(r,e){const{data:t,error:n}=await st.from("workouts").insert({user_id:e,date:r.date,duration:r.duration,template_name:r.templateName||null,perceived_effort:r.perceivedEffort||null,mood_after:r.moodAfter||null,notes:r.notes||null,day_of_week:r.dayOfWeek??null}).select().single();if(n)throw n;for(let i=0;i<r.exercises.length;i++){const o=r.exercises[i],{data:c,error:h}=await st.from("workout_exercises").insert({workout_id:t.id,exercise_name:o.name,category:o.category,body_part:o.bodyPart,equipment:o.equipment,exercise_order:i}).select().single();if(h)throw h;if(o.sets&&o.sets.length>0){const d=o.sets.map((_,v)=>({workout_exercise_id:c.id,set_number:v+1,weight:_.weight?Number(_.weight):null,reps:_.reps?Number(_.reps):null,time:_.time||null,speed:_.speed?Number(_.speed):null,incline:_.incline?Number(_.incline):null})),{error:m}=await st.from("workout_sets").insert(d);if(m)throw m}}return t}async function Xn(r){const{data:e,error:t}=await st.from("workouts").select(`
      *,
      workout_exercises (
        *,
        workout_sets (*)
      )
    `).eq("user_id",r).order("date",{ascending:!1});if(t)throw t;return e}async function U0(r){const{data:e,error:t}=await st.from("workouts").select("date").eq("user_id",r);if(t)throw t;return[...new Set(e.map(n=>n.date))]}async function lx(r,e){const{data:t,error:n}=await st.from("workouts").select(`
      *,
      workout_exercises (
        *,
        workout_sets (*)
      )
    `).eq("user_id",r).eq("date",e);if(n)throw n;return t}async function ox(r,e,t){const{error:n}=await st.from("workouts").update({date:e.date,duration:e.duration,template_name:e.templateName||null,perceived_effort:e.perceivedEffort||null,mood_after:e.moodAfter||null,notes:e.notes||null,day_of_week:e.dayOfWeek??null}).eq("id",r);if(n)throw n;const{data:i}=await st.from("workout_exercises").select("id").eq("workout_id",r);if(i){for(const o of i)await st.from("workout_sets").delete().eq("workout_exercise_id",o.id);await st.from("workout_exercises").delete().eq("workout_id",r)}for(let o=0;o<e.exercises.length;o++){const c=e.exercises[o],{data:h,error:d}=await st.from("workout_exercises").insert({workout_id:r,exercise_name:c.name,category:c.category,body_part:c.bodyPart,equipment:c.equipment,exercise_order:o}).select().single();if(d)throw d;if(c.sets&&c.sets.length>0){const m=c.sets.map((v,x)=>({workout_exercise_id:h.id,set_number:x+1,weight:v.weight?Number(v.weight):null,reps:v.reps?Number(v.reps):null,time:v.time||null,speed:v.speed?Number(v.speed):null,incline:v.incline?Number(v.incline):null})),{error:_}=await st.from("workout_sets").insert(m);if(_)throw _}}}async function H0(r){const{data:e}=await st.from("workout_exercises").select("id").eq("workout_id",r);if(e)for(const n of e)await st.from("workout_sets").delete().eq("workout_exercise_id",n.id);await st.from("workout_exercises").delete().eq("workout_id",r);const{error:t}=await st.from("workouts").delete().eq("id",r);if(t)throw t}async function z0(r,e,t){const{data:n,error:i}=await st.from("daily_metrics").upsert({user_id:r,date:e,sleep_score:t.sleepScore||null,sleep_time:t.sleepTime||null,hrv:t.hrv||null,steps:t.steps||null,calories:t.caloriesBurned||null,weight:t.weight||null,resting_heart_rate:t.restingHeartRate||null,body_temp:t.bodyTemp||null},{onConflict:"user_id,date"}).select();if(i)throw i;return n}async function Ho(r){const{data:e,error:t}=await st.from("daily_metrics").select("*").eq("user_id",r).order("date",{ascending:!0});if(t)throw t;return e}async function d0(r){const{data:e,error:t}=await st.from("scheduled_workouts").select("*").eq("user_id",r).gte("date",new Date().toISOString().split("T")[0]).order("date",{ascending:!0});if(t)throw t;return e}async function m0(r){const e=await Xn(r),t={};return console.log("getBodyPartStats - workouts:",e.length),e.forEach(n=>{n.workout_exercises?.forEach(i=>{const o=i.body_part||"Other";console.log("Exercise:",i.exercise_name,"Body part:",o),t[o]=(t[o]||0)+1})}),console.log("Body part counts:",t),t}async function zo(r){const e=await U0(r);if(e.length===0)return 0;const t=e.sort((c,h)=>new Date(h)-new Date(c)),n=Dt(),i=Jy();if(t[0]!==n&&t[0]!==i)return 0;let o=1;for(let c=1;c<t.length;c++){const h=new Date(t[c-1]),d=new Date(t[c]);if((h-d)/864e5===1)o++;else break}return o}async function p0(r,e=30){const t=new Date(Date.now()-e*864e5).toISOString().split("T")[0],{data:n,error:i}=await st.from("workouts").select("date").eq("user_id",r).gte("date",t);if(i)throw i;const o={};return n.forEach(c=>{o[c.date]=(o[c.date]||0)+1}),o}async function g0(r){const e=await Xn(r),t={};return e.forEach(i=>{i.workout_exercises?.forEach(o=>{t[o.exercise_name]=(t[o.exercise_name]||0)+1})}),Object.entries(t).sort((i,o)=>o[1]-i[1]).slice(0,10)}async function $0(r){const{data:e,error:t}=await st.from("user_preferences").select("*").eq("user_id",r).single();if(t&&t.code!=="PGRST116")throw t;return e}function q0(r,e){const{fitnessGoal:t,experienceLevel:n,availableDays:i,sessionDuration:o}=r,c=i.length;let h=[];c<=2?h=["Full Body","Full Body"]:c===3?t==="strength"||t==="hypertrophy"?h=["Push","Pull","Legs"]:h=["Full Body","Cardio + Core","Full Body"]:c===4?h=["Upper","Lower","Upper","Lower"]:c===5?h=["Push","Pull","Legs","Upper","Lower"]:h=["Push","Pull","Legs","Push","Pull","Legs"];const d={Push:["Bench Press","Overhead Press","Incline Dumbbell Press","Tricep Pushdowns","Lateral Raises","Chest Flyes"],Pull:["Deadlift","Barbell Rows","Pull-ups","Face Pulls","Bicep Curls","Lat Pulldowns"],Legs:["Squats","Romanian Deadlift","Leg Press","Leg Curls","Calf Raises","Lunges"],Upper:["Bench Press","Barbell Rows","Overhead Press","Pull-ups","Bicep Curls","Tricep Pushdowns"],Lower:["Squats","Romanian Deadlift","Leg Press","Leg Curls","Hip Thrusts","Calf Raises"],"Full Body":["Squats","Bench Press","Barbell Rows","Overhead Press","Deadlift","Core Work"],"Cardio + Core":["Treadmill Run","Planks","Russian Twists","Mountain Climbers","Bicycle Crunches"]},m=n==="beginner"?3:n==="intermediate"?4:5,_=i.map((y,b)=>{const w=h[b%h.length],S=d[w]||[],j=Math.min(S.length,Math.floor(o/10));return{day:y,focus:w,exercises:S.slice(0,j),sets:m,restDay:!1}}),v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];v.filter(y=>!i.includes(y));const x=v.map(y=>{const b=_.find(w=>w.day===y);return b||{day:y,focus:"Rest",restDay:!0}});return{daysPerWeek:c,goal:t,experience:n,schedule:x}}async function _0(r){const e=await Xn(r),t={},n=["Chest","Back","Shoulders","Biceps","Triceps","Core","Legs","Cardio","Recovery"];return n.forEach(i=>{t[i]={lastTrained:null,topExercise:null,avgPerWeek:0,exerciseCounts:{},dates:[]}}),e.forEach(i=>{i.workout_exercises?.forEach(o=>{const c=o.body_part||"Other";t[c]&&(t[c].dates.includes(i.date)||t[c].dates.push(i.date),t[c].exerciseCounts[o.exercise_name]=(t[c].exerciseCounts[o.exercise_name]||0)+1)})}),n.forEach(i=>{const o=t[i];o.dates.length>0&&(o.lastTrained=o.dates.sort((h,d)=>new Date(d)-new Date(h))[0]);const c=Object.entries(o.exerciseCounts);if(c.length>0&&(c.sort((h,d)=>d[1]-h[1]),o.topExercise=c[0][0]),e.length>0&&o.dates.length>0){const h=e.map(v=>v.date).sort(),d=new Date(h[0]),m=new Date(h[h.length-1]),_=Math.max(1,(m-d)/(7*864e5));o.avgPerWeek=o.dates.length/_}delete o.exerciseCounts,delete o.dates}),t}const lA=Object.freeze(Object.defineProperty({__proto__:null,calculateStreakFromSupabase:zo,deleteWorkoutFromSupabase:H0,generateWorkoutPlan:q0,getAllMetricsFromSupabase:Ho,getBodyPartStats:m0,getDetailedBodyPartStats:_0,getExerciseStats:g0,getScheduledWorkoutsFromSupabase:d0,getUserPreferences:$0,getWorkoutDatesFromSupabase:U0,getWorkoutFrequency:p0,getWorkoutsByDateFromSupabase:lx,getWorkoutsFromSupabase:Xn,saveMetricsToSupabase:z0,saveWorkoutToSupabase:ix,updateWorkoutInSupabase:ox},Symbol.toStringTag,{value:"Module"})),oA="_container_176c6_1",cA="_header_176c6_11",uA="_title_176c6_21",fA="_content_176c6_31",hA="_navMenu_176c6_149",dA="_navItem_176c6_157",mA="_navLabel_176c6_189",pA="_loading_176c6_196",gA="_quickActionBtn_176c6_204",_A="_plusIcon_176c6_234",vA="_menuOverlay_176c6_240",yA="_quickMenu_176c6_252",xA="_quickMenuItem_176c6_292",wA="_quickMenuLabel_176c6_318",na={container:oA,header:cA,title:uA,content:fA,navMenu:hA,navItem:dA,navLabel:mA,loading:pA,quickActionBtn:gA,plusIcon:_A,menuOverlay:vA,quickMenu:yA,quickMenuItem:xA,quickMenuLabel:wA};function SA(){const r=tn(),{user:e}=La(),[t,n]=q.useState(0),[i,o]=q.useState(!0),[c,h]=q.useState(null),[d,m]=q.useState(!1);if(q.useEffect(()=>{async function y(){if(await sx()||await iA(),e)try{const E=await zo(e.id);n(E);try{const N=Dt();let B=await js(e.id,N);if(!B){const{getYesterdayEST:X}=await br(async()=>{const{getYesterdayEST:R}=await Promise.resolve().then(()=>xl);return{getYesterdayEST:R}},void 0),Y=X();B=await js(e.id,Y)}B||(B=await F0(e.id)),B&&B.steps!=null&&h({steps:Number(B.steps),date:B.date})}catch{}}catch{}o(!1)}y();const b=new URLSearchParams(window.location.search),w=b.get("fitbit_connected"),S=b.get("fitbit_error");w?r("/wearables?fitbit_connected=true",{replace:!0}):S&&r(`/wearables?fitbit_error=${S}`,{replace:!0})},[e,r]),i)return f.jsx("div",{className:na.container,children:f.jsx("div",{className:na.loading,children:"Loading..."})});const _=[{id:"fitness",label:"Fitness",path:"/fitness"},{id:"nutrition",label:"Nutrition",path:"/nutrition"},{id:"health",label:"Health",path:"/health"},{id:"calendar",label:"Calendar",path:"/calendar"},{id:"analytics",label:"Analytics",path:"/analytics"},{id:"goals",label:"Goals",path:"/goals"},{id:"profile",label:"Profile",path:"/profile"}],v=[{id:"workout",label:"Start Workout",path:"/fitness"},{id:"meal",label:"Log Meal",path:"/nutrition"},{id:"metrics",label:"Log Metrics",path:"/health"}],x=y=>{m(!1),r(y)};return f.jsxs("div",{className:na.container,children:[f.jsxs("div",{className:na.header,children:[f.jsx("h1",{className:na.title,children:"Home"}),f.jsx("button",{className:na.quickActionBtn,onClick:()=>m(!d),"aria-label":"Quick actions",children:f.jsx("span",{className:na.plusIcon,children:"+"})})]}),d&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:na.menuOverlay,onClick:()=>m(!1)}),f.jsx("div",{className:na.quickMenu,children:v.map(y=>f.jsx("button",{className:na.quickMenuItem,onClick:()=>x(y.path),children:f.jsx("span",{className:na.quickMenuLabel,children:y.label})},y.id))})]}),f.jsx("div",{className:na.content,children:f.jsx("div",{className:na.navMenu,children:_.map(y=>f.jsx("button",{className:na.navItem,onClick:()=>r(y.path),children:f.jsx("span",{className:na.navLabel,children:y.label})},y.id))})})]})}async function bA(r,e){const{data:t,error:n}=await st.from("goals").upsert({user_id:r,id:e.id||void 0,category:e.category,type:e.type,target_value:e.targetValue,current_value:e.currentValue||0,unit:e.unit||"",start_date:e.startDate,end_date:e.endDate||null,status:e.status||"active",custom_name:e.customName||null,description:e.description||null,created_at:e.createdAt||new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"id"}).select().single();if(n)throw vr("Error saving goal",n),n;return t}async function cx(r,e={}){let t=st.from("goals").select("*").eq("user_id",r);e.category&&(t=t.eq("category",e.category)),e.status&&(t=t.eq("status",e.status)),e.startDate&&(t=t.gte("start_date",e.startDate)),e.endDate&&(t=t.lte("end_date",e.endDate)),t=t.order("created_at",{ascending:!1});const{data:n,error:i}=await t;return i?(vr("Error getting goals",i),[]):n||[]}async function wl(r,e=null){const t={status:"active"};return e&&(t.category=e),cx(r,t)}async function TA(r,e){const{data:t,error:n}=await st.from("goals").update({status:"archived",updated_at:new Date().toISOString()}).eq("id",e).eq("user_id",r).select().single();if(n)throw vr("Error archiving goal",n),n;return t}async function EA(r,e){const{error:t}=await st.from("goals").delete().eq("id",e).eq("user_id",r);if(t)throw vr("Error deleting goal",t),t}const AA="_overlay_5pck3_1",CA="_modal_5pck3_19",NA="_header_5pck3_39",kA="_closeBtn_5pck3_65",jA="_search_5pck3_83",OA="_filterSection_5pck3_107",DA="_filterLabel_5pck3_115",RA="_filters_5pck3_135",BA="_filterBtn_5pck3_151",MA="_active_5pck3_169",LA="_list_5pck3_179",PA="_group_5pck3_191",FA="_groupTitle_5pck3_199",IA="_exerciseBtn_5pck3_219",UA="_exerciseName_5pck3_251",HA="_exerciseEquip_5pck3_261",zA="_customBtn_5pck3_271",$A="_customForm_5pck3_295",qA="_customInput_5pck3_307",GA="_customCategoryRow_5pck3_325",VA="_customSelect_5pck3_349",WA="_customActions_5pck3_367",YA="_customCancel_5pck3_377",XA="_customAdd_5pck3_395",pt={overlay:AA,modal:CA,header:NA,closeBtn:kA,search:jA,filterSection:OA,filterLabel:DA,filters:RA,filterBtn:BA,active:MA,list:LA,group:PA,groupTitle:FA,exerciseBtn:IA,exerciseName:UA,exerciseEquip:HA,customBtn:zA,customForm:$A,customInput:qA,customCategoryRow:GA,customSelect:VA,customActions:WA,customCancel:YA,customAdd:XA};function ux({exercises:r,onSelect:e,onClose:t}){const[n,i]=q.useState(""),[o,c]=q.useState("all"),[h,d]=q.useState("all"),[m,_]=q.useState("all"),[v,x]=q.useState(!1),[y,b]=q.useState(""),[w,S]=q.useState("Strength"),j=q.useMemo(()=>[...new Set(r.map(R=>R.bodyPart).filter(Boolean))].sort(),[r]),E=q.useMemo(()=>[...new Set(r.map(R=>R.category).filter(Boolean))].sort(),[r]),N=q.useMemo(()=>[...new Set(r.map(R=>R.equipment).filter(Boolean))].sort(),[r]),B=q.useMemo(()=>r.filter(Y=>{const R=Y.name.toLowerCase().includes(n.toLowerCase()),J=o==="all"||Y.bodyPart===o,Z=h==="all"||Y.category===h,fe=m==="all"||Y.equipment===m;return R&&J&&Z&&fe}),[r,n,o,h,m]),X=q.useMemo(()=>{const Y={};return B.forEach(R=>{const J=R.bodyPart||"Other";Y[J]||(Y[J]=[]),Y[J].push(R)}),Y},[B]);return f.jsx("div",{className:pt.overlay,children:f.jsxs("div",{className:pt.modal,children:[f.jsxs("div",{className:pt.header,children:[f.jsx("h2",{children:"Add Exercise"}),f.jsx("button",{className:pt.closeBtn,onClick:t,children:""})]}),f.jsx("div",{className:pt.search,children:f.jsx("input",{type:"text",placeholder:"Search exercises...",value:n,onChange:Y=>i(Y.target.value),autoFocus:!0})}),f.jsxs("div",{className:pt.filterSection,children:[f.jsx("label",{className:pt.filterLabel,children:"Body Part"}),f.jsxs("div",{className:pt.filters,children:[f.jsx("button",{className:`${pt.filterBtn} ${o==="all"?pt.active:""}`,onClick:()=>c("all"),children:"All"}),j.map(Y=>f.jsx("button",{className:`${pt.filterBtn} ${o===Y?pt.active:""}`,onClick:()=>c(Y),children:Y},Y))]})]}),f.jsxs("div",{className:pt.filterSection,children:[f.jsx("label",{className:pt.filterLabel,children:"Category"}),f.jsxs("div",{className:pt.filters,children:[f.jsx("button",{className:`${pt.filterBtn} ${h==="all"?pt.active:""}`,onClick:()=>d("all"),children:"All"}),E.map(Y=>f.jsx("button",{className:`${pt.filterBtn} ${h===Y?pt.active:""}`,onClick:()=>d(Y),children:Y},Y))]})]}),f.jsxs("div",{className:pt.filterSection,children:[f.jsx("label",{className:pt.filterLabel,children:"Equipment"}),f.jsxs("div",{className:pt.filters,children:[f.jsx("button",{className:`${pt.filterBtn} ${m==="all"?pt.active:""}`,onClick:()=>_("all"),children:"All"}),N.map(Y=>f.jsx("button",{className:`${pt.filterBtn} ${m===Y?pt.active:""}`,onClick:()=>_(Y),children:Y},Y))]})]}),f.jsx("div",{className:pt.list,children:v?f.jsxs("div",{className:pt.customForm,children:[f.jsx("h3",{className:pt.groupTitle,children:"Custom Exercise"}),f.jsx("input",{type:"text",placeholder:"Exercise name",value:y,onChange:Y=>b(Y.target.value),className:pt.customInput,autoFocus:!0}),f.jsxs("div",{className:pt.customCategoryRow,children:[f.jsx("label",{children:"Category:"}),f.jsxs("select",{value:w,onChange:Y=>S(Y.target.value),className:pt.customSelect,children:[f.jsx("option",{value:"Strength",children:"Strength"}),f.jsx("option",{value:"Cardio",children:"Cardio"}),f.jsx("option",{value:"Recovery",children:"Recovery"})]})]}),f.jsxs("div",{className:pt.customActions,children:[f.jsx("button",{className:pt.customCancel,onClick:()=>{x(!1),b("")},children:"Cancel"}),f.jsx("button",{className:pt.customAdd,disabled:!y.trim(),onClick:()=>{e({id:`custom-${Date.now()}`,name:y.trim(),category:w,bodyPart:w==="Recovery"?"Recovery":w==="Cardio"?"Cardio":"Other",equipment:"Other"})},children:"Add"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{className:pt.customBtn,onClick:()=>x(!0),children:"+ Add Custom Exercise"}),Object.entries(X).map(([Y,R])=>f.jsxs("div",{className:pt.group,children:[f.jsx("h3",{className:pt.groupTitle,children:Y}),R.map(J=>f.jsxs("button",{className:pt.exerciseBtn,onClick:()=>e(J),children:[f.jsx("span",{className:pt.exerciseName,children:J.name}),f.jsx("span",{className:pt.exerciseEquip,children:J.equipment})]},J.id))]},Y))]})})]})})}const KA="_overlay_120n2_1",JA="_modal_120n2_31",QA="_header_120n2_53",ZA="_editHeader_120n2_97",eC="_content_120n2_137",tC="_formGroup_120n2_149",rC="_exercisesSection_120n2_193",aC="_exercisesHeader_120n2_201",nC="_addExerciseBtn_120n2_227",sC="_exercisesList_120n2_245",iC="_exerciseItem_120n2_257",lC="_exerciseName_120n2_275",oC="_exerciseActions_120n2_287",cC="_moveBtn_120n2_297",uC="_removeBtn_120n2_299",fC="_emptyText_120n2_337",hC="_templatesList_120n2_351",dC="_newTemplateBtn_120n2_363",mC="_templateCard_120n2_385",pC="_templateInfo_120n2_405",gC="_templateCardName_120n2_419",_C="_templateCardCount_120n2_431",vC="_templateActions_120n2_441",yC="_editTemplateBtn_120n2_451",xC="_deleteTemplateBtn_120n2_453",wC="_footer_120n2_491",SC="_cancelBtn_120n2_505",bC="_saveBtn_120n2_507",Ft={overlay:KA,modal:JA,header:QA,editHeader:ZA,content:eC,formGroup:tC,exercisesSection:rC,exercisesHeader:aC,addExerciseBtn:nC,exercisesList:sC,exerciseItem:iC,exerciseName:lC,exerciseActions:oC,moveBtn:cC,removeBtn:uC,emptyText:fC,templatesList:hC,newTemplateBtn:dC,templateCard:mC,templateInfo:pC,templateCardName:gC,templateCardCount:_C,templateActions:vC,editTemplateBtn:yC,deleteTemplateBtn:xC,footer:wC,cancelBtn:SC,saveBtn:bC};function TC({templates:r,onClose:e,onSave:t,onDelete:n,onEdit:i,editingTemplate:o}){const[c,h]=q.useState(o||null),[d,m]=q.useState([]),[_,v]=q.useState(!1),[x,y]=q.useState({id:"",name:"",exercises:[]});q.useEffect(()=>{async function B(){const X=await nx();m(X)}B()},[]),q.useEffect(()=>{o?(h(o),y({id:o.id,name:o.name,exercises:[...o.exercises]})):c||y({id:`template-${Date.now()}`,name:"",exercises:[]})},[o]),q.useEffect(()=>{c&&y({id:c.id,name:c.name,exercises:[...c.exercises]})},[c]);const b=B=>{y(X=>({...X,exercises:[...X.exercises,B.name]})),v(!1)},w=B=>{y(X=>({...X,exercises:X.exercises.filter((Y,R)=>R!==B)}))},S=(B,X)=>{const Y=[...x.exercises],R=X==="up"?B-1:B+1;R<0||R>=Y.length||([Y[B],Y[R]]=[Y[R],Y[B]],y(J=>({...J,exercises:Y})))},j=()=>{if(!x.name.trim()){alert("Please enter a template name");return}if(x.exercises.length===0){alert("Please add at least one exercise");return}t(x),h(null),y({id:`template-${Date.now()}`,name:"",exercises:[]}),i&&i(null)},E=()=>{h(null),y({id:`template-${Date.now()}`,name:"",exercises:[]}),i&&i(null)},N=()=>{h(null),y({id:`template-${Date.now()}`,name:"",exercises:[]}),i&&i(null)};return f.jsx("div",{className:Ft.overlay,onClick:e,children:f.jsxs("div",{className:Ft.modal,onClick:B=>B.stopPropagation(),children:[f.jsxs("div",{className:Ft.header,children:[f.jsx("h2",{children:"Templates"}),f.jsx("button",{onClick:e,children:""})]}),c?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Ft.editHeader,children:[f.jsx("h2",{children:c&&r.find(B=>B.id===c.id)?"Edit Template":"New Template"}),f.jsx("button",{onClick:N,children:" Back"})]}),f.jsxs("div",{className:Ft.content,children:[f.jsxs("div",{className:Ft.formGroup,children:[f.jsx("label",{children:"Template Name"}),f.jsx("input",{type:"text",value:x.name,onChange:B=>y(X=>({...X,name:B.target.value})),placeholder:"e.g., Push Day, Leg Day"})]}),f.jsxs("div",{className:Ft.exercisesSection,children:[f.jsxs("div",{className:Ft.exercisesHeader,children:[f.jsx("label",{children:"Exercises"}),f.jsx("button",{className:Ft.addExerciseBtn,onClick:()=>v(!0),children:"+ Add Exercise"})]}),f.jsx("div",{className:Ft.exercisesList,children:x.exercises.length===0?f.jsx("p",{className:Ft.emptyText,children:"No exercises added yet"}):x.exercises.map((B,X)=>f.jsxs("div",{className:Ft.exerciseItem,children:[f.jsx("span",{className:Ft.exerciseName,children:B}),f.jsxs("div",{className:Ft.exerciseActions,children:[f.jsx("button",{className:Ft.moveBtn,onClick:()=>S(X,"up"),disabled:X===0,children:""}),f.jsx("button",{className:Ft.moveBtn,onClick:()=>S(X,"down"),disabled:X===x.exercises.length-1,children:""}),f.jsx("button",{className:Ft.removeBtn,onClick:()=>w(X),children:""})]})]},X))})]})]}),f.jsxs("div",{className:Ft.footer,children:[f.jsx("button",{className:Ft.cancelBtn,onClick:N,children:"Cancel"}),f.jsxs("button",{className:Ft.saveBtn,onClick:j,children:[c&&r.find(B=>B.id===c.id)?"Update":"Create"," Template"]})]})]}):f.jsxs("div",{className:Ft.templatesList,children:[f.jsx("button",{className:Ft.newTemplateBtn,onClick:E,children:"+ New Template"}),r.length===0?f.jsx("p",{className:Ft.emptyText,children:"No templates yet. Create your first one!"}):r.map(B=>f.jsxs("div",{className:Ft.templateCard,children:[f.jsxs("div",{className:Ft.templateInfo,children:[f.jsx("span",{className:Ft.templateCardName,children:B.name}),f.jsxs("span",{className:Ft.templateCardCount,children:[B.exercises.length," exercises"]})]}),f.jsxs("div",{className:Ft.templateActions,children:[f.jsx("button",{className:Ft.editTemplateBtn,onClick:()=>{h(B),i&&i(B)},children:"Edit"}),f.jsx("button",{className:Ft.deleteTemplateBtn,onClick:()=>{confirm(`Delete "${B.name}"?`)&&n(B.id)},children:"Delete"})]})]},B.id))]}),_&&f.jsx(ux,{onSelect:b,onClose:()=>v(!1),allExercises:d})]})})}const EC="_container_1e4o6_1",AC="_header_1e4o6_19",CC="_backBtn_1e4o6_41",NC="_title_1e4o6_87",kC="_content_1e4o6_107",jC="_startWorkoutBtn_1e4o6_131",OC="_optionsList_1e4o6_181",DC="_optionItem_1e4o6_193",RC="_optionText_1e4o6_255",BC="_historySection_1e4o6_269",MC="_historyTitle_1e4o6_277",LC="_section_1e4o6_291",PC="_sectionHeader_1e4o6_299",FC="_sectionTitle_1e4o6_313",IC="_templateList_1e4o6_409",UC="_templateBtn_1e4o6_421",HC="_templateName_1e4o6_453",zC="_templateCount_1e4o6_463",$C="_freestyleBtn_1e4o6_473",qC="_randomBtn_1e4o6_505",GC="_todayPlan_1e4o6_539",VC="_todayPlanHeader_1e4o6_553",WC="_todayPlanFocus_1e4o6_569",YC="_todayPlanDay_1e4o6_581",XC="_todayPlanExercises_1e4o6_591",KC="_todayPlanExercise_1e4o6_591",JC="_startPlanBtn_1e4o6_621",QC="_aiWorkoutCard_1e4o6_647",ZC="_aiWorkoutHeader_1e4o6_661",e4="_aiWorkoutName_1e4o6_677",t4="_clearAiBtn_1e4o6_689",r4="_aiWorkoutExercises_1e4o6_705",a4="_aiWorkoutExercise_1e4o6_705",n4="_startAiBtn_1e4o6_841",lt={container:EC,header:AC,backBtn:CC,title:NC,content:kC,startWorkoutBtn:jC,optionsList:OC,optionItem:DC,optionText:RC,historySection:BC,historyTitle:MC,section:LC,sectionHeader:PC,sectionTitle:FC,templateList:IC,templateBtn:UC,templateName:HC,templateCount:zC,freestyleBtn:$C,randomBtn:qC,todayPlan:GC,todayPlanHeader:VC,todayPlanFocus:WC,todayPlanDay:YC,todayPlanExercises:XC,todayPlanExercise:KC,startPlanBtn:JC,aiWorkoutCard:QC,aiWorkoutHeader:ZC,aiWorkoutName:e4,clearAiBtn:t4,aiWorkoutExercises:r4,aiWorkoutExercise:a4,startAiBtn:n4};function Q_(){const r=tn(),e=Qo(),{user:t}=La(),[n,i]=q.useState([]),[o,c]=q.useState(null),[h,d]=q.useState(null),[m,_]=q.useState(!1),[v,x]=q.useState(null),[y,b]=q.useState([]),[w,S]=q.useState(!1),[j,E]=q.useState([]),[N,B]=q.useState({sleepScore:"",sleepTime:"",hrv:"",steps:"",caloriesBurned:"",weight:""});q.useEffect(()=>{if(e.state?.aiWorkout)d(e.state.aiWorkout),localStorage.setItem("aiWorkout",JSON.stringify(e.state.aiWorkout));else{const J=localStorage.getItem("aiWorkout");if(J)try{d(JSON.parse(J))}catch{localStorage.removeItem("aiWorkout")}}async function R(){const J=await No();if(i(J),t)try{const Z=await Xn(t.id);b(Z.slice(0,10));const fe=await wl(t.id,"fitness");E(fe);const ge=await $0(t.id);if(ge&&ge.available_days?.length>0){const H=q0({fitnessGoal:ge.fitness_goal,experienceLevel:ge.experience_level,availableDays:ge.available_days,sessionDuration:ge.session_duration,equipmentAvailable:ge.equipment_available,injuries:ge.injuries},J),Ve=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],Te=H.schedule.find(W=>W.day===Ve&&!W.restDay);c(Te)}}catch{}}R()},[t,e.state]);const X=async R=>{r("/workout/active",{state:{templateId:R}})},Y=async()=>{try{const R=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:"Generate a random full-body workout for me"}]})});if(R.ok){const J=await R.json();if(J.workout){d(J.workout),localStorage.setItem("aiWorkout",JSON.stringify(J.workout)),r("/workout/active",{state:{aiWorkout:J.workout}});return}}}catch{alert("Failed to generate workout. Please try again.")}r("/workout/active",{state:{randomWorkout:!0}})};return f.jsxs("div",{className:lt.container,children:[f.jsxs("div",{className:lt.header,children:[f.jsx("button",{className:lt.backBtn,onClick:()=>r("/"),children:"Back"}),f.jsx("h1",{className:lt.title,children:"Fitness"}),f.jsx("div",{style:{width:80}})," "]}),f.jsxs("div",{className:lt.content,children:[f.jsx("button",{className:lt.startWorkoutBtn,onClick:()=>X(null),children:"Start Workout"}),f.jsxs("div",{className:lt.optionsList,children:[f.jsx("button",{className:lt.optionItem,onClick:()=>{const R=document.querySelector(`.${lt.templateSection}`);R&&R.scrollIntoView({behavior:"smooth"})},children:f.jsx("span",{className:lt.optionText,children:"View templates"})}),f.jsx("button",{className:lt.optionItem,onClick:()=>r("/goals"),children:f.jsx("span",{className:lt.optionText,children:"Goals"})}),f.jsx("button",{className:lt.optionItem,onClick:()=>S(!w),children:f.jsx("span",{className:lt.optionText,children:"Workout history"})})]}),w&&f.jsxs("div",{className:lt.historySection,children:[f.jsx("h3",{className:lt.historyTitle,children:"Workout History"}),f.jsx("div",{className:lt.historyList,children:y.length===0?f.jsx("p",{className:lt.emptyText,children:"No workouts yet"}):y.map(R=>f.jsxs("div",{className:lt.historyItem,children:[f.jsx("div",{className:lt.historyDate,children:new Date(R.date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),f.jsxs("div",{className:lt.historyDetails,children:[f.jsxs("span",{className:lt.historyDuration,children:[Math.floor((R.duration||0)/60),":",String((R.duration||0)%60).padStart(2,"0")]}),R.workout_exercises?.length>0&&f.jsxs("span",{className:lt.historyExercises,children:[R.workout_exercises.length," exercises"]})]})]},R.id))})]}),o&&f.jsxs("section",{className:lt.section,children:[f.jsx("h2",{className:lt.sectionTitle,children:"Today's Plan"}),f.jsxs("div",{className:lt.todayPlan,children:[f.jsxs("div",{className:lt.todayPlanHeader,children:[f.jsx("span",{className:lt.todayPlanFocus,children:o.focus}),f.jsx("span",{className:lt.todayPlanDay,children:o.day})]}),f.jsx("div",{className:lt.todayPlanExercises,children:o.exercises?.map((R,J)=>f.jsx("span",{className:lt.todayPlanExercise,children:R},J))}),f.jsxs("button",{className:lt.startPlanBtn,onClick:()=>X(`plan-${o.focus}`),children:["Start ",o.focus," Workout"]})]})]}),h&&f.jsxs("section",{className:lt.section,children:[f.jsx("h2",{className:lt.sectionTitle,children:"AI Generated Workout"}),f.jsxs("div",{className:lt.aiWorkoutCard,children:[f.jsxs("div",{className:lt.aiWorkoutHeader,children:[f.jsx("span",{className:lt.aiWorkoutName,children:h.name}),f.jsx("button",{className:lt.clearAiBtn,onClick:()=>{d(null),localStorage.removeItem("aiWorkout")},children:"Clear"})]}),f.jsx("div",{className:lt.aiWorkoutExercises,children:h.exercises?.map((R,J)=>f.jsxs("span",{className:lt.aiWorkoutExercise,children:[R.name,": ",R.sets,"x",R.reps]},J))}),f.jsx("button",{className:lt.startAiBtn,onClick:()=>r("/workout/active",{state:{aiWorkout:h}}),children:"Start AI Workout"})]})]}),f.jsxs("section",{className:lt.section,children:[f.jsxs("div",{className:lt.sectionHeader,children:[f.jsx("h2",{className:lt.sectionTitle,children:"View Templates"}),f.jsx("button",{className:lt.manageBtn,onClick:()=>_(!0),children:"Manage"})]}),f.jsxs("div",{className:lt.templateList,children:[n.map(R=>f.jsxs("button",{className:lt.templateBtn,onClick:()=>X(R.id),children:[f.jsx("span",{className:lt.templateName,children:R.name}),f.jsxs("span",{className:lt.templateCount,children:[R.exercises.length," exercises"]})]},R.id)),f.jsx("button",{className:lt.freestyleBtn,onClick:()=>X(null),children:"Freestyle Workout"}),f.jsx("button",{className:lt.randomBtn,onClick:Y,children:"Random Workout"})]})]}),m&&f.jsx(TC,{templates:n,onClose:()=>{_(!1),x(null)},onSave:async R=>{await Z3(R);const J=await No();i(J),x(null)},onDelete:async R=>{if(confirm("Delete this template?")){await eA(R);const J=await No();i(J),v?.id===R&&x(null)}},onEdit:R=>{x(R)},editingTemplate:v})]})]})}const s4="_chartContainer_1u91h_1",i4="_chart_1u91h_1",l4="_emptyChart_1u91h_41",o4="_bar_1u91h_48",c4="_xAxisLabels_1u91h_59",u4="_xAxisLabel_1u91h_59",f4="_xAxisLabelText_1u91h_83",h4="_yAxisLabel_1u91h_92",d4="_axisLabel_1u91h_105",m4="_value_1u91h_110",p4="_zoomIndicator_1u91h_116",g4="_modalOverlay_1u91h_130",_4="_detailModal_1u91h_144",v4="_modalHeader_1u91h_156",y4="_closeBtn_1u91h_171",x4="_modalContent_1u91h_192",w4="_detailRow_1u91h_196",S4="_detailLabel_1u91h_208",b4="_detailValue_1u91h_214",T4="_detailData_1u91h_221",E4="_dataPreview_1u91h_234",ur={chartContainer:s4,chart:i4,emptyChart:l4,bar:o4,xAxisLabels:c4,xAxisLabel:u4,xAxisLabelText:f4,yAxisLabel:h4,axisLabel:d4,value:m4,zoomIndicator:p4,modalOverlay:g4,detailModal:_4,modalHeader:v4,closeBtn:y4,modalContent:x4,detailRow:w4,detailLabel:S4,detailValue:b4,detailData:T4,dataPreview:E4};function ln({data:r,labels:e,height:t=200,color:n="#ff2d2d",showValues:i=!0,xAxisLabel:o="",yAxisLabel:c="",dates:h=null,onBarClick:d=null,dateData:m=null}){const[_,v]=q.useState(1),[x,y]=q.useState(0),[b,w]=q.useState(null),[S,j]=q.useState(!1),E=q.useRef(null),N=q.useRef(null),B=q.useRef(null),X=q.useMemo(()=>{if(!r||typeof r!="object"||Object.keys(r).length===0)return null;const ee=Object.values(r).map(P=>Number(P)||0),je=e||Object.keys(r),I=Math.max(...ee,1);return{values:ee,keys:je,max:I,dateKeys:h||je}},[r,e,h]),Y=(ee,je)=>{const I=je.clientX-ee.clientX,C=je.clientY-ee.clientY;return Math.sqrt(I*I+C*C)},R=ee=>{ee.touches.length===2?(N.current={touches:[ee.touches[0],ee.touches[1]],zoom:_,pan:x},B.current=Y(ee.touches[0],ee.touches[1])):ee.touches.length===1&&(N.current={touches:[ee.touches[0]],zoom:_,pan:x,startX:ee.touches[0].clientX})},J=ee=>{if(N.current){if(ee.touches.length===2&&N.current.touches?.length===2){const je=Y(ee.touches[0],ee.touches[1]),I=B.current;if(I>0){const C=je/I,P=Math.max(.5,Math.min(5,N.current.zoom*C));v(P),B.current=je}}else if(ee.touches.length===1&&N.current.startX!==void 0){const je=ee.touches[0].clientX-N.current.startX,I=(_-1)*100,C=Math.max(-I,Math.min(I,N.current.pan+je/10));y(C)}}},Z=()=>{N.current=null,B.current=null},fe=()=>{v(1),y(0)},ge=(ee,je,I,C)=>{d?d({index:ee,value:je,key:I,date:C,fullData:m?.[C]||m?.[I]}):(w({index:ee,value:je,key:I,date:C,fullData:m?.[C]||m?.[I]}),j(!0))};if(!X||X.values.length===0)return f.jsx("div",{className:ur.emptyChart,children:"No data available"});const H={top:20,right:20,bottom:40,left:50},Ee=100-H.left-H.right,Ve=100-H.top-H.bottom,Te=Math.max(3,Ee/Math.max(X.values.length,1)*.8),W=Ee/X.values.length,xe=5,Ie=Array.from({length:xe},(ee,je)=>X.max/(xe-1)*je);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:ur.chartContainer,ref:E,onTouchStart:R,onTouchMove:J,onTouchEnd:Z,onDoubleClick:fe,style:{transform:`scale(${_}) translateX(${x}px)`,transformOrigin:"center center",transition:N.current?"none":"transform 0.2s ease-out"},children:[_!==1&&f.jsxs("div",{className:ur.zoomIndicator,children:[Math.round(_*100),"%  Double tap to reset"]}),c&&f.jsx("div",{className:ur.yAxisLabel,children:c}),f.jsxs("svg",{viewBox:"0 0 100 100",className:ur.chart,preserveAspectRatio:"xMidYMid meet",children:[f.jsx("line",{x1:H.left,y1:H.top,x2:H.left,y2:100-H.bottom,stroke:"#ffffff",strokeWidth:"0.5"}),f.jsx("line",{x1:H.left,y1:100-H.bottom,x2:100-H.right,y2:100-H.bottom,stroke:"#ffffff",strokeWidth:"0.5"}),Ie.map((ee,je)=>{const I=H.top+(Ve-ee/X.max*Ve);return f.jsxs("g",{children:[f.jsx("line",{x1:H.left-2,y1:I,x2:H.left,y2:I,stroke:"#ffffff",strokeWidth:"0.3"}),f.jsx("text",{x:H.left-5,y:I+1,textAnchor:"end",fontSize:"1.5",fill:"#ffffff",className:ur.axisLabel,children:ee>1e3?`${(ee/1e3).toFixed(1)}k`:Math.round(ee)})]},je)}),X.values.map((ee,je)=>{const I=X.max>0?ee/X.max*Ve:0,C=H.left+je*W+(W-Te)/2,P=H.top+Ve-I,U=X.dateKeys[je],G=X.keys[je];return f.jsxs("g",{children:[f.jsx("rect",{x:C,y:P,width:Te,height:Math.max(.5,I),fill:n,className:ur.bar,onClick:()=>ge(je,ee,G,U),style:{cursor:d||m?"pointer":"default"}}),i&&ee>0&&I>3&&f.jsx("text",{x:C+Te/2,y:P-1,textAnchor:"middle",fontSize:"1",fill:"#ffffff",className:ur.value,pointerEvents:"none",children:ee>1e3?`${(ee/1e3).toFixed(1)}k`:Math.round(ee)})]},je)})]}),X.keys&&X.keys.length>0&&f.jsx("div",{className:ur.xAxisLabels,children:X.keys.map((ee,je)=>f.jsx("span",{className:ur.xAxisLabel,children:ee},je))}),o&&f.jsx("div",{className:ur.xAxisLabelText,children:o})]}),S&&b&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:ur.modalOverlay,onClick:()=>j(!1)}),f.jsxs("div",{className:ur.detailModal,onClick:ee=>ee.stopPropagation(),children:[f.jsxs("div",{className:ur.modalHeader,children:[f.jsx("h3",{children:"Day Details"}),f.jsx("button",{className:ur.closeBtn,onClick:()=>j(!1),children:""})]}),f.jsxs("div",{className:ur.modalContent,children:[f.jsxs("div",{className:ur.detailRow,children:[f.jsx("span",{className:ur.detailLabel,children:"Date:"}),f.jsx("span",{className:ur.detailValue,children:b.date||b.key})]}),f.jsxs("div",{className:ur.detailRow,children:[f.jsx("span",{className:ur.detailLabel,children:"Value:"}),f.jsx("span",{className:ur.detailValue,children:b.value>1e3?`${(b.value/1e3).toFixed(1)}k`:Math.round(b.value)})]}),b.fullData&&f.jsxs("div",{className:ur.detailData,children:[f.jsx("h4",{children:"Full Data:"}),f.jsx("pre",{className:ur.dataPreview,children:JSON.stringify(b.fullData,null,2)})]})]})]})]})]})}const A4="_toast_11ojk_1",C4="_slideIn_11ojk_1",N4="_success_11ojk_63",k4="_error_11ojk_73",j4="_info_11ojk_83",O4="_toastContent_11ojk_93",D4="_toastIcon_11ojk_107",R4="_toastMessage_11ojk_163",B4="_toastClose_11ojk_177",il={toast:A4,slideIn:C4,success:N4,error:k4,info:j4,toastContent:O4,toastIcon:D4,toastMessage:R4,toastClose:B4};function fx({message:r,type:e="success",onClose:t,duration:n=3e3}){return q.useEffect(()=>{if(n>0){const i=setTimeout(()=>{t()},n);return()=>clearTimeout(i)}},[n,t]),f.jsxs("div",{className:`${il.toast} ${il[e]}`,children:[f.jsxs("div",{className:il.toastContent,children:[f.jsx("span",{className:il.toastIcon,children:e==="success"?"":e==="error"?"":""}),f.jsx("span",{className:il.toastMessage,children:r})]}),f.jsx("button",{className:il.toastClose,onClick:t,children:""})]})}function hx(){const[r,e]=q.useState(null),t=q.useCallback((i,o="success",c=3e3)=>{e({message:i,type:o,duration:c})},[]),n=q.useCallback(()=>{e(null)},[]);return{toast:r,showToast:t,hideToast:n}}const M4="_container_60677_1",L4="_header_60677_21",P4="_backBtn_60677_43",F4="_plusBtn_60677_101",I4="_plusIcon_60677_161",U4="_tabs_60677_173",H4="_tab_60677_173",z4="_activeTab_60677_227",$4="_content_60677_237",q4="_logMealBtn_60677_259",G4="_mealsSection_60677_429",V4="_sectionTitle_60677_437",W4="_mealTypeGroup_60677_459",Y4="_mealTypeTitle_60677_467",X4="_mealsList_60677_481",K4="_dateInput_60677_555",J4="_summaryCard_60677_579",Q4="_calorieRow_60677_601",Z4="_label_60677_615",eN="_calorieInput_60677_633",tN="_divider_60677_659",rN="_calorieValue_60677_673",aN="_over_60677_689",nN="_progressBar_60677_697",sN="_progressFill_60677_719",iN="_macroProgress_60677_733",lN="_macroItem_60677_745",oN="_macroHeader_60677_757",cN="_macroBar_60677_773",uN="_macroFill_60677_787",fN="_waterSection_60677_801",hN="_waterHeader_60677_813",dN="_waterButtons_60677_831",mN="_waterBtn_60677_841",pN="_fastingCard_60677_877",gN="_fastingTime_60677_893",_N="_stopFastingBtn_60677_909",vN="_activityNeeded_60677_931",yN="_mealTypeSelector_60677_1047",xN="_mealTypeBtn_60677_1061",wN="_activeMealType_60677_1099",SN="_manualEntryForm_60677_1237",bN="_formRow_60677_1249",TN="_formInput_60677_1273",EN="_macroInputs_60677_1305",AN="_macroInput_60677_1305",CN="_quickAddCard_60677_1357",NN="_quickAddGrid_60677_1383",kN="_quickAddBtn_60677_1395",jN="_quickAddName_60677_1423",ON="_quickAddCal_60677_1437",DN="_cancelBtn_60677_1513",RN="_submitBtn_60677_1515",BN="_mealSection_60677_1577",MN="_mealSectionTitle_60677_1589",LN="_mealCard_60677_1603",PN="_mealImage_60677_1623",FN="_mealHeader_60677_1639",IN="_mealCalories_60677_1651",UN="_mealActions_60677_1665",HN="_favoriteBtn_60677_1675",zN="_favoriteActive_60677_1713",$N="_removeBtn_60677_1725",qN="_mealFoods_60677_1765",GN="_foodTag_60677_1777",VN="_mealDescription_60677_1793",WN="_mealMacros_60677_1805",YN="_mealTime_60677_1821",XN="_emptyState_60677_1833",KN="_emptyHint_60677_1845",JN="_planContent_60677_1859",QN="_goalsContent_60677_1871",ZN="_goalsDateFilter_60677_1883",ek="_dateRangeInputs_60677_1915",tk="_historyContent_60677_1937",rk="_historyTable_60677_1949",ak="_historyTableHeader_60677_1967",nk="_historyTableBody_60677_1991",sk="_historyTableRow_60677_2001",ik="_historyTableCol_60677_2041",lk="_historyTableEmpty_60677_2051",ok="_deletePlanBtn_60677_2065",ck="_mealPlanActions_60677_2101",uk="_goalDateRange_60677_2113",fk="_mealPlanSection_60677_2405",hk="_mealPlanHeader_60677_2423",dk="_mealPlanDescription_60677_2455",mk="_mealPlanBtn_60677_2469",pk="_goalsLink_60677_2691",gk="_goalsHeader_60677_2707",_k="_goalsBtn_60677_2735",vk="_goalsNote_60677_2769",yk="_goalsList_60677_2781",xk="_goalCard_60677_2795",wk="_goalHeader_60677_2809",Sk="_goalName_60677_2823",bk="_goalProgress_60677_2835",Tk="_goalBar_60677_2847",Ek="_goalBarFill_60677_2865",Ak="_goalValues_60677_2877",Ck="_overlay_60677_2889",Nk="_modal_60677_2919",kk="_modalHeader_60677_2943",jk="_modalContent_60677_3021",Ok="_mealPlanEditor_60677_3029",Dk="_mealPlanDayEditor_60677_3049",Rk="_mealPlanMealInput_60677_3085",Bk="_mealPlanMealLabel_60677_3101",Mk="_mealPlanFieldGroup_60677_3123",Lk="_mealPlanFieldLabel_60677_3135",Pk="_mealPlanMealFields_60677_3149",Fk="_mealPlanInput_60677_3161",Ik="_mealPlanTimeInput_60677_3163",Uk="_modalActions_60677_3193",Hk="_saveBtn_60677_3221",zk="_mealPlanPreview_60677_3287",$k="_mealPlanDay_60677_3049",qk="_mealPlanDayHeader_60677_3313",Gk="_applyDayBtn_60677_3339",Vk="_mealPlanMeals_60677_3371",Wk="_mealPlanMealTag_60677_3383",Yk="_mealPlanMealTime_60677_3403",Xk="_mealPlanMealName_60677_3415",Kk="_mealPlanMealMacros_60677_3425",Q={container:M4,header:L4,backBtn:P4,plusBtn:F4,plusIcon:I4,tabs:U4,tab:H4,activeTab:z4,content:$4,logMealBtn:q4,mealsSection:G4,sectionTitle:V4,mealTypeGroup:W4,mealTypeTitle:Y4,mealsList:X4,dateInput:K4,summaryCard:J4,calorieRow:Q4,label:Z4,calorieInput:eN,divider:tN,calorieValue:rN,over:aN,progressBar:nN,progressFill:sN,macroProgress:iN,macroItem:lN,macroHeader:oN,macroBar:cN,macroFill:uN,waterSection:fN,waterHeader:hN,waterButtons:dN,waterBtn:mN,fastingCard:pN,fastingTime:gN,stopFastingBtn:_N,activityNeeded:vN,mealTypeSelector:yN,mealTypeBtn:xN,activeMealType:wN,manualEntryForm:SN,formRow:bN,formInput:TN,macroInputs:EN,macroInput:AN,quickAddCard:CN,quickAddGrid:NN,quickAddBtn:kN,quickAddName:jN,quickAddCal:ON,cancelBtn:DN,submitBtn:RN,mealSection:BN,mealSectionTitle:MN,mealCard:LN,mealImage:PN,mealHeader:FN,mealCalories:IN,mealActions:UN,favoriteBtn:HN,favoriteActive:zN,removeBtn:$N,mealFoods:qN,foodTag:GN,mealDescription:VN,mealMacros:WN,mealTime:YN,emptyState:XN,emptyHint:KN,planContent:JN,goalsContent:QN,goalsDateFilter:ZN,dateRangeInputs:ek,historyContent:tk,historyTable:rk,historyTableHeader:ak,historyTableBody:nk,historyTableRow:sk,historyTableCol:ik,historyTableEmpty:lk,deletePlanBtn:ok,mealPlanActions:ck,goalDateRange:uk,mealPlanSection:fk,mealPlanHeader:hk,mealPlanDescription:dk,mealPlanBtn:mk,goalsLink:pk,goalsHeader:gk,goalsBtn:_k,goalsNote:vk,goalsList:yk,goalCard:xk,goalHeader:wk,goalName:Sk,goalProgress:bk,goalBar:Tk,goalBarFill:Ek,goalValues:Ak,overlay:Ck,modal:Nk,modalHeader:kk,modalContent:jk,mealPlanEditor:Ok,mealPlanDayEditor:Dk,mealPlanMealInput:Rk,mealPlanMealLabel:Bk,mealPlanFieldGroup:Mk,mealPlanFieldLabel:Lk,mealPlanMealFields:Pk,mealPlanInput:Fk,mealPlanTimeInput:Ik,modalActions:Uk,saveBtn:Hk,mealPlanPreview:zk,mealPlanDay:$k,mealPlanDayHeader:qk,applyDayBtn:Gk,mealPlanMeals:Vk,mealPlanMealTag:Wk,mealPlanMealTime:Yk,mealPlanMealName:Xk,mealPlanMealMacros:Kk},Jk=["Today","History","Plan","Goals"],Nu=["Breakfast","Lunch","Dinner","Snacks"],Qk=[{name:"Banana",calories:105,macros:{protein:1,carbs:27,fat:0}},{name:"Apple",calories:95,macros:{protein:0,carbs:25,fat:0}},{name:"Chicken Breast (100g)",calories:165,macros:{protein:31,carbs:0,fat:4}},{name:"Egg",calories:70,macros:{protein:6,carbs:0,fat:5}},{name:"Protein Shake",calories:120,macros:{protein:25,carbs:3,fat:1}},{name:"Greek Yogurt (100g)",calories:59,macros:{protein:10,carbs:3,fat:0}},{name:"Rice (100g cooked)",calories:130,macros:{protein:3,carbs:28,fat:0}},{name:"Avocado (half)",calories:160,macros:{protein:2,carbs:9,fat:15}}];function Z_(){const r=tn(),{user:e}=La(),{toast:t,showToast:n,hideToast:i}=hx(),[o,c]=q.useState("Today"),[h,d]=q.useState(2e3),[m,_]=q.useState({protein:150,carbs:200,fat:67}),[v,x]=q.useState(0),[y,b]=q.useState({protein:0,carbs:0,fat:0}),[w,S]=q.useState([]),[j,E]=q.useState(0),[N,B]=q.useState(Dt()),[X,Y]=q.useState({}),[R,J]=q.useState([]),[Z,fe]=q.useState(!1),[ge,H]=q.useState(!1),[Ee,Ve]=q.useState("Snacks"),[Te,W]=q.useState({name:"",calories:"",protein:"",carbs:"",fat:""}),[xe,Ie]=q.useState(null),[ee,je]=q.useState(!1),[I,C]=q.useState(!1),[P,U]=q.useState(!1),[G,ie]=q.useState(null),[ve,Le]=q.useState([]),[Ce,De]=q.useState(null),[gt,ot]=q.useState(!1),[rr,he]=q.useState(null),[ne,_e]=q.useState(Dt()),[te,Xe]=q.useState(Dt()),We=q.useRef(null);q.useEffect(()=>{if(!e)return;Ct(),Qt(N),Me(),ze();const se=localStorage.getItem(`nutrition_manual_entry_${e.id}`);if(se)try{const ae=JSON.parse(se);(ae.calories||ae.name||ae.protein||ae.carbs||ae.fat)&&W(ae)}catch{}},[e,N]),q.useEffect(()=>{e&&(Te.calories||Te.name||Te.protein||Te.carbs||Te.fat)&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(Te))},[Te,e]);const Me=async()=>{if(e)try{const se=await wl(e.id,"nutrition");Le(se)}catch{}},ze=async()=>{if(e)try{const{getWeeklyMealPlanFromSupabase:se}=await br(async()=>{const{getWeeklyMealPlanFromSupabase:Re}=await Promise.resolve().then(()=>fn);return{getWeeklyMealPlanFromSupabase:Re}},void 0),ae=await se(e.id);De(ae)}catch(se){vr("Error loading weekly meal plan",se)}},rt=()=>{const se=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ae={};se.forEach(Re=>{ae[Re]={breakfast:{name:"",calories:0,macros:{protein:0,carbs:0,fat:0},time:"08:00"},lunch:{name:"",calories:0,macros:{protein:0,carbs:0,fat:0},time:"12:00"},dinner:{name:"",calories:0,macros:{protein:0,carbs:0,fat:0},time:"18:00"},snacks:[]}}),De(ae),ot(!0)},Rt=async()=>{if(!(!e||!Ce))try{const{saveWeeklyMealPlanToSupabase:se}=await br(async()=>{const{saveWeeklyMealPlanToSupabase:ae}=await Promise.resolve().then(()=>fn);return{saveWeeklyMealPlanToSupabase:ae}},void 0);await se(e.id,Ce),ot(!1)}catch(se){vr("Error saving weekly meal plan",se),alert("Failed to save meal plan. Please try again.")}},ut=se=>{if(!Ce||!Ce[se])return;const ae=Ce[se],Re=[];ae.breakfast&&ae.breakfast.name&&Re.push({...ae.breakfast,mealType:"Breakfast",foods:[ae.breakfast.name],description:ae.breakfast.name}),ae.lunch&&ae.lunch.name&&Re.push({...ae.lunch,mealType:"Lunch",foods:[ae.lunch.name],description:ae.lunch.name}),ae.dinner&&ae.dinner.name&&Re.push({...ae.dinner,mealType:"Dinner",foods:[ae.dinner.name],description:ae.dinner.name}),ae.snacks&&ae.snacks.length>0&&ae.snacks.forEach(qe=>{Re.push({...qe,mealType:"Snacks"})}),Re.forEach(qe=>{Et(qe)})},Ct=async()=>{if(e)try{const{getNutritionSettingsFromSupabase:se}=await br(async()=>{const{getNutritionSettingsFromSupabase:Re}=await Promise.resolve().then(()=>fn);return{getNutritionSettingsFromSupabase:Re}},void 0),ae=await se(e.id);if(ae)d(ae.targetCalories||2e3),_(ae.targetMacros||{protein:150,carbs:200,fat:67}),J(ae.favorites||[]),je(ae.fastingEnabled||!1),ae.fastingStartTime&&Ie(new Date(ae.fastingStartTime));else{const Re=localStorage.getItem(`ghostMode_${e.id}`);if(Re){const qe=JSON.parse(Re);d(qe.targetCalories||2e3),_(qe.targetMacros||{protein:150,carbs:200,fat:67}),J(qe.favorites||[]),je(qe.fastingEnabled||!1),qe.fastingStartTime&&Ie(new Date(qe.fastingStartTime));const{saveNutritionSettingsToSupabase:bt}=await br(async()=>{const{saveNutritionSettingsToSupabase:vt}=await Promise.resolve().then(()=>fn);return{saveNutritionSettingsToSupabase:vt}},void 0);await bt(e.id,{targetCalories:qe.targetCalories||2e3,targetMacros:qe.targetMacros||{protein:150,carbs:200,fat:67},favorites:qe.favorites||[],fastingEnabled:qe.fastingEnabled||!1,fastingStartTime:qe.fastingStartTime||null})}}}catch(se){vr("Error loading settings",se);const ae=localStorage.getItem(`ghostMode_${e.id}`);if(ae){const Re=JSON.parse(ae);d(Re.targetCalories||2e3),_(Re.targetMacros||{protein:150,carbs:200,fat:67}),J(Re.favorites||[]),je(Re.fastingEnabled||!1),Re.fastingStartTime&&Ie(new Date(Re.fastingStartTime))}}},Qt=async se=>{if(e)try{const{getMealsFromSupabase:ae,getNutritionRangeFromSupabase:Re}=await br(async()=>{const{getMealsFromSupabase:Kt,getNutritionRangeFromSupabase:xi}=await Promise.resolve().then(()=>fn);return{getMealsFromSupabase:Kt,getNutritionRangeFromSupabase:xi}},void 0),qe=await ae(e.id,se);S(qe.meals||[]),x(qe.calories||0),b(qe.macros||{protein:0,carbs:0,fat:0}),E(qe.water||0);const bt=new Date(Date.now()-2160*60*60*1e3).toISOString().split("T")[0],vt=Dt(),ar=await Re(e.id,bt,vt),pr={};ar.forEach(Kt=>{pr[Kt.date]={meals:Kt.meals,calories:Kt.calories,macros:Kt.macros,water:Kt.water}}),Y(pr)}catch(ae){vr("Error loading nutrition data",ae);const Re=localStorage.getItem(`ghostMode_${e.id}`);if(Re){const qe=JSON.parse(Re),bt=qe.historyData?.[se]||{meals:[],calories:0,macros:{protein:0,carbs:0,fat:0},water:0};S(bt.meals||[]),x(bt.calories||0),b(bt.macros||{protein:0,carbs:0,fat:0}),E(bt.water||0),Y(qe.historyData||{})}}};q.useEffect(()=>{if(ee&&xe)return We.current=setInterval(()=>{},1e3),()=>clearInterval(We.current)},[ee,xe]);const hr=async()=>{if(!e)return;const se={...X,[N]:{meals:w,calories:v,macros:y,water:j}};try{const{saveNutritionSettingsToSupabase:ae}=await br(async()=>{const{saveNutritionSettingsToSupabase:Re}=await Promise.resolve().then(()=>fn);return{saveNutritionSettingsToSupabase:Re}},void 0);await ae(e.id,{targetCalories:h,targetMacros:m,favorites:R,fastingEnabled:ee,fastingStartTime:xe?.toISOString()||null})}catch(ae){vr("Error saving settings to Supabase",ae),localStorage.setItem(`ghostMode_${e.id}`,JSON.stringify({targetCalories:h,targetMacros:m,favorites:R,fastingEnabled:ee,fastingStartTime:xe?.toISOString()||null}))}Y(se)},Et=async se=>{if(e)try{const ae={...se,id:Date.now().toString(),mealType:se.mealType||Ee,timestamp:new Date().toISOString()},{saveMealToSupabase:Re}=await br(async()=>{const{saveMealToSupabase:qe}=await Promise.resolve().then(()=>fn);return{saveMealToSupabase:qe}},void 0);await Re(e.id,N,ae),await Qt(N)}catch(ae){throw vr("Error saving meal to database",ae),ae}},An=se=>{Et({calories:se.calories,macros:se.macros,foods:[se.name],type:"quick"}),fe(!1)},Rr=async()=>{if(!Te.calories||Te.calories<=0){n("Please enter calories","error");return}try{const{validateCalories:se,validateMacro:ae}=await br(async()=>{const{validateCalories:pr,validateMacro:Kt}=await import("./validation-CvOy7Go1.js");return{validateCalories:pr,validateMacro:Kt}},[]),Re=se(Te.calories);if(!Re.valid){n(Re.error,"error");return}const qe=ae(Te.protein||0),bt=ae(Te.carbs||0),vt=ae(Te.fat||0);if(!qe.valid||!bt.valid||!vt.valid){n("Please enter valid macro values (0-1000g)","error");return}await Et({calories:Re.value,macros:{protein:qe.value,carbs:bt.value,fat:vt.value},foods:Te.name?[Te.name]:[],description:Te.name||"Manual entry",type:"manual"});const ar={name:"",calories:"",protein:"",carbs:"",fat:""};W(ar),H(!1),e&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(ar)),n("Meal logged successfully!","success")}catch{n("Failed to log meal. Please try again.","error")}},Pa=async se=>{if(!e)return;const ae=w.find(Re=>Re.id===se);if(ae){const Re=w.filter(ar=>ar.id!==se),qe=Math.max(0,v-(ae.calories||0)),bt={protein:Math.max(0,y.protein-(ae.macros?.protein||0)),carbs:Math.max(0,y.carbs-(ae.macros?.carbs||0)),fat:Math.max(0,y.fat-(ae.macros?.fat||0))};S(Re),x(qe),b(bt);const vt={...X,[N]:{meals:Re,calories:qe,macros:bt,water:j}};Y(vt);try{const{deleteMealFromSupabase:ar}=await br(async()=>{const{deleteMealFromSupabase:pr}=await Promise.resolve().then(()=>fn);return{deleteMealFromSupabase:pr}},void 0);await ar(e.id,N,se)}catch(ar){vr("Error deleting meal from database",ar);const pr=localStorage.getItem(`ghostMode_${e.id}`),Kt=pr?JSON.parse(pr):{};Kt.historyData=vt,localStorage.setItem(`ghostMode_${e.id}`,JSON.stringify(Kt))}}},Fa=se=>{const ae=R.some(Re=>Re.id===se.id);J(ae?R.filter(Re=>Re.id!==se.id):[...R,{...se,id:Date.now()}]),hr()},ra=async se=>{if(!e)return;const ae=j+se;E(ae);try{const{updateWaterIntake:Re}=await br(async()=>{const{updateWaterIntake:qe}=await Promise.resolve().then(()=>fn);return{updateWaterIntake:qe}},void 0);await Re(e.id,N,ae)}catch{}},lr=()=>{if(!xe)return null;const ae=new Date-xe,Re=Math.floor(ae/(1e3*60*60)),qe=Math.floor(ae%(1e3*60*60)/(1e3*60));return`${Re}h ${qe}m`},mr=()=>{je(!1),Ie(null),hr()},Nt=q.useMemo(()=>Object.entries(X).filter(([ae,Re])=>Re.meals&&Array.isArray(Re.meals)&&Re.meals.length>=3).length>=7,[X]),Ia=(se,ae,Re)=>{let qe=0;const bt=new Date(ae),vt=new Date(Re),ar=new Date(bt);for(;ar<=vt;){const pr=ar.toISOString().split("T")[0],Kt=X[pr];Kt&&(se.type==="calories"?qe+=Kt.calories||0:se.type==="protein"?qe+=Kt.macros?.protein||0:se.type==="carbs"?qe+=Kt.macros?.carbs||0:se.type==="fat"&&(qe+=Kt.macros?.fat||0)),ar.setDate(ar.getDate()+1)}return{current:qe}},ya=async()=>{if(!e||!Nt){alert("You need at least 7 days of full meals (3+ meals per day) to use the Dietician feature.");return}U(!0),ie(null);try{const se=Object.entries(X).sort((Re,qe)=>qe[0].localeCompare(Re[0])).slice(0,7).map(([Re,qe])=>({date:Re,calories:qe.calories||0,macros:qe.macros||{protein:0,carbs:0,fat:0},meals:qe.meals||[]})),ae=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:`As a professional dietician, analyze my diet from the last 7 days and provide recommendations. Here's my nutrition data: ${JSON.stringify(se)}. My daily goals are: ${h} calories, ${m.protein}g protein, ${m.carbs}g carbs, ${m.fat}g fat.`}]})});if(ae.ok){const Re=await ae.json();ie(Re.response||Re.message||"Analysis complete")}else throw new Error("Dietician analysis failed")}catch{alert("Failed to analyze diet. Please try again.")}finally{U(!1)}};q.useMemo(()=>{const se=[],ae=[],Re=[],qe=[],bt=[];for(let vt=6;vt>=0;vt--){const ar=new Date;ar.setDate(ar.getDate()-vt);const pr=ar.toISOString().split("T")[0];se.push(pr);const Kt=X[pr]||{calories:0,macros:{protein:0,carbs:0,fat:0}};ae.push(Kt.calories||0),Re.push(Kt.macros?.protein||0),qe.push(Kt.macros?.carbs||0),bt.push(Kt.macros?.fat||0)}return{dates:se,calories:ae,proteins:Re,carbs:qe,fats:bt}},[X]),q.useMemo(()=>{const se=y.protein*4+y.carbs*4+y.fat*9;return se===0?{protein:0,carbs:0,fat:0}:{protein:y.protein*4/se*100,carbs:y.carbs*4/se*100,fat:y.fat*9/se*100}},[y]);const Ua=v-h,Fe=Ua>0,At=q.useMemo(()=>{const se={};return Nu.forEach(ae=>{se[ae]=w.filter(Re=>Re.mealType===ae)}),se},[w]);return f.jsxs("div",{className:Q.container,children:[f.jsxs("div",{className:Q.header,children:[f.jsx("button",{className:Q.backBtn,onClick:()=>r("/"),children:"Back"}),f.jsx("h1",{children:"Nutrition"}),o==="Today"&&f.jsx("button",{className:Q.plusBtn,onClick:()=>H(!0),"aria-label":"Add meal",children:f.jsx("span",{className:Q.plusIcon,children:"+"})})]}),f.jsx("div",{className:Q.tabs,children:Jk.map(se=>f.jsx("button",{className:`${Q.tab} ${o===se?Q.activeTab:""}`,onClick:()=>c(se),children:se},se))}),f.jsxs("div",{className:Q.content,children:[o==="Today"&&f.jsxs("div",{children:[f.jsx("button",{className:Q.logMealBtn,onClick:()=>H(!0),children:"Log meal"}),f.jsxs("div",{className:Q.summaryCard,children:[f.jsxs("div",{className:Q.calorieRow,children:[f.jsxs("div",{children:[f.jsx("label",{className:Q.label,children:"Target"}),f.jsx("input",{type:"number",className:Q.calorieInput,value:h,onChange:se=>{d(parseInt(se.target.value)||2e3),hr()},min:"1000",max:"5000"})]}),f.jsx("div",{className:Q.divider,children:"/"}),f.jsxs("div",{children:[f.jsx("label",{className:Q.label,children:"Current"}),f.jsx("div",{className:`${Q.calorieValue} ${Fe?Q.over:""}`,children:v})]}),f.jsx("div",{className:Q.progressBar,children:f.jsx("div",{className:Q.progressFill,style:{width:`${Math.min(100,v/h*100)}%`}})})]}),f.jsxs("div",{className:Q.macroProgress,children:[f.jsxs("div",{className:Q.macroItem,children:[f.jsxs("div",{className:Q.macroHeader,children:[f.jsx("span",{children:"Protein"}),f.jsxs("span",{children:[Math.round(y.protein)," / ",m.protein,"g"]})]}),f.jsx("div",{className:Q.macroBar,children:f.jsx("div",{className:Q.macroFill,style:{width:`${Math.min(100,y.protein/m.protein*100)}%`,background:"#4CAF50"}})})]}),f.jsxs("div",{className:Q.macroItem,children:[f.jsxs("div",{className:Q.macroHeader,children:[f.jsx("span",{children:"Carbs"}),f.jsxs("span",{children:[Math.round(y.carbs)," / ",m.carbs,"g"]})]}),f.jsx("div",{className:Q.macroBar,children:f.jsx("div",{className:Q.macroFill,style:{width:`${Math.min(100,y.carbs/m.carbs*100)}%`,background:"#2196F3"}})})]}),f.jsxs("div",{className:Q.macroItem,children:[f.jsxs("div",{className:Q.macroHeader,children:[f.jsx("span",{children:"Fat"}),f.jsxs("span",{children:[Math.round(y.fat)," / ",m.fat,"g"]})]}),f.jsx("div",{className:Q.macroBar,children:f.jsx("div",{className:Q.macroFill,style:{width:`${Math.min(100,y.fat/m.fat*100)}%`,background:"#FF9800"}})})]})]}),f.jsxs("div",{className:Q.waterSection,children:[f.jsxs("div",{className:Q.waterHeader,children:[f.jsx("span",{children:"Water"}),f.jsxs("span",{children:[Math.round(j/250)," / 8 glasses"]})]}),f.jsx("div",{className:Q.waterButtons,children:[250,500,750].map(se=>f.jsxs("button",{className:Q.waterBtn,onClick:()=>ra(se),children:["+",se,"ml"]},se))})]}),ee&&xe&&f.jsxs("div",{className:Q.fastingCard,children:[f.jsx("div",{className:Q.fastingTime,children:lr()}),f.jsx("button",{className:Q.stopFastingBtn,onClick:mr,children:"End Fast"})]}),Fe&&f.jsx("div",{className:Q.activityNeeded,children:f.jsxs("span",{children:["You're over your target by ",Ua," calories"]})})]}),f.jsxs("div",{className:Q.mealsSection,children:[f.jsx("h3",{className:Q.sectionTitle,children:"Meals"}),w.length===0?f.jsx("p",{className:Q.emptyHint,children:'No meals logged. Tap "Log meal" to add one.'}):Nu.map(se=>{const ae=At[se]||[];return ae.length===0?null:f.jsxs("div",{className:Q.mealTypeGroup,children:[f.jsx("h4",{className:Q.mealTypeTitle,children:se}),f.jsx("div",{className:Q.mealsList,children:ae.map(Re=>f.jsx(ev,{meal:Re,onRemove:Pa,onToggleFavorite:Fa,isFavorite:R.some(qe=>qe.id===Re.id)},Re.id))})]},se)})]}),ve.length>0&&f.jsxs("div",{className:Q.goalsLink,children:[f.jsxs("div",{className:Q.goalsHeader,children:[f.jsx("h3",{children:"Goals"}),f.jsx("button",{className:Q.goalsBtn,onClick:()=>r("/goals"),children:"View All"})]}),ve.length===0?f.jsx("p",{className:Q.goalsNote,children:"No nutrition goals set. Create one on the Goals page."}):f.jsx("div",{className:Q.goalsList,children:ve.slice(0,3).map(se=>{const ae=se.target_value>0?Math.min(100,se.current_value/se.target_value*100):0;return f.jsxs("div",{className:Q.goalCard,children:[f.jsxs("div",{className:Q.goalHeader,children:[f.jsx("span",{className:Q.goalName,children:se.custom_name||se.type}),f.jsxs("span",{className:Q.goalProgress,children:[Math.round(ae),"%"]})]}),f.jsx("div",{className:Q.goalBar,children:f.jsx("div",{className:Q.goalBarFill,style:{width:`${ae}%`}})}),f.jsxs("div",{className:Q.goalValues,children:[se.current_value," / ",se.target_value," ",se.unit]})]},se.id)})})]}),f.jsxs("div",{className:Q.dieticianSection,children:[f.jsx("h3",{children:"Dietician"}),f.jsx("p",{className:Q.dieticianNote,children:Nt?"Analyze your diet (requires 7+ days of full meals)":"Log 7+ days of full meals (3+ meals per day) to unlock diet analysis"}),f.jsx("button",{className:Q.dieticianBtn,onClick:ya,disabled:!Nt||P,children:P?"Analyzing...":"Analyze My Diet"}),G&&f.jsxs("div",{className:Q.dieticianResult,children:[f.jsx("h4",{children:"Diet Analysis"}),f.jsx("p",{children:G})]})]}),ge&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Q.overlay,onClick:()=>{H(!1),W({name:"",calories:"",protein:"",carbs:"",fat:""})}}),f.jsxs("div",{className:Q.modal,onClick:se=>se.stopPropagation(),children:[f.jsxs("div",{className:Q.modalHeader,children:[f.jsx("h2",{children:"Log Meal"}),f.jsx("button",{onClick:()=>{H(!1),W({name:"",calories:"",protein:"",carbs:"",fat:""})},children:"X"})]}),f.jsxs("div",{className:Q.modalContent,children:[f.jsxs("div",{className:Q.manualEntryForm,children:[f.jsxs("div",{className:Q.formRow,children:[f.jsx("label",{children:"Food Name (optional)"}),f.jsx("input",{type:"text",className:Q.formInput,placeholder:"e.g., Grilled Chicken",value:Te.name,onChange:se=>{const ae={...Te,name:se.target.value};W(ae),e&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(ae))}})]}),f.jsxs("div",{className:Q.formRow,children:[f.jsx("label",{children:"Calories *"}),f.jsx("input",{type:"number",className:Q.formInput,placeholder:"0",value:Te.calories,onChange:se=>{const ae={...Te,calories:se.target.value};W(ae),e&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(ae))},min:"0"})]}),f.jsxs("div",{className:Q.macroInputs,children:[f.jsxs("div",{className:Q.macroInput,children:[f.jsx("label",{children:"Protein (g)"}),f.jsx("input",{type:"number",className:Q.formInput,placeholder:"0",value:Te.protein,onChange:se=>{const ae={...Te,protein:se.target.value};W(ae),e&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(ae))},min:"0",step:"0.1"})]}),f.jsxs("div",{className:Q.macroInput,children:[f.jsx("label",{children:"Carbs (g)"}),f.jsx("input",{type:"number",className:Q.formInput,placeholder:"0",value:Te.carbs,onChange:se=>{const ae={...Te,carbs:se.target.value};W(ae),e&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(ae))},min:"0",step:"0.1"})]}),f.jsxs("div",{className:Q.macroInput,children:[f.jsx("label",{children:"Fat (g)"}),f.jsx("input",{type:"number",className:Q.formInput,placeholder:"0",value:Te.fat,onChange:se=>{const ae={...Te,fat:se.target.value};W(ae),e&&localStorage.setItem(`nutrition_manual_entry_${e.id}`,JSON.stringify(ae))},min:"0",step:"0.1"})]})]})]}),f.jsxs("div",{className:Q.modalActions,children:[f.jsx("button",{className:Q.cancelBtn,onClick:()=>{H(!1),W({name:"",calories:"",protein:"",carbs:"",fat:""})},children:"Cancel"}),f.jsx("button",{className:Q.submitBtn,onClick:async()=>{await Rr(),e&&await Qt(N)},disabled:!Te.calories||Te.calories<=0,children:"Save"})]})]})]})]}),f.jsx("div",{className:Q.mealTypeSelector,children:Nu.map(se=>f.jsx("button",{className:`${Q.mealTypeBtn} ${Ee===se?Q.activeMealType:""}`,onClick:()=>Ve(se),children:se},se))}),Z&&f.jsxs("div",{className:Q.quickAddCard,children:[f.jsx("h3",{children:"Quick Add"}),f.jsx("div",{className:Q.quickAddGrid,children:Qk.map((se,ae)=>f.jsxs("button",{className:Q.quickAddBtn,onClick:()=>An(se),children:[f.jsx("div",{className:Q.quickAddName,children:se.name}),f.jsxs("div",{className:Q.quickAddCal,children:[se.calories," cal"]})]},ae))})]}),Nu.map(se=>{const ae=At[se];return ae.length===0?null:f.jsxs("div",{className:Q.mealSection,children:[f.jsx("h3",{className:Q.mealSectionTitle,children:se}),ae.map(Re=>f.jsx(ev,{meal:Re,onRemove:Pa,onToggleFavorite:Fa,isFavorite:R.some(qe=>qe.id===Re.id)},Re.id))]},se)}),w.length===0&&f.jsxs("div",{className:Q.emptyState,children:[f.jsx("p",{children:"No meals logged today"}),f.jsx("p",{className:Q.emptyHint,children:'Click "Log Meal" to get started!'})]})]}),o==="History"&&f.jsxs("div",{className:Q.historyContent,children:[f.jsx("h2",{className:Q.sectionTitle,children:"History"}),f.jsxs("div",{className:Q.historyTable,children:[f.jsxs("div",{className:Q.historyTableHeader,children:[f.jsx("div",{className:Q.historyTableCol,children:"Date"}),f.jsx("div",{className:Q.historyTableCol,children:"Calories"}),f.jsx("div",{className:Q.historyTableCol,children:"Protein"}),f.jsx("div",{className:Q.historyTableCol,children:"Carbs"}),f.jsx("div",{className:Q.historyTableCol,children:"Fat"})]}),f.jsxs("div",{className:Q.historyTableBody,children:[Object.entries(X).sort((se,ae)=>ae[0].localeCompare(se[0])).map(([se,ae])=>f.jsxs("div",{className:Q.historyTableRow,onClick:()=>{B(se),c("Today")},children:[f.jsx("div",{className:Q.historyTableCol,children:new Date(se+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),f.jsx("div",{className:Q.historyTableCol,children:ae.calories||0}),f.jsxs("div",{className:Q.historyTableCol,children:[Math.round(ae.macros?.protein||0),"g"]}),f.jsxs("div",{className:Q.historyTableCol,children:[Math.round(ae.macros?.carbs||0),"g"]}),f.jsxs("div",{className:Q.historyTableCol,children:[Math.round(ae.macros?.fat||0),"g"]})]},se)),Object.keys(X).length===0&&f.jsx("div",{className:Q.historyTableEmpty,children:"No history yet"})]})]})]}),o==="Plan"&&f.jsx("div",{className:Q.planContent,children:f.jsxs("div",{className:Q.mealPlanSection,children:[f.jsxs("div",{className:Q.mealPlanHeader,children:[f.jsxs("div",{children:[f.jsx("h3",{children:"Weekly Meal Plan"}),f.jsx("p",{className:Q.mealPlanDescription,children:"Create a structured meal plan for the week and apply it to any day"})]}),f.jsxs("div",{className:Q.mealPlanActions,children:[Ce&&f.jsx("button",{className:Q.deletePlanBtn,onClick:async()=>{if(confirm("Are you sure you want to delete this meal plan?")&&e)try{const{saveWeeklyMealPlanToSupabase:se}=await br(async()=>{const{saveWeeklyMealPlanToSupabase:ae}=await Promise.resolve().then(()=>fn);return{saveWeeklyMealPlanToSupabase:ae}},void 0);await se(e.id,null),De(null)}catch(se){vr("Error deleting meal plan",se),alert("Failed to delete meal plan")}},children:"Delete Plan"}),f.jsx("button",{className:Q.mealPlanBtn,onClick:()=>{Ce?ot(!0):rt()},children:Ce?"Edit Plan":"Create Plan"})]})]}),Ce?f.jsx("div",{className:Q.mealPlanPreview,children:Object.entries(Ce).map(([se,ae])=>f.jsxs("div",{className:Q.mealPlanDay,children:[f.jsxs("div",{className:Q.mealPlanDayHeader,children:[f.jsx("strong",{children:se}),f.jsx("button",{className:Q.applyDayBtn,onClick:()=>ut(se),children:"Apply to Today"})]}),f.jsxs("div",{className:Q.mealPlanMeals,children:[ae.breakfast&&ae.breakfast.name&&f.jsxs("div",{className:Q.mealPlanMealTag,children:[f.jsx("span",{className:Q.mealPlanMealTime,children:ae.breakfast.time||"08:00"}),f.jsx("span",{className:Q.mealPlanMealName,children:ae.breakfast.name}),ae.breakfast.calories>0&&f.jsxs("span",{className:Q.mealPlanMealMacros,children:[ae.breakfast.calories," cal | P: ",ae.breakfast.macros?.protein||0,"g C: ",ae.breakfast.macros?.carbs||0,"g F: ",ae.breakfast.macros?.fat||0,"g"]})]}),ae.lunch&&ae.lunch.name&&f.jsxs("div",{className:Q.mealPlanMealTag,children:[f.jsx("span",{className:Q.mealPlanMealTime,children:ae.lunch.time||"12:00"}),f.jsx("span",{className:Q.mealPlanMealName,children:ae.lunch.name}),ae.lunch.calories>0&&f.jsxs("span",{className:Q.mealPlanMealMacros,children:[ae.lunch.calories," cal | P: ",ae.lunch.macros?.protein||0,"g C: ",ae.lunch.macros?.carbs||0,"g F: ",ae.lunch.macros?.fat||0,"g"]})]}),ae.dinner&&ae.dinner.name&&f.jsxs("div",{className:Q.mealPlanMealTag,children:[f.jsx("span",{className:Q.mealPlanMealTime,children:ae.dinner.time||"18:00"}),f.jsx("span",{className:Q.mealPlanMealName,children:ae.dinner.name}),ae.dinner.calories>0&&f.jsxs("span",{className:Q.mealPlanMealMacros,children:[ae.dinner.calories," cal | P: ",ae.dinner.macros?.protein||0,"g C: ",ae.dinner.macros?.carbs||0,"g F: ",ae.dinner.macros?.fat||0,"g"]})]}),ae.snacks&&ae.snacks.length>0&&f.jsx("div",{className:Q.mealPlanMealTag,children:f.jsxs("span",{className:Q.mealPlanMealName,children:["Snacks: ",ae.snacks.length," item(s)"]})})]})]},se))}):f.jsx("p",{className:Q.emptyHint,children:"Create a weekly meal plan to quickly apply meals to any day"})]})}),o==="Goals"&&f.jsxs("div",{className:Q.goalsContent,children:[f.jsx("h2",{className:Q.sectionTitle,children:"Nutrition Goals"}),f.jsxs("div",{className:Q.goalsDateFilter,children:[f.jsx("label",{children:"Date Range:"}),f.jsxs("div",{className:Q.dateRangeInputs,children:[f.jsx("input",{type:"date",value:ne||Dt(),onChange:se=>_e(se.target.value),className:Q.dateInput}),f.jsx("span",{children:"to"}),f.jsx("input",{type:"date",value:te||Dt(),onChange:se=>Xe(se.target.value),className:Q.dateInput})]})]}),ve.length===0?f.jsx("p",{className:Q.emptyHint,children:"No nutrition goals set. Create one on the Goals page."}):f.jsx("div",{className:Q.goalsList,children:ve.map(se=>{const ae=Ia(se,ne||Dt(),te||Dt()),Re=se.target_value>0?Math.min(100,ae.current/se.target_value*100):0;return f.jsxs("div",{className:Q.goalCard,children:[f.jsxs("div",{className:Q.goalHeader,children:[f.jsx("span",{className:Q.goalName,children:se.custom_name||se.type}),f.jsxs("span",{className:Q.goalProgress,children:[Math.round(Re),"%"]})]}),f.jsx("div",{className:Q.goalBar,children:f.jsx("div",{className:Q.goalBarFill,style:{width:`${Re}%`}})}),f.jsxs("div",{className:Q.goalValues,children:[ae.current," / ",se.target_value," ",se.unit]}),f.jsxs("div",{className:Q.goalDateRange,children:[new Date(ne||Dt()).toLocaleDateString()," - ",new Date(te||Dt()).toLocaleDateString()]})]},se.id)})})]})]}),gt&&Ce&&f.jsx("div",{className:Q.overlay,onClick:()=>ot(!1),children:f.jsxs("div",{className:Q.modal,onClick:se=>se.stopPropagation(),children:[f.jsxs("div",{className:Q.modalHeader,children:[f.jsx("h2",{children:"Structured Meal Plan"}),f.jsx("button",{onClick:()=>ot(!1),children:"X"})]}),f.jsxs("div",{className:Q.modalContent,children:[f.jsx("div",{className:Q.mealPlanEditor,children:Object.entries(Ce).map(([se,ae])=>f.jsxs("div",{className:Q.mealPlanDayEditor,children:[f.jsx("h4",{children:se}),["breakfast","lunch","dinner"].map(Re=>{const qe=ae[Re]||{name:"",calories:0,macros:{protein:0,carbs:0,fat:0},time:Re==="breakfast"?"08:00":Re==="lunch"?"12:00":"18:00"};return f.jsxs("div",{className:Q.mealPlanMealInput,children:[f.jsx("label",{className:Q.mealPlanMealLabel,children:Re.charAt(0).toUpperCase()+Re.slice(1)}),f.jsxs("div",{className:Q.mealPlanMealFields,children:[f.jsxs("div",{className:Q.mealPlanFieldGroup,children:[f.jsx("label",{className:Q.mealPlanFieldLabel,children:"Meal Name"}),f.jsx("input",{type:"text",placeholder:"e.g., Grilled Chicken & Rice",value:qe.name||"",onChange:bt=>{De(vt=>({...vt,[se]:{...vt[se],[Re]:{...qe,name:bt.target.value}}}))},className:Q.mealPlanInput})]}),f.jsxs("div",{className:Q.mealPlanFieldGroup,children:[f.jsx("label",{className:Q.mealPlanFieldLabel,children:"Time"}),f.jsx("input",{type:"time",value:qe.time||(Re==="breakfast"?"08:00":Re==="lunch"?"12:00":"18:00"),onChange:bt=>{De(vt=>({...vt,[se]:{...vt[se],[Re]:{...qe,time:bt.target.value}}}))},className:Q.mealPlanTimeInput})]}),f.jsxs("div",{className:Q.mealPlanFieldGroup,children:[f.jsx("label",{className:Q.mealPlanFieldLabel,children:"Calories"}),f.jsx("input",{type:"number",placeholder:"0",value:qe.calories||"",onChange:bt=>{De(vt=>({...vt,[se]:{...vt[se],[Re]:{...qe,calories:parseInt(bt.target.value)||0}}}))},className:Q.mealPlanInput,min:"0"})]}),f.jsxs("div",{className:Q.mealPlanFieldGroup,children:[f.jsx("label",{className:Q.mealPlanFieldLabel,children:"Protein (g)"}),f.jsx("input",{type:"number",placeholder:"0",value:qe.macros?.protein||"",onChange:bt=>{De(vt=>({...vt,[se]:{...vt[se],[Re]:{...qe,macros:{...qe.macros,protein:parseInt(bt.target.value)||0}}}}))},className:Q.mealPlanInput,min:"0"})]}),f.jsxs("div",{className:Q.mealPlanFieldGroup,children:[f.jsx("label",{className:Q.mealPlanFieldLabel,children:"Carbs (g)"}),f.jsx("input",{type:"number",placeholder:"0",value:qe.macros?.carbs||"",onChange:bt=>{De(vt=>({...vt,[se]:{...vt[se],[Re]:{...qe,macros:{...qe.macros,carbs:parseInt(bt.target.value)||0}}}}))},className:Q.mealPlanInput,min:"0"})]}),f.jsxs("div",{className:Q.mealPlanFieldGroup,children:[f.jsx("label",{className:Q.mealPlanFieldLabel,children:"Fat (g)"}),f.jsx("input",{type:"number",placeholder:"0",value:qe.macros?.fat||"",onChange:bt=>{De(vt=>({...vt,[se]:{...vt[se],[Re]:{...qe,macros:{...qe.macros,fat:parseInt(bt.target.value)||0}}}}))},className:Q.mealPlanInput,min:"0"})]})]})]},Re)})]},se))}),f.jsxs("div",{className:Q.modalActions,children:[f.jsx("button",{className:Q.cancelBtn,onClick:()=>ot(!1),children:"Cancel"}),f.jsx("button",{className:Q.saveBtn,onClick:Rt,children:"Save Plan"})]})]})]})}),t&&f.jsx(fx,{message:t.message,type:t.type,duration:t.duration,onClose:i})]})}function ev({meal:r,onRemove:e,onToggleFavorite:t,isFavorite:n}){return f.jsxs("div",{className:Q.mealCard,children:[r.imageUrl&&f.jsx("img",{src:r.imageUrl,alt:"Meal",className:Q.mealImage}),f.jsxs("div",{className:Q.mealHeader,children:[f.jsxs("div",{className:Q.mealCalories,children:[r.calories," cal"]}),f.jsxs("div",{className:Q.mealActions,children:[f.jsx("button",{className:`${Q.favoriteBtn} ${n?Q.favoriteActive:""}`,onClick:()=>t(r),title:n?"Remove from favorites":"Add to favorites",children:n?"*":"+"}),f.jsx("button",{className:Q.removeBtn,onClick:()=>e(r.id),children:"X"})]})]}),r.foods&&r.foods.length>0&&f.jsx("div",{className:Q.mealFoods,children:r.foods.map((i,o)=>f.jsx("span",{className:Q.foodTag,children:i},o))}),r.description&&f.jsx("div",{className:Q.mealDescription,children:r.description}),f.jsxs("div",{className:Q.mealMacros,children:[f.jsxs("span",{children:["P: ",Math.round(r.macros?.protein||0),"g"]}),f.jsxs("span",{children:["C: ",Math.round(r.macros?.carbs||0),"g"]}),f.jsxs("span",{children:["F: ",Math.round(r.macros?.fat||0),"g"]})]}),f.jsx("div",{className:Q.mealTime,children:new Date(r.timestamp).toLocaleTimeString()})]})}async function G0(r,e=null){const t=e||Dt(),{data:n,error:i}=await st.from("honest_readiness").select("*").eq("user_id",r).eq("date",t).single();if(i&&i.code!=="PGRST116")throw i;return n}const Zk="_container_1qcyc_1",ej="_header_1qcyc_19",tj="_backBtn_1qcyc_35",rj="_title_1qcyc_75",aj="_periodSelector_1qcyc_95",nj="_periodSelect_1qcyc_95",sj="_content_1qcyc_127",ij="_loading_1qcyc_143",lj="_readinessCard_1qcyc_157",oj="_readinessgreen_1qcyc_173",cj="_readinessyellow_1qcyc_183",uj="_readinessred_1qcyc_193",fj="_readinessHeader_1qcyc_203",hj="_readinessZone_1qcyc_233",dj="_readinessScore_1qcyc_281",mj="_readinessNumber_1qcyc_295",pj="_readinessLabel_1qcyc_335",gj="_readinessComponents_1qcyc_345",_j="_component_1qcyc_359",vj="_componentLabel_1qcyc_373",yj="_componentValue_1qcyc_387",xj="_sourcesCard_1qcyc_403",wj="_insightsCard_1qcyc_419",Sj="_fitbitCard_1qcyc_421",bj="_metricsTrendsCard_1qcyc_423",Tj="_actionsCard_1qcyc_425",Ej="_sectionHeader_1qcyc_441",Aj="_sectionNote_1qcyc_467",Cj="_sourcesList_1qcyc_479",Nj="_sourceItem_1qcyc_491",kj="_connected_1qcyc_511",jj="_disconnected_1qcyc_521",Oj="_sourceInfo_1qcyc_531",Dj="_sourceName_1qcyc_543",Rj="_sourceStatus_1qcyc_555",Bj="_statsGrid_1qcyc_567",Mj="_statCard_1qcyc_579",Lj="_statValue_1qcyc_597",Pj="_statLabel_1qcyc_613",Fj="_insightsList_1qcyc_645",Ij="_insightItem_1qcyc_657",Uj="_fitbitStatsGrid_1qcyc_699",Hj="_fitbitStatItem_1qcyc_711",zj="_fitbitStatLabel_1qcyc_731",$j="_fitbitStatValue_1qcyc_747",qj="_metricsChartContainer_1qcyc_777",Gj="_metricChart_1qcyc_789",Vj="_actionsGrid_1qcyc_835",Wj="_actionBtn_1qcyc_847",Yj="_goalsList_1qcyc_889",Xj="_goalCard_1qcyc_903",Kj="_goalHeader_1qcyc_917",Jj="_goalName_1qcyc_931",Qj="_goalProgress_1qcyc_943",Zj="_goalBar_1qcyc_955",eO="_goalBarFill_1qcyc_973",tO="_goalValues_1qcyc_985",Oe={container:Zk,header:ej,backBtn:tj,title:rj,periodSelector:aj,periodSelect:nj,content:sj,loading:ij,readinessCard:lj,readinessgreen:oj,readinessyellow:cj,readinessred:uj,readinessHeader:fj,readinessZone:hj,readinessScore:dj,readinessNumber:mj,readinessLabel:pj,readinessComponents:gj,component:_j,componentLabel:vj,componentValue:yj,sourcesCard:xj,insightsCard:wj,fitbitCard:Sj,metricsTrendsCard:bj,actionsCard:Tj,sectionHeader:Ej,sectionNote:Aj,sourcesList:Cj,sourceItem:Nj,connected:kj,disconnected:jj,sourceInfo:Oj,sourceName:Dj,sourceStatus:Rj,statsGrid:Bj,statCard:Mj,statValue:Lj,statLabel:Pj,insightsList:Fj,insightItem:Ij,fitbitStatsGrid:Uj,fitbitStatItem:Hj,fitbitStatLabel:zj,fitbitStatValue:$j,metricsChartContainer:qj,metricChart:Gj,actionsGrid:Vj,actionBtn:Wj,goalsList:Yj,goalCard:Xj,goalHeader:Kj,goalName:Jj,goalProgress:Qj,goalBar:Zj,goalBarFill:eO,goalValues:tO};function rO(){const r=tn(),{user:e}=La(),[t,n]=q.useState(null),[i,o]=q.useState([]),[c,h]=q.useState([]),[d,m]=q.useState(null),[_,v]=q.useState(null),[x,y]=q.useState([]),[b,w]=q.useState(!0),[S,j]=q.useState("week"),[E,N]=q.useState(null),[B,X]=q.useState([]),[Y,R]=q.useState(!1),[J,Z]=q.useState(null),[fe,ge]=q.useState(!1),{toast:H,showToast:Ee,hideToast:Ve}=hx();q.useEffect(()=>{e&&Te()},[e,S]);const Te=async()=>{if(e){w(!0);try{const ee=await G0(e.id);n(ee);const je=await Xn(e.id),I=xe(je);o(I);const C=await ec(e.id);h(C||[]);const P=await wl(e.id,"health");if(X(P),C?.find(ie=>ie.provider==="fitbit"))try{const ie=Dt();let ve=await js(e.id,ie);if(!ve){const{getYesterdayEST:Le}=await br(async()=>{const{getYesterdayEST:De}=await Promise.resolve().then(()=>xl);return{getYesterdayEST:De}},void 0),Ce=Le();ve=await js(e.id,Ce)}if(!ve){const{getMostRecentFitbitData:Le}=await br(async()=>{const{getMostRecentFitbitData:Ce}=await Promise.resolve().then(()=>L3);return{getMostRecentFitbitData:Ce}},void 0);ve=await Le(e.id)}v(ve||null)}catch(ie){vr("Error loading Fitbit data",ie)}try{const{getMealsFromSupabase:ie}=await br(async()=>{const{getMealsFromSupabase:Ce}=await Promise.resolve().then(()=>fn);return{getMealsFromSupabase:Ce}},void 0),ve=Dt(),Le=await ie(e.id,ve);Le&&m({calories:Le.calories||0,macros:Le.macros||{protein:0,carbs:0,fat:0},water:Le.water||0})}catch(ie){vr("Error loading nutrition data",ie);const ve=localStorage.getItem(`ghostMode_${e.id}`);if(ve){const Ce=JSON.parse(ve).historyData?.[Dt()];Ce&&m({calories:Ce.calories||0,macros:Ce.macros||{protein:0,carbs:0,fat:0},water:Ce.water||0})}}const G=await Ho(e.id);y(G||[])}catch{}finally{w(!1)}}},W=async()=>{if(e){R(!0),Z(null);try{const ee=Dt(),je=await oi(e.id,ee);try{const{getYesterdayEST:I}=await br(async()=>{const{getYesterdayEST:P}=await Promise.resolve().then(()=>xl);return{getYesterdayEST:P}},void 0),C=I();await oi(e.id,C)}catch{}await Uo(e.id,ee),await Te(),Ee("Fitbit data synced successfully!","success")}catch(ee){console.error("Fitbit sync error:",ee);const je=ee.message||"Failed to sync Fitbit data. Please try again or reconnect your account.";Z(je),Ee(je,"error")}finally{R(!1)}}},xe=ee=>{const je=new Date,I=new Date;switch(S){case"week":I.setDate(je.getDate()-7);break;case"month":I.setMonth(je.getMonth()-1);break;case"90days":I.setDate(je.getDate()-90);break;default:return ee}return ee.filter(C=>new Date(C.date||C.timestamp)>=I)},Ie=q.useMemo(()=>{const ee={hasWearables:c.length>0,hasFitbitData:_!==null,avgHRV:0,avgSleep:0,avgRestingHR:0};if(x.length>0){const je=x.filter(P=>P.hrv).map(P=>Number(P.hrv)),I=x.filter(P=>P.sleep_score).map(P=>Number(P.sleep_score)),C=x.filter(P=>P.resting_heart_rate).map(P=>Number(P.resting_heart_rate));je.length>0&&(ee.avgHRV=Math.round(je.reduce((P,U)=>P+U,0)/je.length)),I.length>0&&(ee.avgSleep=Math.round(I.reduce((P,U)=>P+U,0)/I.length)),C.length>0&&(ee.avgRestingHR=Math.round(C.reduce((P,U)=>P+U,0)/C.length))}return ee},[c,_,x]);return q.useMemo(()=>{const ee=[],je=[],I=[],C=[];for(let P=6;P>=0;P--){const U=new Date;U.setDate(U.getDate()-P);const G=U.toISOString().split("T")[0];ee.push(G),je.push(0),I.push(0),C.push(0)}return{dates:ee,readinessScores:je,calories:I,workouts:C}},[]),b?f.jsx("div",{className:Oe.container,children:f.jsx("div",{className:Oe.loading,children:"Loading health data..."})}):f.jsxs("div",{className:Oe.container,children:[f.jsxs("div",{className:Oe.header,children:[f.jsx("button",{className:Oe.backBtn,onClick:()=>r("/"),children:" Back"}),f.jsx("h1",{className:Oe.title,children:"Health Overview"}),f.jsx("div",{className:Oe.periodSelector,children:f.jsxs("select",{className:Oe.periodSelect,value:S,onChange:ee=>j(ee.target.value),children:[f.jsx("option",{value:"week",children:"Last 7 Days"}),f.jsx("option",{value:"month",children:"Last 30 Days"}),f.jsx("option",{value:"90days",children:"Last 90 Days"})]})})]}),f.jsxs("div",{className:Oe.content,children:[t&&f.jsxs("div",{className:`${Oe.readinessCard} ${Oe[`readiness${t.zone}`]}`,children:[f.jsxs("div",{className:Oe.readinessHeader,children:[f.jsx("h2",{children:"Honest Readiness"}),f.jsx("span",{className:Oe.readinessZone,children:t.zone.toUpperCase()})]}),f.jsxs("div",{className:Oe.readinessScore,children:[f.jsx("span",{className:Oe.readinessNumber,children:t.score}),f.jsx("span",{className:Oe.readinessLabel,children:"/ 100"})]}),f.jsxs("div",{className:Oe.readinessComponents,children:[f.jsxs("div",{className:Oe.component,children:[f.jsx("span",{className:Oe.componentLabel,children:"Load"}),f.jsx("span",{className:Oe.componentValue,children:t.ac_ratio!==void 0?t.ac_ratio:t.components?.acRatio!==void 0?t.components.acRatio:"N/A"})]}),f.jsxs("div",{className:Oe.component,children:[f.jsx("span",{className:Oe.componentLabel,children:"HRV"}),f.jsx("span",{className:Oe.componentValue,children:t.hrv_score!==void 0?t.hrv_score:t.components?.hrvScore!==void 0?t.components.hrvScore:"N/A"})]}),f.jsxs("div",{className:Oe.component,children:[f.jsx("span",{className:Oe.componentLabel,children:"Sleep"}),f.jsx("span",{className:Oe.componentValue,children:t.sleep_score!==void 0?t.sleep_score:t.components?.sleepScore!==void 0?t.components.sleepScore:"N/A"})]})]})]}),_?f.jsxs("div",{className:Oe.fitbitCard,children:[f.jsxs("h3",{children:["Fitbit Data ",_.date&&_.date!==Dt()?`(${_.date})`:""]}),f.jsxs("div",{className:Oe.fitbitStatsGrid,children:[_.steps!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Steps"}),f.jsx("span",{className:Oe.fitbitStatValue,children:Number(_.steps).toLocaleString()})]}),_.calories!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Calories"}),f.jsx("span",{className:Oe.fitbitStatValue,children:Number(_.calories).toLocaleString()})]}),_.active_calories!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Active Calories"}),f.jsx("span",{className:Oe.fitbitStatValue,children:Number(_.active_calories).toLocaleString()})]}),_.sleep_duration!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Sleep"}),f.jsxs("span",{className:Oe.fitbitStatValue,children:[Math.floor(Number(_.sleep_duration)/60),"h ",Math.round(Number(_.sleep_duration)%60),"m"]})]}),_.sleep_efficiency!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Sleep Efficiency"}),f.jsxs("span",{className:Oe.fitbitStatValue,children:[Math.round(Number(_.sleep_efficiency)),"%"]})]}),_.hrv!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"HRV"}),f.jsxs("span",{className:Oe.fitbitStatValue,children:[Math.round(Number(_.hrv))," ms"]})]}),_.resting_heart_rate!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Resting HR"}),f.jsxs("span",{className:Oe.fitbitStatValue,children:[Math.round(Number(_.resting_heart_rate))," bpm"]})]}),_.distance!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Distance"}),f.jsxs("span",{className:Oe.fitbitStatValue,children:[Number(_.distance).toFixed(2)," km"]})]}),_.floors!=null&&f.jsxs("div",{className:Oe.fitbitStatItem,children:[f.jsx("span",{className:Oe.fitbitStatLabel,children:"Floors"}),f.jsx("span",{className:Oe.fitbitStatValue,children:Number(_.floors)})]})]})]}):f.jsxs("div",{className:Oe.fitbitCard,children:[f.jsx("h3",{children:"Fitbit Data"}),f.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:[f.jsx("p",{children:"No Fitbit data available. Connect your Fitbit and sync data to see your health metrics here."}),f.jsx("button",{className:Oe.actionBtn,onClick:()=>r("/wearables"),style:{marginTop:"12px"},children:"Connect Fitbit"})]})]}),c.some(ee=>ee.provider==="fitbit")&&f.jsxs("div",{className:Oe.fitbitCard,children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[f.jsx("h3",{style:{margin:0},children:"Sync Fitbit Data"}),f.jsx("button",{className:Oe.actionBtn,onClick:W,disabled:Y,style:{minWidth:"120px"},children:Y?"Syncing...":"Sync Now"})]}),J&&f.jsx("div",{style:{padding:"12px",marginTop:"12px",backgroundColor:"var(--bg-tertiary)",borderRadius:"8px",color:"var(--error)",fontSize:"14px"},children:J})]}),f.jsxs("div",{className:Oe.metricsCard,children:[f.jsxs("div",{className:Oe.sectionHeader,children:[f.jsx("h3",{children:"Manual Logging"}),f.jsx("button",{className:Oe.actionBtn,onClick:()=>{const je={date:new Date(Date.now()-864e5).toISOString().split("T")[0],steps:null,sleep_hours:null,sleep_score:null,hrv:null,calories:null,weight:null,resting_heart_rate:null,body_temp:null};N(je),ge(!0)},children:"Log Health Metrics"})]}),f.jsx("p",{className:Oe.sectionNote,children:"Log all health metrics for any date"})]}),B.length>0&&f.jsxs("div",{className:Oe.metricsCard,children:[f.jsxs("div",{className:Oe.sectionHeader,children:[f.jsx("h3",{children:"Health Goals"}),f.jsx("button",{className:Oe.linkBtn,onClick:()=>r("/goals"),children:"View All "})]}),f.jsx("div",{className:Oe.goalsList,children:B.slice(0,3).map(ee=>{const je=ee.target_value>0?Math.min(100,ee.current_value/ee.target_value*100):0;return f.jsxs("div",{className:Oe.goalCard,children:[f.jsxs("div",{className:Oe.goalHeader,children:[f.jsx("span",{className:Oe.goalName,children:ee.custom_name||ee.type}),f.jsxs("span",{className:Oe.goalProgress,children:[Math.round(je),"%"]})]}),f.jsx("div",{className:Oe.goalBar,children:f.jsx("div",{className:Oe.goalBarFill,style:{width:`${je}%`}})}),f.jsxs("div",{className:Oe.goalValues,children:[ee.current_value," / ",ee.target_value," ",ee.unit]})]},ee.id)})})]}),f.jsxs("div",{className:Oe.metricsCard,children:[f.jsx("h3",{children:"Edit Past Metrics"}),x.length===0?f.jsx("p",{className:Oe.emptyText,children:"No metrics recorded yet"}):f.jsx("div",{className:Oe.metricsList,children:x.slice(-14).reverse().map(ee=>f.jsxs("button",{className:Oe.metricItem,onClick:()=>N({...ee}),children:[f.jsx("div",{className:Oe.metricDate,children:new Date(ee.date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:ee.date!==Dt()?"numeric":void 0})}),f.jsxs("div",{className:Oe.metricValues,children:[ee.weight&&f.jsxs("span",{children:["Weight: ",ee.weight," lbs"]}),ee.steps&&f.jsxs("span",{children:["Steps: ",ee.steps.toLocaleString()]}),ee.hrv&&f.jsxs("span",{children:["HRV: ",ee.hrv," ms"]}),ee.calories&&f.jsxs("span",{children:["Calories: ",ee.calories.toLocaleString()]}),!ee.weight&&!ee.steps&&!ee.hrv&&!ee.calories&&f.jsx("span",{className:Oe.noData,children:"No data"})]}),f.jsx("span",{className:Oe.editIcon,children:""})]},ee.date))})]}),f.jsxs("div",{className:Oe.actionsCard,children:[f.jsx("h3",{children:"Quick Actions"}),f.jsxs("div",{className:Oe.actionsGrid,children:[f.jsx("button",{className:Oe.actionBtn,onClick:()=>r("/fitness"),children:"Log Workout"}),f.jsx("button",{className:Oe.actionBtn,onClick:()=>r("/nutrition"),children:"Log Meal"}),!Ie.hasWearables&&f.jsx("button",{className:Oe.actionBtn,onClick:()=>r("/wearables"),children:"Connect Fitbit"})]})]})]}),(E||fe)&&f.jsx("div",{className:Oe.overlay,onClick:()=>{N(null),ge(!1)},children:f.jsxs("div",{className:Oe.modal,onClick:ee=>ee.stopPropagation(),children:[f.jsxs("div",{className:Oe.modalHeader,children:[f.jsx("h2",{children:E?.date?`Log Health Metrics - ${new Date(E.date+"T12:00:00").toLocaleDateString()}`:"Log Health Metrics"}),f.jsx("button",{onClick:()=>{N(null),ge(!1)},children:""})]}),f.jsxs("div",{className:Oe.editForm,children:[f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Date *"}),f.jsx("input",{type:"date",value:E?.date||Dt(),onChange:ee=>N({...E||{},date:ee.target.value}),max:Dt()})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Weight (lbs)"}),f.jsx("input",{type:"number",step:"0.1",value:E?.weight||"",onChange:ee=>N({...E||{},weight:parseFloat(ee.target.value)||null}),placeholder:"Enter weight"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Steps"}),f.jsx("input",{type:"number",value:E?.steps||"",onChange:ee=>N({...E||{},steps:parseInt(ee.target.value)||null}),placeholder:"Enter steps"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"HRV (ms)"}),f.jsx("input",{type:"number",value:E?.hrv||"",onChange:ee=>N({...E||{},hrv:parseInt(ee.target.value)||null}),placeholder:"Enter HRV"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Calories"}),f.jsx("input",{type:"number",value:E?.calories||"",onChange:ee=>N({...E||{},calories:parseInt(ee.target.value)||null}),placeholder:"Enter calories"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Sleep Time"}),f.jsx("input",{type:"text",value:E?.sleep_time||"",onChange:ee=>N({...E||{},sleep_time:ee.target.value}),placeholder:"e.g., 7h 30m"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Sleep Score"}),f.jsx("input",{type:"number",min:"0",max:"100",value:E?.sleep_score||"",onChange:ee=>N({...E||{},sleep_score:parseInt(ee.target.value)||null}),placeholder:"0-100"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Resting Heart Rate (bpm)"}),f.jsx("input",{type:"number",value:E?.resting_heart_rate||"",onChange:ee=>N({...E||{},resting_heart_rate:parseInt(ee.target.value)||null}),placeholder:"Enter resting heart rate"})]}),f.jsxs("div",{className:Oe.formGroup,children:[f.jsx("label",{children:"Body Temperature (F)"}),f.jsx("input",{type:"number",step:"0.1",value:E?.body_temp||"",onChange:ee=>N({...E||{},body_temp:parseFloat(ee.target.value)||null}),placeholder:"Enter body temperature"})]}),f.jsxs("div",{className:Oe.formActions,children:[f.jsx("button",{className:Oe.saveBtn,onClick:async()=>{if(!e||!E)return;if(!E.date){Ee("Please select a date","error");return}const ee=[],{validateWeight:je,validateSteps:I,validateHRV:C,validateCalories:P,validateSleepScore:U,validateRestingHeartRate:G,validateBodyTemperature:ie}=await br(async()=>{const{validateWeight:ve,validateSteps:Le,validateHRV:Ce,validateCalories:De,validateSleepScore:gt,validateRestingHeartRate:ot,validateBodyTemperature:rr}=await import("./validation-CvOy7Go1.js");return{validateWeight:ve,validateSteps:Le,validateHRV:Ce,validateCalories:De,validateSleepScore:gt,validateRestingHeartRate:ot,validateBodyTemperature:rr}},[]);if(E.weight!==null&&E.weight!==void 0&&E.weight!==""){const ve=je(E.weight);ve.valid||ee.push(`Weight: ${ve.error}`)}if(E.steps!==null&&E.steps!==void 0&&E.steps!==""){const ve=I(E.steps);ve.valid||ee.push(`Steps: ${ve.error}`)}if(E.hrv!==null&&E.hrv!==void 0&&E.hrv!==""){const ve=C(E.hrv);ve.valid||ee.push(`HRV: ${ve.error}`)}if(E.calories!==null&&E.calories!==void 0&&E.calories!==""){const ve=P(E.calories);ve.valid||ee.push(`Calories: ${ve.error}`)}if(E.sleep_score!==null&&E.sleep_score!==void 0&&E.sleep_score!==""){const ve=U(E.sleep_score);ve.valid||ee.push(`Sleep Score: ${ve.error}`)}if(E.resting_heart_rate!==null&&E.resting_heart_rate!==void 0&&E.resting_heart_rate!==""){const ve=G(E.resting_heart_rate);ve.valid||ee.push(`Resting Heart Rate: ${ve.error}`)}if(E.body_temp!==null&&E.body_temp!==void 0&&E.body_temp!==""){const ve=ie(E.body_temp);ve.valid||ee.push(`Body Temperature: ${ve.error}`)}if(ee.length>0){Ee(ee.join(", "),"error");return}try{await z0(e.id,E.date,{weight:E.weight,steps:E.steps,hrv:E.hrv,caloriesBurned:E.calories,sleepTime:E.sleep_time,sleepScore:E.sleep_score,restingHeartRate:E.resting_heart_rate,bodyTemp:E.body_temp}),await Te(),N(null),ge(!1),Ee("Health metrics saved successfully!","success")}catch(ve){console.error("Error saving metrics:",ve),Ee("Failed to save metrics. Please try again.","error")}},children:"Save"}),f.jsx("button",{className:Oe.cancelBtn,onClick:()=>{N(null),ge(!1)},children:"Cancel"})]})]})]})}),H&&f.jsx(fx,{message:H.message,type:H.type,duration:H.duration,onClose:Ve})]})}const aO="_container_4uc5h_1",nO="_header_4uc5h_17",sO="_backBtn_4uc5h_37",iO="_title_4uc5h_83",lO="_streak_4uc5h_103",oO="_streakIcon_4uc5h_119",cO="_content_4uc5h_133",uO="_monthNav_4uc5h_145",fO="_monthName_4uc5h_177",hO="_weekdays_4uc5h_187",dO="_weekday_4uc5h_187",mO="_days_4uc5h_215",pO="_day_4uc5h_215",gO="_hasWorkout_4uc5h_259",_O="_today_4uc5h_271",vO="_overlay_4uc5h_279",yO="_modal_4uc5h_297",xO="_modalHeader_4uc5h_313",wO="_workoutDetail_4uc5h_357",SO="_workoutMeta_4uc5h_369",bO="_workoutDuration_4uc5h_381",TO="_workoutRpe_4uc5h_393",EO="_exerciseList_4uc5h_409",AO="_exerciseItem_4uc5h_421",CO="_exerciseHeader_4uc5h_439",NO="_exerciseName_4uc5h_451",kO="_exerciseBodyPart_4uc5h_463",jO="_exerciseSets_4uc5h_479",OO="_setChip_4uc5h_491",DO="_workoutNotes_4uc5h_509",RO="_deleteBtn_4uc5h_527",BO="_noWorkout_4uc5h_551",MO="_scheduledLabel_4uc5h_563",LO="_scheduledName_4uc5h_577",PO="_scheduleActions_4uc5h_591",FO="_scheduleAction_4uc5h_591",IO="_scheduler_4uc5h_625",UO="_scheduleOptions_4uc5h_647",HO="_scheduleBtn_4uc5h_659",zO="_weeklyPlan_4uc5h_687",$O="_weeklyPlanTitle_4uc5h_703",qO="_weeklyPlanGrid_4uc5h_721",GO="_weeklyPlanDay_4uc5h_735",VO="_restDay_4uc5h_753",WO="_weeklyPlanDayName_4uc5h_761",YO="_weeklyPlanFocus_4uc5h_773",XO="_editPlanBtn_4uc5h_795",Ze={container:aO,header:nO,backBtn:sO,title:iO,streak:lO,streakIcon:oO,content:cO,monthNav:uO,monthName:fO,weekdays:hO,weekday:dO,days:mO,day:pO,hasWorkout:gO,today:_O,overlay:vO,modal:yO,modalHeader:xO,workoutDetail:wO,workoutMeta:SO,workoutDuration:bO,workoutRpe:TO,exerciseList:EO,exerciseItem:AO,exerciseHeader:CO,exerciseName:NO,exerciseBodyPart:kO,exerciseSets:jO,setChip:OO,workoutNotes:DO,deleteBtn:RO,noWorkout:BO,scheduledLabel:MO,scheduledName:LO,scheduleActions:PO,scheduleAction:FO,scheduler:IO,scheduleOptions:UO,scheduleBtn:HO,weeklyPlan:zO,weeklyPlanTitle:$O,weeklyPlanGrid:qO,weeklyPlanDay:GO,restDay:VO,weeklyPlanDayName:WO,weeklyPlanFocus:YO,editPlanBtn:XO};function KO(){const r=tn(),{user:e}=La(),[t,n]=q.useState(new Date),[i,o]=q.useState([]),[c,h]=q.useState({}),[d,m]=q.useState(null),[_,v]=q.useState(null),[x,y]=q.useState(0),[b,w]=q.useState([]),[S,j]=q.useState(!1),[E,N]=q.useState(null),[B,X]=q.useState(null),Y=async()=>{if(e){const W=await U0(e.id);o(W);const xe=await zo(e.id);y(xe)}};q.useEffect(()=>{async function W(){if(e){await Y();try{const ee=await $0(e.id);if(ee&&ee.available_days?.length>0){const je=q0({fitnessGoal:ee.fitness_goal,experienceLevel:ee.experience_level,availableDays:ee.available_days,sessionDuration:ee.session_duration,equipmentAvailable:ee.equipment_available,injuries:ee.injuries},[]);X(je)}}catch{}}const Ie=await No();w(Ie)}W();const xe=()=>{!document.hidden&&e&&Y()};return document.addEventListener("visibilitychange",xe),()=>{document.removeEventListener("visibilitychange",xe)}},[e]);const R=q.useMemo(()=>{const W=t.getFullYear(),xe=t.getMonth(),Ie=new Date(W,xe,1),ee=new Date(W,xe+1,0),je=[];for(let C=0;C<Ie.getDay();C++)je.push(null);const I=Dt();for(let C=1;C<=ee.getDate();C++){const P=`${W}-${String(xe+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`;je.push({day:C,date:P,hasWorkout:i.includes(P),isToday:P===I})}return je},[t,i]),J=t.toLocaleString("default",{month:"long",year:"numeric"}),Z=()=>{n(new Date(t.getFullYear(),t.getMonth()-1,1))},fe=()=>{n(new Date(t.getFullYear(),t.getMonth()+1,1))},ge=async W=>{if(W)if(m(W.date),W.hasWorkout&&e){const xe=await lx(e.id,W.date);v(xe[0]),N(null)}else{v(null);const xe=await J_(W.date);N(xe)}},H=()=>{m(null),v(null),j(!1),N(null)},Ee=async W=>{await aA(d,W),h(Ie=>({...Ie,[d]:W})),j(!1);const xe=await J_(d);N(xe)},Ve=W=>{const xe=new Date().toISOString().split("T")[0];return W>xe},Te=async()=>{if(!(!_||!e)&&confirm("Are you sure you want to delete this workout?"))try{await H0(_.id),await Y(),H()}catch{alert("Failed to delete workout. Please try again."),alert("Failed to delete workout")}};return f.jsxs("div",{className:Ze.container,children:[f.jsxs("header",{className:Ze.header,children:[f.jsx("button",{className:Ze.backBtn,onClick:()=>r("/"),children:" Back"}),f.jsx("h1",{className:Ze.title,children:"Calendar"}),f.jsxs("div",{className:Ze.streak,children:[x,f.jsx("img",{src:"/streak-icon.png",alt:"",className:Ze.streakIcon})]})]}),f.jsxs("div",{className:Ze.content,children:[f.jsxs("div",{className:Ze.monthNav,children:[f.jsx("button",{onClick:Z,children:""}),f.jsx("span",{className:Ze.monthName,children:J}),f.jsx("button",{onClick:fe,children:""})]}),f.jsx("div",{className:Ze.weekdays,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>f.jsx("div",{className:Ze.weekday,children:W},W))}),f.jsx("div",{className:Ze.days,children:R.map((W,xe)=>f.jsx("button",{className:`${Ze.day} ${W?.hasWorkout?Ze.hasWorkout:""} ${W?.isToday?Ze.today:""}`,onClick:()=>ge(W),disabled:!W,children:W?.day},xe))}),B&&f.jsxs("div",{className:Ze.weeklyPlan,children:[f.jsx("h3",{className:Ze.weeklyPlanTitle,children:"Weekly Plan"}),f.jsx("div",{className:Ze.weeklyPlanGrid,children:B.schedule.map((W,xe)=>f.jsxs("div",{className:`${Ze.weeklyPlanDay} ${W.restDay?Ze.restDay:""}`,children:[f.jsx("span",{className:Ze.weeklyPlanDayName,children:W.day.slice(0,3)}),f.jsx("span",{className:Ze.weeklyPlanFocus,children:W.focus})]},xe))}),f.jsx("button",{className:Ze.editPlanBtn,onClick:()=>r("/planner"),children:"Edit Plan"})]})]}),d&&f.jsx("div",{className:Ze.overlay,onClick:H,children:f.jsxs("div",{className:Ze.modal,onClick:W=>W.stopPropagation(),children:[f.jsxs("div",{className:Ze.modalHeader,children:[f.jsx("h2",{children:new Date(d+"T12:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),f.jsx("button",{onClick:H,children:""})]}),_?f.jsxs("div",{className:Ze.workoutDetail,children:[f.jsxs("div",{className:Ze.workoutMeta,children:[f.jsxs("span",{className:Ze.workoutDuration,children:[Math.floor((_.duration||0)/60),":",String((_.duration||0)%60).padStart(2,"0")]}),_.perceived_effort&&f.jsxs("span",{className:Ze.workoutRpe,children:["RPE: ",_.perceived_effort]})]}),f.jsx("div",{className:Ze.exerciseList,children:(_.workout_exercises||[]).map((W,xe)=>f.jsxs("div",{className:Ze.exerciseItem,children:[f.jsxs("div",{className:Ze.exerciseHeader,children:[f.jsx("span",{className:Ze.exerciseName,children:W.exercise_name}),f.jsx("span",{className:Ze.exerciseBodyPart,children:W.body_part})]}),f.jsx("div",{className:Ze.exerciseSets,children:(W.workout_sets||[]).map((Ie,ee)=>f.jsx("span",{className:Ze.setChip,children:Ie.weight?`${Ie.reps}${Ie.weight} lbs`:Ie.time?`${Ie.time}`:"-"},ee))})]},xe))}),_.notes&&f.jsxs("div",{className:Ze.workoutNotes,children:[f.jsx("strong",{children:"Notes:"})," ",_.notes]}),f.jsx("button",{className:Ze.deleteBtn,onClick:Te,children:"Delete Workout"})]}):S?f.jsxs("div",{className:Ze.scheduler,children:[f.jsx("h3",{children:"Schedule"}),f.jsxs("div",{className:Ze.scheduleTabs,children:[f.jsx("button",{className:Ze.scheduleTab,onClick:()=>j("workout"),children:"Workout"}),f.jsx("button",{className:Ze.scheduleTab,onClick:()=>j("meal"),children:"Meal"}),f.jsx("button",{className:Ze.scheduleTab,onClick:()=>j("goal"),children:"Goal"})]}),S==="workout"&&f.jsxs("div",{className:Ze.scheduleOptions,children:[b.map(W=>f.jsx("button",{className:Ze.scheduleBtn,onClick:()=>Ee(W.id),children:W.name},W.id)),f.jsx("button",{className:Ze.scheduleBtn,onClick:()=>Ee("freestyle"),children:"Freestyle"})]}),S==="meal"&&f.jsxs("div",{className:Ze.scheduleOptions,children:[f.jsx("button",{className:Ze.scheduleBtn,onClick:()=>{r("/nutrition"),H()},children:"Log Meal"}),f.jsx("button",{className:Ze.scheduleBtn,onClick:()=>{r("/goals",{state:{createMealPlan:!0,date:d}}),H()},children:"Create Meal Plan"}),f.jsx("p",{className:Ze.scheduleNote,children:"Meals sync to Nutrition and Goals pages"})]}),S==="goal"&&f.jsxs("div",{className:Ze.scheduleOptions,children:[f.jsx("button",{className:Ze.scheduleBtn,onClick:()=>r("/goals"),children:"Create Goal"}),f.jsx("p",{className:Ze.scheduleNote,children:"Goals sync to Fitness, Health, Nutrition, and Analytics pages"})]})]}):f.jsxs("div",{className:Ze.noWorkout,children:[E?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:Ze.scheduledLabel,children:"Scheduled:"}),f.jsx("p",{className:Ze.scheduledName,children:E.templateId==="freestyle"?"Freestyle":b.find(W=>W.id===E.templateId)?.name||"Workout"})]}):f.jsx("p",{children:"No workout recorded"}),Ve(d)&&f.jsxs("div",{className:Ze.scheduleActions,children:[f.jsx("button",{className:Ze.scheduleAction,onClick:()=>j("workout"),children:E?"Change Schedule":"Schedule Workout"}),f.jsx("button",{className:Ze.scheduleAction,onClick:()=>j("meal"),children:"Schedule Meal"}),f.jsx("button",{className:Ze.scheduleAction,onClick:()=>j("goal"),children:"Schedule Goal"})]}),!Ve(d)&&f.jsx("button",{className:Ze.scheduleAction,onClick:()=>j("workout"),children:"Schedule"})]})]})})]})}async function JO(r,e,t){const{data:n,error:i}=await st.from("daily_metrics").select("*").eq("user_id",r).eq("date",e).maybeSingle();let o=[],c=0,h={protein:0,carbs:0,fat:0};if(n&&n.meals)try{o=typeof n.meals=="string"?JSON.parse(n.meals):n.meals,Array.isArray(o)||(o=[]),c=Number(n.calories)||0,n.macros&&(h=typeof n.macros=="string"?JSON.parse(n.macros):n.macros,(!h||typeof h!="object")&&(h={protein:0,carbs:0,fat:0}))}catch(x){console.error("Error parsing existing meals:",x),o=[],c=0,h={protein:0,carbs:0,fat:0}}const d=t.id?t:{...t,id:Date.now().toString(),timestamp:new Date().toISOString()};!d.macros&&(d.protein||d.carbs||d.fat)?d.macros={protein:Number(d.protein)||0,carbs:Number(d.carbs)||0,fat:Number(d.fat)||0}:d.macros||(d.macros={protein:0,carbs:0,fat:0}),d.calories=Number(d.calories)||0;const m=o.findIndex(x=>x.id===d.id);m>=0?o[m]=d:o.push(d),c=o.reduce((x,y)=>x+(Number(y.calories)||0),0),h=o.reduce((x,y)=>{const b=y.macros||{};return{protein:x.protein+(Number(b.protein)||Number(y.protein)||0),carbs:x.carbs+(Number(b.carbs)||Number(y.carbs)||0),fat:x.fat+(Number(b.fat)||Number(y.fat)||0)}},{protein:0,carbs:0,fat:0});const{data:_,error:v}=await st.from("daily_metrics").upsert({user_id:r,date:e,calories:c,meals:o,macros:h,updated_at:new Date().toISOString()},{onConflict:"user_id,date"}).select().single();if(v)throw console.error("Error saving meal to Supabase:",v),console.error("Meal data:",d),console.error("Meals array:",o),v;return console.log("Meal saved successfully:",_),_}async function dx(r,e){const{data:t,error:n}=await st.from("daily_metrics").select("*").eq("user_id",r).eq("date",e).maybeSingle();if(n&&n.code!=="PGRST116")return console.error("Error getting meals:",n),vr("Error getting meals",n),{meals:[],calories:0,macros:{protein:0,carbs:0,fat:0},water:0};if(!t)return{meals:[],calories:0,macros:{protein:0,carbs:0,fat:0},water:0};let i=[];if(t.meals)try{typeof t.meals=="string"?i=JSON.parse(t.meals):Array.isArray(t.meals)?i=t.meals:i=[],Array.isArray(i)||(console.warn("Meals is not an array:",i,"Type:",typeof i),i=[])}catch(c){console.error("Error parsing meals:",c,"Raw data:",t.meals),i=[]}let o={protein:0,carbs:0,fat:0};if(t.macros)try{typeof t.macros=="string"?o=JSON.parse(t.macros):typeof t.macros=="object"&&!Array.isArray(t.macros)?o=t.macros:o={protein:0,carbs:0,fat:0},(!o||typeof o!="object"||Array.isArray(o))&&(console.warn("Macros is not an object:",o,"Type:",typeof o),o={protein:0,carbs:0,fat:0})}catch(c){console.error("Error parsing macros:",c,"Raw data:",t.macros),o={protein:0,carbs:0,fat:0}}return console.log("Loaded meals for",e,":",i.length,"meals"),{meals:i||[],calories:Number(t.calories)||0,macros:o||{protein:0,carbs:0,fat:0},water:Number(t.water)||0}}async function mx(r,e,t){const{data:n,error:i}=await st.from("daily_metrics").select("*").eq("user_id",r).gte("date",e).lte("date",t).not("calories","is",null).order("date",{ascending:!0});if(i)throw i;return(n||[]).map(o=>{let c=[],h={protein:0,carbs:0,fat:0};if(o.meals)try{c=typeof o.meals=="string"?JSON.parse(o.meals):o.meals}catch{c=[]}if(o.macros)try{h=typeof o.macros=="string"?JSON.parse(o.macros):o.macros}catch{h={protein:0,carbs:0,fat:0}}return{date:o.date,meals:c,calories:o.calories||0,macros:h,water:o.water||0}})}async function QO(r,e,t){const{data:n,error:i}=await st.from("daily_metrics").upsert({user_id:r,date:e,water:t,updated_at:new Date().toISOString()},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n}async function ZO(r,e,t){const{data:n,error:i}=await st.from("daily_metrics").select("*").eq("user_id",r).eq("date",e).single();if(i&&i.code!=="PGRST116")throw i;if(!n||!n.meals)return;let o=[];try{o=typeof n.meals=="string"?JSON.parse(n.meals):n.meals}catch{return}o=o.filter(m=>m.id!==t);const c=o.reduce((m,_)=>m+(_.calories||0),0),h=o.reduce((m,_)=>({protein:m.protein+(_.macros?.protein||_.protein||0),carbs:m.carbs+(_.macros?.carbs||_.carbs||0),fat:m.fat+(_.macros?.fat||_.fat||0)}),{protein:0,carbs:0,fat:0}),{error:d}=await st.from("daily_metrics").upsert({user_id:r,date:e,calories:c,meals:JSON.stringify(o),macros:JSON.stringify(h),updated_at:new Date().toISOString()},{onConflict:"user_id,date"});if(d)throw d}async function eD(r,e){const{data:t,error:n}=await st.from("user_preferences").upsert({user_id:r,nutrition_settings:JSON.stringify({targetCalories:e.targetCalories,targetMacros:e.targetMacros,favorites:e.favorites||[],fastingEnabled:e.fastingEnabled||!1,fastingStartTime:e.fastingStartTime||null}),updated_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(n)throw n;return t}async function tD(r){const{data:e,error:t}=await st.from("user_preferences").select("nutrition_settings").eq("user_id",r).single();if(t&&t.code!=="PGRST116")return console.error("Error getting nutrition settings:",t),null;if(!e||!e.nutrition_settings)return null;try{return typeof e.nutrition_settings=="string"?JSON.parse(e.nutrition_settings):e.nutrition_settings}catch(n){return console.error("Error parsing nutrition settings:",n),null}}async function rD(r,e){const{data:t,error:n}=await st.from("user_preferences").upsert({user_id:r,weekly_meal_plan:JSON.stringify(e),updated_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(n)throw n;return t}async function aD(r){const{data:e,error:t}=await st.from("user_preferences").select("weekly_meal_plan").eq("user_id",r).single();if(t&&t.code!=="PGRST116")return vr("Error getting weekly meal plan",t),null;if(!e||!e.weekly_meal_plan)return null;try{return typeof e.weekly_meal_plan=="string"?JSON.parse(e.weekly_meal_plan):e.weekly_meal_plan}catch(n){return console.error("Error parsing weekly meal plan:",n),null}}const fn=Object.freeze(Object.defineProperty({__proto__:null,deleteMealFromSupabase:ZO,getMealsFromSupabase:dx,getNutritionRangeFromSupabase:mx,getNutritionSettingsFromSupabase:tD,getWeeklyMealPlanFromSupabase:aD,saveMealToSupabase:JO,saveNutritionSettingsToSupabase:eD,saveWeeklyMealPlanToSupabase:rD,updateWaterIntake:QO},Symbol.toStringTag,{value:"Module"})),nD="_container_xs3pu_1",sD="_gridBg_xs3pu_29",iD="_views_xs3pu_47",lD="_view_xs3pu_47",oD="_viewLabel_xs3pu_79",cD="_labelIcon_xs3pu_101",uD="_bodyWrapper_xs3pu_111",fD="_body_xs3pu_111",hD="_heartPulse_xs3pu_161",dD="_scanLines_xs3pu_207",mD="_intensityScale_xs3pu_217",pD="_scaleLabel_xs3pu_237",gD="_scaleBar_xs3pu_263",_D="_scaleGradient_xs3pu_281",vD="_statsGrid_xs3pu_307",yD="_statItem_xs3pu_327",xD="_statItemHovered_xs3pu_367",wD="_tooltipOverlay_xs3pu_379",SD="_tooltip_xs3pu_379",bD="_tooltipContent_xs3pu_417",TD="_tooltipActions_xs3pu_425",ED="_tooltipDrillDown_xs3pu_437",AD="_tooltipClose_xs3pu_459",CD="_tooltipHeader_xs3pu_479",ND="_tooltipRow_xs3pu_499",kD="_tooltipLabel_xs3pu_513",jD="_tooltipValue_xs3pu_523",OD="_statHeader_xs3pu_545",DD="_statName_xs3pu_559",RD="_statValue_xs3pu_573",BD="_statBar_xs3pu_587",MD="_statFill_xs3pu_601",ft={container:nD,gridBg:sD,views:iD,view:lD,viewLabel:oD,labelIcon:cD,bodyWrapper:uD,body:fD,heartPulse:hD,scanLines:dD,intensityScale:mD,scaleLabel:pD,scaleBar:gD,scaleGradient:_D,statsGrid:vD,statItem:yD,statItemHovered:xD,tooltipOverlay:wD,tooltip:SD,tooltipContent:bD,tooltipActions:TD,tooltipDrillDown:ED,tooltipClose:AD,tooltipHeader:CD,tooltipRow:ND,tooltipLabel:kD,tooltipValue:jD,statHeader:OD,statName:DD,statValue:RD,statBar:BD,statFill:MD};function LD({data:r,metric:e="count",detailedStats:t={},onDrillDown:n}){const[i,o]=q.useState(null),c=Math.max(...Object.values(r),1),h=b=>(r[b]||0)/c,d=b=>{o(i===b?null:b)},m=b=>t[b]||{lastTrained:null,topExercise:null,avgPerWeek:0},_=b=>{if(!b)return"Never";const w=new Date(b+"T12:00:00"),j=Math.floor((new Date-w)/864e5);return j===0?"Today":j===1?"Yesterday":j<7?`${j} days ago`:w.toLocaleDateString("en-US",{month:"short",day:"numeric"})},v=b=>b===0?"rgba(30, 30, 30, 0.6)":b<.25?`rgba(255, 80, 80, ${.3+b*.4})`:b<.5?`rgba(255, 60, 60, ${.5+b*.3})`:b<.75?`rgba(255, 45, 45, ${.7+b*.2})`:`rgba(255, 30, 30, ${.85+b*.15})`,x=b=>{if(b===0)return"none";const w=.3+b*.5;return`0 0 ${10+b*15}px rgba(255, 45, 45, ${w})`},y=b=>r[b]||0;return f.jsxs("div",{className:ft.container,children:[f.jsx("div",{className:ft.gridBg}),f.jsxs("div",{className:ft.views,children:[f.jsxs("div",{className:ft.view,children:[f.jsxs("span",{className:ft.viewLabel,children:[f.jsx("span",{className:ft.labelIcon,children:""})," FRONT"]}),f.jsx("div",{className:ft.bodyWrapper,children:f.jsxs("svg",{viewBox:"0 0 200 380",className:ft.body,children:[f.jsxs("defs",{children:[f.jsxs("filter",{id:"glow-red",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[f.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),f.jsxs("linearGradient",{id:"bodyBase",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#1a1a1a"}),f.jsx("stop",{offset:"100%",stopColor:"#0a0a0a"})]})]}),f.jsx("ellipse",{cx:"100",cy:"32",rx:"22",ry:"28",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"1"}),f.jsx("path",{d:"M88 58 L88 72 L112 72 L112 58",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"1"}),f.jsx("path",{d:"M45 82 C60 72 85 70 100 70 C115 70 140 72 155 82 L152 100 C130 92 100 90 100 90 C100 90 70 92 48 100 Z",fill:v(h("Shoulders")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"52",cy:"95",rx:"18",ry:"22",fill:v(h("Shoulders")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"148",cy:"95",rx:"18",ry:"22",fill:v(h("Shoulders")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M58 95 C65 88 85 85 100 88 L100 130 C85 128 68 120 58 105 Z",fill:v(h("Chest")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M142 95 C135 88 115 85 100 88 L100 130 C115 128 132 120 142 105 Z",fill:v(h("Chest")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("rect",{x:"78",y:"132",width:"44",height:"22",rx:"3",fill:v(h("Core")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("rect",{x:"78",y:"156",width:"44",height:"22",rx:"3",fill:v(h("Core")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("rect",{x:"80",y:"180",width:"40",height:"20",rx:"3",fill:v(h("Core")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("line",{x1:"100",y1:"132",x2:"100",y2:"200",stroke:"#333",strokeWidth:"1"}),f.jsx("path",{d:"M58 130 Q65 160 72 200 L78 200 L78 132 Z",fill:v(h("Core")),stroke:"#444",strokeWidth:"0.5",opacity:"0.7"}),f.jsx("path",{d:"M142 130 Q135 160 128 200 L122 200 L122 132 Z",fill:v(h("Core")),stroke:"#444",strokeWidth:"0.5",opacity:"0.7"}),f.jsx("ellipse",{cx:"38",cy:"130",rx:"14",ry:"32",fill:v(h("Biceps")),stroke:"#444",strokeWidth:"0.5",transform:"rotate(-8, 38, 130)"}),f.jsx("ellipse",{cx:"162",cy:"130",rx:"14",ry:"32",fill:v(h("Biceps")),stroke:"#444",strokeWidth:"0.5",transform:"rotate(8, 162, 130)"}),f.jsx("ellipse",{cx:"32",cy:"185",rx:"10",ry:"28",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5",transform:"rotate(-5, 32, 185)"}),f.jsx("ellipse",{cx:"168",cy:"185",rx:"10",ry:"28",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5",transform:"rotate(5, 168, 185)"}),f.jsx("ellipse",{cx:"28",cy:"225",rx:"8",ry:"14",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"172",cy:"225",rx:"8",ry:"14",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("path",{d:"M72 200 Q80 210 100 212 Q120 210 128 200 L128 220 Q100 225 72 220 Z",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("path",{d:"M72 220 C68 240 65 280 68 320 L92 320 C95 280 92 250 90 220 Z",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M128 220 C132 240 135 280 132 320 L108 320 C105 280 108 250 110 220 Z",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"80",cy:"325",rx:"14",ry:"10",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"120",cy:"325",rx:"14",ry:"10",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"78",cy:"355",rx:"10",ry:"20",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"122",cy:"355",rx:"10",ry:"20",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("g",{transform:"translate(100, 115)",opacity:h("Cardio")>0?1:.3,children:f.jsx("path",{d:"M0,-6 C-4,-10 -10,-10 -10,-4 C-10,3 0,10 0,10 C0,10 10,3 10,-4 C10,-10 4,-10 0,-6",fill:v(h("Cardio")),stroke:"#ff4444",strokeWidth:"0.5",className:ft.heartPulse})}),f.jsx("g",{className:ft.scanLines,children:[0,1,2,3,4,5,6,7,8,9].map(b=>f.jsx("line",{x1:"0",y1:b*38,x2:"200",y2:b*38,stroke:"rgba(255,45,45,0.03)",strokeWidth:"1"},b))})]})})]}),f.jsxs("div",{className:ft.view,children:[f.jsxs("span",{className:ft.viewLabel,children:[f.jsx("span",{className:ft.labelIcon,children:""})," BACK"]}),f.jsx("div",{className:ft.bodyWrapper,children:f.jsxs("svg",{viewBox:"0 0 200 380",className:ft.body,children:[f.jsx("ellipse",{cx:"100",cy:"32",rx:"22",ry:"28",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"1"}),f.jsx("path",{d:"M88 58 L88 72 L112 72 L112 58",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"1"}),f.jsx("path",{d:"M60 72 C75 68 90 67 100 67 C110 67 125 68 140 72 L145 95 Q100 85 55 95 Z",fill:v(h("Back")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"50",cy:"92",rx:"16",ry:"20",fill:v(h("Shoulders")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"150",cy:"92",rx:"16",ry:"20",fill:v(h("Shoulders")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M55 95 C50 120 48 160 65 200 L78 200 L78 130 C70 115 60 100 55 95 Z",fill:v(h("Back")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M145 95 C150 120 152 160 135 200 L122 200 L122 130 C130 115 140 100 145 95 Z",fill:v(h("Back")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("rect",{x:"68",y:"100",width:"64",height:"50",rx:"5",fill:v(h("Back")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("line",{x1:"100",y1:"72",x2:"100",y2:"210",stroke:"#333",strokeWidth:"2"}),[80,100,120,140,160,180].map(b=>f.jsx("line",{x1:"94",y1:b,x2:"106",y2:b,stroke:"#444",strokeWidth:"1"},b)),f.jsx("path",{d:"M75 150 L75 200 Q100 205 125 200 L125 150 Q100 155 75 150 Z",fill:v(h("Back")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"36",cy:"128",rx:"12",ry:"30",fill:v(h("Triceps")),stroke:"#444",strokeWidth:"0.5",transform:"rotate(-8, 36, 128)"}),f.jsx("ellipse",{cx:"164",cy:"128",rx:"12",ry:"30",fill:v(h("Triceps")),stroke:"#444",strokeWidth:"0.5",transform:"rotate(8, 164, 128)"}),f.jsx("ellipse",{cx:"30",cy:"185",rx:"10",ry:"28",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5",transform:"rotate(-5, 30, 185)"}),f.jsx("ellipse",{cx:"170",cy:"185",rx:"10",ry:"28",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5",transform:"rotate(5, 170, 185)"}),f.jsx("ellipse",{cx:"26",cy:"225",rx:"8",ry:"14",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"174",cy:"225",rx:"8",ry:"14",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"82",cy:"218",rx:"18",ry:"16",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"118",cy:"218",rx:"18",ry:"16",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M65 232 C62 260 62 300 68 320 L92 320 C96 295 94 260 90 232 Z",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("path",{d:"M135 232 C138 260 138 300 132 320 L108 320 C104 295 106 260 110 232 Z",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"80",cy:"325",rx:"14",ry:"10",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"120",cy:"325",rx:"14",ry:"10",fill:"url(#bodyBase)",stroke:"#333",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"78",cy:"355",rx:"12",ry:"22",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("ellipse",{cx:"122",cy:"355",rx:"12",ry:"22",fill:v(h("Legs")),stroke:"#444",strokeWidth:"0.5"}),f.jsx("g",{className:ft.scanLines,children:[0,1,2,3,4,5,6,7,8,9].map(b=>f.jsx("line",{x1:"0",y1:b*38,x2:"200",y2:b*38,stroke:"rgba(255,45,45,0.03)",strokeWidth:"1"},b))})]})})]})]}),f.jsxs("div",{className:ft.intensityScale,children:[f.jsx("span",{className:ft.scaleLabel,children:"INACTIVE"}),f.jsx("div",{className:ft.scaleBar,children:f.jsx("div",{className:ft.scaleGradient})}),f.jsx("span",{className:ft.scaleLabel,children:"MAX"})]}),i&&f.jsx("div",{className:ft.tooltipOverlay,onClick:()=>o(null),children:f.jsxs("div",{className:ft.tooltip,onClick:b=>b.stopPropagation(),children:[f.jsx("div",{className:ft.tooltipHeader,children:i.toUpperCase()}),f.jsxs("div",{className:ft.tooltipContent,children:[f.jsxs("div",{className:ft.tooltipRow,children:[f.jsx("span",{className:ft.tooltipLabel,children:"Last trained:"}),f.jsx("span",{className:ft.tooltipValue,children:_(m(i).lastTrained)})]}),f.jsxs("div",{className:ft.tooltipRow,children:[f.jsx("span",{className:ft.tooltipLabel,children:"Top exercise:"}),f.jsx("span",{className:ft.tooltipValue,children:m(i).topExercise||""})]}),f.jsxs("div",{className:ft.tooltipRow,children:[f.jsx("span",{className:ft.tooltipLabel,children:"Avg/week:"}),f.jsx("span",{className:ft.tooltipValue,children:m(i).avgPerWeek?.toFixed(1)||"0"})]})]}),f.jsxs("div",{className:ft.tooltipActions,children:[n&&f.jsxs("button",{className:ft.tooltipDrillDown,onClick:()=>{n(i),o(null)},children:["View ",i," History"]}),f.jsx("button",{className:ft.tooltipClose,onClick:()=>o(null),children:"Close"})]})]})}),f.jsx("div",{className:ft.statsGrid,children:["Chest","Back","Shoulders","Biceps","Triceps","Core","Legs","Cardio","Recovery"].map(b=>{const w=y(b),S=h(b),j=Math.round(S*100);return f.jsxs("button",{className:`${ft.statItem} ${i===b?ft.statItemHovered:""}`,onClick:()=>d(b),children:[f.jsxs("div",{className:ft.statHeader,children:[f.jsx("span",{className:ft.statName,children:b.toUpperCase()}),f.jsx("span",{className:ft.statValue,children:w})]}),f.jsx("div",{className:ft.statBar,children:f.jsx("div",{className:ft.statFill,style:{width:`${j}%`,background:S>0?`linear-gradient(90deg, rgba(255,45,45,0.6), rgba(255,45,45,${.4+S*.6}))`:"transparent",boxShadow:S>.3?x(S):"none"}})})]},b)})})]})}const px="";async function PD(){try{return(await fetch(`${px}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})).ok}catch{return!1}}async function FD(r,e={}){if(!await PD())throw new Error("Backend service is unavailable. Please try again later.");const{data:{session:n}}=await st.auth.getSession();if(!n?.access_token)throw new Error("Authentication required. Please log in again.");const i=`${px}${r}`,o={headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,...e.headers},...e};e.body&&typeof e.body=="object"&&(o.body=JSON.stringify(e.body));try{const c=await fetch(i,o),h=c.headers.get("content-type");let d;if(h&&h.includes("application/json"))d=await c.json();else{const m=await c.text();throw new Error(m||"API request failed")}if(!c.ok)throw new Error(d.error?.message||d.message||`API request failed with status ${c.status}`);return d}catch(c){throw c.name==="AbortError"?new Error("Request timeout. Please check your connection."):(console.error("API request error:",c),c)}}async function ID(r){return FD("/api/ml/insights",{method:"POST",body:{userId:r}})}const UD="_container_1uh93_1",HD="_header_1uh93_17",zD="_backBtn_1uh93_37",$D="_title_1uh93_83",qD="_tabs_1uh93_103",GD="_tab_1uh93_103",VD="_activeTab_1uh93_153",WD="_content_1uh93_165",YD="_loading_1uh93_179",XD="_sectionTitle_1uh93_195",KD="_filterRow_1uh93_211",JD="_filterLabel_1uh93_225",QD="_filterButtons_1uh93_239",ZD="_filterBtn_1uh93_251",e6="_activeFilter_1uh93_271",t6="_overviewContainer_1uh93_287",r6="_combinedStatsGrid_1uh93_299",a6="_readinessCard_1uh93_311",n6="_readinessgreen_1uh93_327",s6="_readinessyellow_1uh93_337",i6="_readinessred_1uh93_347",l6="_readinessHeader_1uh93_357",o6="_readinessZone_1uh93_371",c6="_readinessScore_1uh93_389",u6="_readinessNumber_1uh93_403",f6="_readinessLabel_1uh93_419",h6="_readinessComponents_1uh93_429",d6="_component_1uh93_443",m6="_componentLabel_1uh93_457",p6="_componentValue_1uh93_471",g6="_nutritionCard_1uh93_483",_6="_nutritionStats_1uh93_511",v6="_nutritionItem_1uh93_523",y6="_nutritionLabel_1uh93_535",x6="_nutritionValue_1uh93_545",w6="_fitbitSummaryCard_1uh93_559",S6="_fitbitSummaryGrid_1uh93_587",b6="_fitbitSummaryItem_1uh93_599",T6="_fitbitSummaryLabel_1uh93_611",E6="_fitbitSummaryValue_1uh93_621",A6="_trendsCard_1uh93_635",C6="_mlInsightsCard_1uh93_667",N6="_mlInsightsTitle_1uh93_683",k6="_mlInsightsList_1uh93_697",j6="_mlInsightItem_1uh93_715",O6="_mlInsightText_1uh93_735",D6="_mlLoadingText_1uh93_747",R6="_goalsCard_1uh93_761",B6="_goalsHeader_1uh93_777",M6="_goalsList_1uh93_805",L6="_goalItem_1uh93_817",P6="_goalInfo_1uh93_831",F6="_goalName_1uh93_845",I6="_goalProgress_1uh93_857",U6="_goalBar_1uh93_869",H6="_goalBarFill_1uh93_887",z6="_goalValues_1uh93_899",$6="_heatmapContainer_1uh93_911",q6="_heatmap_1uh93_911",G6="_heatmapItem_1uh93_931",V6="_heatmapLabel_1uh93_955",W6="_heatmapCount_1uh93_969",Y6="_metricsContainer_1uh93_985",X6="_streakCard_1uh93_997",K6="_streakNumber_1uh93_1017",J6="_streakLabel_1uh93_1033",Q6="_metricsTable_1uh93_1045",Z6="_metricsHeader_1uh93_1057",eR="_metricsRow_1uh93_1059",tR="_metricsSummary_1uh93_1125",rR="_miniChart_1uh93_1149",aR="_miniBar_1uh93_1163",nR="_upcomingContainer_1uh93_1179",sR="_emptyState_1uh93_1191",iR="_emptyText_1uh93_1209",lR="_scheduleBtn_1uh93_1221",oR="_upcomingList_1uh93_1241",cR="_upcomingItem_1uh93_1253",uR="_upcomingDate_1uh93_1273",fR="_upcomingDay_1uh93_1287",hR="_upcomingDateNum_1uh93_1299",dR="_upcomingName_1uh93_1313",mR="_trendsContainer_1uh93_1327",pR="_statsGrid_1uh93_1339",gR="_statCard_1uh93_1353",_R="_statNumber_1uh93_1399",vR="_statLabel_1uh93_1413",yR="_topExercises_1uh93_1431",xR="_exerciseRow_1uh93_1443",wR="_exerciseRank_1uh93_1465",SR="_exerciseName_1uh93_1479",bR="_exerciseCount_1uh93_1491",TR="_historyContainer_1uh93_1505",ER="_historyList_1uh93_1517",AR="_historyItem_1uh93_1529",CR="_historyDate_1uh93_1561",NR="_historyDay_1uh93_1575",kR="_historyDateNum_1uh93_1587",jR="_historyInfo_1uh93_1599",OR="_historyExercises_1uh93_1613",DR="_historyDuration_1uh93_1623",RR="_historyArrow_1uh93_1635",BR="_overlay_1uh93_1647",MR="_modal_1uh93_1665",LR="_modalHeader_1uh93_1683",PR="_workoutDetail_1uh93_1733",FR="_workoutMeta_1uh93_1745",IR="_workoutDuration_1uh93_1757",UR="_workoutRpe_1uh93_1769",HR="_exerciseList_1uh93_1785",zR="_exerciseItem_1uh93_1797",$R="_exerciseHeader_1uh93_1815",qR="_exerciseBodyPart_1uh93_1827",GR="_exerciseSets_1uh93_1843",VR="_setChip_1uh93_1855",WR="_workoutNotes_1uh93_1873",YR="_workoutActions_1uh93_1891",XR="_editBtn_1uh93_1903",KR="_deleteBtn_1uh93_1925",JR="_editForm_1uh93_1947",QR="_formGroup_1uh93_1959",ZR="_formActions_1uh93_2005",e5="_saveBtn_1uh93_2017",t5="_cancelBtn_1uh93_2039",r5="_editMetricBtn_1uh93_2061",a5="_bodyPartDetail_1uh93_2121",n5="_bodyPartList_1uh93_2133",s5="_exerciseGroup_1uh93_2145",i5="_exerciseGroupHeader_1uh93_2157",l5="_exerciseGroupName_1uh93_2175",o5="_exerciseGroupCount_1uh93_2187",c5="_exerciseSessions_1uh93_2205",u5="_exerciseSession_1uh93_2205",f5="_sessionDate_1uh93_2231",h5="_sessionSets_1uh93_2243",d5="_moreSessions_1uh93_2257",m5="_chartSection_1uh93_2273",p5="_chartTitle_1uh93_2285",g5="_chartTypeSelector_1uh93_2305",_5="_chartTypeBtn_1uh93_2323",v5="_activeChartType_1uh93_2365",y5="_chartViewToggle_1uh93_2379",x5="_chartViewBtn_1uh93_2393",w5="_activeChartView_1uh93_2415",z={container:UD,header:HD,backBtn:zD,title:$D,tabs:qD,tab:GD,activeTab:VD,content:WD,loading:YD,sectionTitle:XD,filterRow:KD,filterLabel:JD,filterButtons:QD,filterBtn:ZD,activeFilter:e6,overviewContainer:t6,combinedStatsGrid:r6,readinessCard:a6,readinessgreen:n6,readinessyellow:s6,readinessred:i6,readinessHeader:l6,readinessZone:o6,readinessScore:c6,readinessNumber:u6,readinessLabel:f6,readinessComponents:h6,component:d6,componentLabel:m6,componentValue:p6,nutritionCard:g6,nutritionStats:_6,nutritionItem:v6,nutritionLabel:y6,nutritionValue:x6,fitbitSummaryCard:w6,fitbitSummaryGrid:S6,fitbitSummaryItem:b6,fitbitSummaryLabel:T6,fitbitSummaryValue:E6,trendsCard:A6,mlInsightsCard:C6,mlInsightsTitle:N6,mlInsightsList:k6,mlInsightItem:j6,mlInsightText:O6,mlLoadingText:D6,goalsCard:R6,goalsHeader:B6,goalsList:M6,goalItem:L6,goalInfo:P6,goalName:F6,goalProgress:I6,goalBar:U6,goalBarFill:H6,goalValues:z6,heatmapContainer:$6,heatmap:q6,heatmapItem:G6,heatmapLabel:V6,heatmapCount:W6,metricsContainer:Y6,streakCard:X6,streakNumber:K6,streakLabel:J6,metricsTable:Q6,metricsHeader:Z6,metricsRow:eR,metricsSummary:tR,miniChart:rR,miniBar:aR,upcomingContainer:nR,emptyState:sR,emptyText:iR,scheduleBtn:lR,upcomingList:oR,upcomingItem:cR,upcomingDate:uR,upcomingDay:fR,upcomingDateNum:hR,upcomingName:dR,trendsContainer:mR,statsGrid:pR,statCard:gR,statNumber:_R,statLabel:vR,topExercises:yR,exerciseRow:xR,exerciseRank:wR,exerciseName:SR,exerciseCount:bR,historyContainer:TR,historyList:ER,historyItem:AR,historyDate:CR,historyDay:NR,historyDateNum:kR,historyInfo:jR,historyExercises:OR,historyDuration:DR,historyArrow:RR,overlay:BR,modal:MR,modalHeader:LR,workoutDetail:PR,workoutMeta:FR,workoutDuration:IR,workoutRpe:UR,exerciseList:HR,exerciseItem:zR,exerciseHeader:$R,exerciseBodyPart:qR,exerciseSets:GR,setChip:VR,workoutNotes:WR,workoutActions:YR,editBtn:XR,deleteBtn:KR,editForm:JR,formGroup:QR,formActions:ZR,saveBtn:e5,cancelBtn:t5,editMetricBtn:r5,bodyPartDetail:a5,bodyPartList:n5,exerciseGroup:s5,exerciseGroupHeader:i5,exerciseGroupName:l5,exerciseGroupCount:o5,exerciseSessions:c5,exerciseSession:u5,sessionDate:f5,sessionSets:h5,moreSessions:d5,chartSection:m5,chartTitle:p5,chartTypeSelector:g5,chartTypeBtn:_5,activeChartType:v5,chartViewToggle:y5,chartViewBtn:x5,activeChartView:w5},S5=["Overview","Scan","History","Metrics","Trends"],tv=[{label:"This Week",type:"week"},{label:"This Month",type:"month"},{label:"Last 90 Days",type:"days",days:90},{label:"This Year",type:"year"},{label:"All Time",type:"all"}],Hd=["Sessions","Total Reps","Total Sets"];function b5(){const r=tn(),{user:e}=La(),[t,n]=q.useState(0),[i,o]=q.useState(!0),[c,h]=q.useState(1),[d,m]=q.useState(0),[_,v]=q.useState("frequency"),[x,y]=q.useState("weight"),[b,w]=q.useState("frequency"),[S,j]=q.useState({bodyParts:{},bodyPartReps:{},bodyPartSets:{},detailedStats:{},streak:0,metrics:[],scheduled:[],frequency:{},topExercises:[],totalWorkouts:0,workouts:[],readiness:null,fitbitData:null,nutrition:null,nutritionHistory:[],goals:[]}),[E,N]=q.useState([]),[B,X]=q.useState(null),[Y,R]=q.useState(null),[J,Z]=q.useState(null),[fe,ge]=q.useState(null),[H,Ee]=q.useState(null),[Ve,Te]=q.useState(!1);q.useEffect(()=>{async function he(){if(e){o(!0);try{const[te,Xe,We,Me,ze,rt,Rt,ut,Ct,Qt,hr,Et,An]=await Promise.all([m0(e.id),zo(e.id),Ho(e.id),d0(e.id),p0(e.id,30),g0(e.id),Xn(e.id),No(),_0(e.id),G0(e.id),ec(e.id),Promise.resolve(Dt()),wl(e.id)]);let Rr=null;if(hr?.find(Nt=>Nt.provider==="fitbit"))try{if(Rr=await js(e.id,Et),!Rr){const{getYesterdayEST:Nt}=await br(async()=>{const{getYesterdayEST:Ia}=await Promise.resolve().then(()=>xl);return{getYesterdayEST:Ia}},void 0);Rr=await js(e.id,Nt())}Rr||(Rr=await F0(e.id))}catch{}let Fa=null,ra=[];try{Fa=await dx(e.id,Et);const Nt=new Date(Date.now()-2160*60*60*1e3).toISOString().split("T")[0];ra=await mx(e.id,Nt,Et)}catch{}ne();const lr={},mr={};Rt.forEach(Nt=>{Nt.workout_exercises?.forEach(Ia=>{const ya=Ia.body_part||"Other",Ua=Ia.workout_sets||[];mr[ya]=(mr[ya]||0)+Ua.length,Ua.forEach(Fe=>{Fe.reps&&(lr[ya]=(lr[ya]||0)+Number(Fe.reps))})})}),j({bodyParts:te,bodyPartReps:lr,bodyPartSets:mr,detailedStats:Ct,streak:Xe,metrics:We,scheduled:Me,frequency:ze,topExercises:rt,totalWorkouts:Rt.length,workouts:Rt,readiness:Qt,fitbitData:Rr,nutrition:Fa,nutritionHistory:ra,goals:An||[]}),N(ut)}catch(te){vr("Error loading analytics",te)}finally{o(!1)}}}async function ne(){if(e){Te(!0);try{const te=await ID(e.id);Ee(te)}catch{}finally{Te(!1)}}}he();const _e=()=>{!document.hidden&&e&&W()};return document.addEventListener("visibilitychange",_e),()=>{document.removeEventListener("visibilitychange",_e)}},[e]);const W=async()=>{if(e){o(!0);try{const[he,ne,_e,te,Xe,We,Me,ze]=await Promise.all([m0(e.id),zo(e.id),Ho(e.id),d0(e.id),p0(e.id,30),g0(e.id),Xn(e.id),_0(e.id)]),rt={},Rt={};Me.forEach(ut=>{ut.workout_exercises?.forEach(Ct=>{const Qt=Ct.body_part||"Other",hr=Ct.workout_sets||[];Rt[Qt]=(Rt[Qt]||0)+hr.length,hr.forEach(Et=>{Et.reps&&(rt[Qt]=(rt[Qt]||0)+Number(Et.reps))})})}),j({bodyParts:he,bodyPartReps:rt,bodyPartSets:Rt,detailedStats:ze,streak:ne,metrics:_e,scheduled:te,frequency:Xe,topExercises:We,totalWorkouts:Me.length,workouts:Me})}catch(he){vr("Error refreshing data",he)}finally{o(!1)}}},xe=async he=>{if(confirm("Are you sure you want to delete this workout?"))try{await H0(he),await W(),X(null)}catch(ne){vr("Error deleting workout",ne),alert("Failed to delete workout")}},Ie=()=>{Z(B)},ee=async()=>{if(!(!J||!e))try{const he={date:J.date,duration:J.duration,templateName:J.template_name||null,perceivedEffort:J.perceived_effort||null,moodAfter:J.mood_after||null,notes:J.notes||null,dayOfWeek:J.day_of_week??null,exercises:J.workout_exercises.map(ne=>({name:ne.exercise_name,category:ne.category,bodyPart:ne.body_part,equipment:ne.equipment||"",sets:(ne.workout_sets||[]).map(_e=>({weight:_e.weight,reps:_e.reps,time:_e.time,speed:_e.speed,incline:_e.incline}))}))};await ox(J.id,he,e.id),await W(),Z(null),X(null)}catch(he){vr("Error updating workout",he),alert("Failed to update workout")}},je=he=>{ge({...he})},I=async()=>{if(!(!fe||!e))try{await z0(e.id,fe.date,{sleepScore:fe.sleep_score,sleepTime:fe.sleep_time,hrv:fe.hrv,steps:fe.steps,caloriesBurned:fe.calories,weight:fe.weight}),await W(),ge(null)}catch(he){vr("Error updating metric",he),alert("Failed to update metric")}},C=he=>{const ne={};return S.workouts.forEach(_e=>{_e.workout_exercises?.forEach(te=>{te.body_part===he&&(ne[te.exercise_name]||(ne[te.exercise_name]=[]),ne[te.exercise_name].push({date:_e.date,sets:te.workout_sets||[]}))})}),Object.entries(ne).map(([_e,te])=>({name:_e,sessions:te.sort((Xe,We)=>new Date(We.date)-new Date(Xe.date))})).sort((_e,te)=>te.sessions.length-_e.sessions.length)},P=q.useMemo(()=>{const he=tv[c];let ne=null;if(he.type!=="all")if(he.type==="week"){const Me=new Date,ze=Me.getDay(),rt=new Date(Me);rt.setDate(Me.getDate()-(ze===0?6:ze-1)),rt.setHours(0,0,0,0),ne=rt.toISOString().split("T")[0]}else if(he.type==="month"){const Me=new Date;ne=new Date(Me.getFullYear(),Me.getMonth(),1).toISOString().split("T")[0]}else if(he.type==="year"){const Me=new Date;ne=new Date(Me.getFullYear(),0,1).toISOString().split("T")[0]}else he.type==="days"&&he.days&&(ne=new Date(Date.now()-he.days*864e5).toISOString().split("T")[0]);const _e=ne?S.workouts.filter(Me=>Me.date>=ne):S.workouts,te={},Xe={},We={};return _e.forEach(Me=>{Me.workout_exercises?.forEach(ze=>{const rt=ze.body_part||"Other";te[rt]=(te[rt]||0)+1;const Rt=ze.workout_sets||[];We[rt]=(We[rt]||0)+Rt.length,Rt.forEach(ut=>{ut.reps&&(Xe[rt]=(Xe[rt]||0)+Number(ut.reps))})})}),{...S,bodyParts:te,bodyPartReps:Xe,bodyPartSets:We}},[S,c]),U=()=>{switch(d){case 0:return P.bodyParts;case 1:return P.bodyPartReps;case 2:return P.bodyPartSets;default:return P.bodyParts}},G=()=>f.jsxs("div",{className:z.overviewContainer,children:[(H||Ve)&&f.jsxs("div",{className:z.mlInsightsCard,children:[f.jsx("h3",{className:z.mlInsightsTitle,children:"AI Health Insights"}),Ve?f.jsx("p",{className:z.mlLoadingText,children:"Analyzing your complete health picture..."}):H?.insights&&Array.isArray(H.insights)?f.jsx("ul",{className:z.mlInsightsList,children:H.insights.slice(0,5).map((he,ne)=>f.jsx("li",{className:z.mlInsightItem,children:he.message||he.text||he},ne))}):H?f.jsx("p",{className:z.mlInsightText,children:typeof H=="string"?H:H.message||"AI analysis available"}):null]}),S.readiness&&f.jsxs("div",{className:`${z.readinessCard} ${z[`readiness${S.readiness.zone}`]}`,children:[f.jsxs("div",{className:z.readinessHeader,children:[f.jsx("h2",{children:"Honest Readiness"}),f.jsx("span",{className:z.readinessZone,children:S.readiness.zone.toUpperCase()})]}),f.jsxs("div",{className:z.readinessScore,children:[f.jsx("span",{className:z.readinessNumber,children:S.readiness.score}),f.jsx("span",{className:z.readinessLabel,children:"/ 100"})]})]}),f.jsxs("div",{className:z.combinedStatsGrid,children:[f.jsxs("div",{className:z.statCard,children:[f.jsx("div",{className:z.statValue,children:S.totalWorkouts}),f.jsx("div",{className:z.statLabel,children:"Workouts"})]}),S.nutrition&&f.jsxs("div",{className:z.statCard,children:[f.jsx("div",{className:z.statValue,children:S.nutrition.calories||0}),f.jsx("div",{className:z.statLabel,children:"Calories Today"})]}),S.fitbitData?.steps!=null&&f.jsxs("div",{className:z.statCard,children:[f.jsx("div",{className:z.statValue,children:Number(S.fitbitData.steps).toLocaleString()}),f.jsx("div",{className:z.statLabel,children:"Steps"})]}),S.fitbitData?.hrv!=null&&f.jsxs("div",{className:z.statCard,children:[f.jsx("div",{className:z.statValue,children:Math.round(Number(S.fitbitData.hrv))}),f.jsx("div",{className:z.statLabel,children:"HRV (ms)"})]}),S.fitbitData?.sleep_efficiency!=null&&f.jsxs("div",{className:z.statCard,children:[f.jsxs("div",{className:z.statValue,children:[Math.round(Number(S.fitbitData.sleep_efficiency)),"%"]}),f.jsx("div",{className:z.statLabel,children:"Sleep Quality"})]}),S.streak>0&&f.jsxs("div",{className:z.statCard,children:[f.jsx("div",{className:z.statValue,children:S.streak}),f.jsx("div",{className:z.statLabel,children:"Day Streak"})]})]}),S.nutrition&&S.nutrition.calories>0&&f.jsxs("div",{className:z.nutritionCard,children:[f.jsx("h3",{children:"Today's Nutrition"}),f.jsxs("div",{className:z.nutritionStats,children:[f.jsxs("div",{className:z.nutritionItem,children:[f.jsx("span",{className:z.nutritionLabel,children:"Calories"}),f.jsx("span",{className:z.nutritionValue,children:S.nutrition.calories})]}),S.nutrition.macros&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:z.nutritionItem,children:[f.jsx("span",{className:z.nutritionLabel,children:"Protein"}),f.jsxs("span",{className:z.nutritionValue,children:[Math.round(S.nutrition.macros.protein||0),"g"]})]}),f.jsxs("div",{className:z.nutritionItem,children:[f.jsx("span",{className:z.nutritionLabel,children:"Carbs"}),f.jsxs("span",{className:z.nutritionValue,children:[Math.round(S.nutrition.macros.carbs||0),"g"]})]}),f.jsxs("div",{className:z.nutritionItem,children:[f.jsx("span",{className:z.nutritionLabel,children:"Fat"}),f.jsxs("span",{className:z.nutritionValue,children:[Math.round(S.nutrition.macros.fat||0),"g"]})]})]})]})]}),S.goals&&S.goals.length>0&&f.jsxs("div",{className:z.goalsCard,children:[f.jsxs("div",{className:z.goalsHeader,children:[f.jsx("h3",{children:"Goals Progress"}),f.jsx("button",{className:z.linkBtn,onClick:()=>r("/goals"),children:"View All "})]}),f.jsx("div",{className:z.goalsList,children:S.goals.slice(0,5).map(he=>{const ne=he.target_value>0?Math.min(100,he.current_value/he.target_value*100):0;return f.jsxs("div",{className:z.goalItem,children:[f.jsxs("div",{className:z.goalInfo,children:[f.jsx("span",{className:z.goalName,children:he.custom_name||he.type}),f.jsxs("span",{className:z.goalProgress,children:[Math.round(ne),"%"]})]}),f.jsx("div",{className:z.goalBar,children:f.jsx("div",{className:z.goalBarFill,style:{width:`${ne}%`}})}),f.jsxs("div",{className:z.goalValues,children:[he.current_value," / ",he.target_value," ",he.unit]})]},he.id)})})]}),S.fitbitData&&f.jsxs("div",{className:z.fitbitSummaryCard,children:[f.jsx("h3",{children:"Health Metrics"}),f.jsxs("div",{className:z.fitbitSummaryGrid,children:[S.fitbitData.steps!=null&&f.jsxs("div",{className:z.fitbitSummaryItem,children:[f.jsx("span",{className:z.fitbitSummaryLabel,children:"Steps"}),f.jsx("span",{className:z.fitbitSummaryValue,children:Number(S.fitbitData.steps).toLocaleString()})]}),S.fitbitData.calories!=null&&f.jsxs("div",{className:z.fitbitSummaryItem,children:[f.jsx("span",{className:z.fitbitSummaryLabel,children:"Calories"}),f.jsx("span",{className:z.fitbitSummaryValue,children:Number(S.fitbitData.calories).toLocaleString()})]}),S.fitbitData.hrv!=null&&f.jsxs("div",{className:z.fitbitSummaryItem,children:[f.jsx("span",{className:z.fitbitSummaryLabel,children:"HRV"}),f.jsxs("span",{className:z.fitbitSummaryValue,children:[Math.round(Number(S.fitbitData.hrv))," ms"]})]}),S.fitbitData.resting_heart_rate!=null&&f.jsxs("div",{className:z.fitbitSummaryItem,children:[f.jsx("span",{className:z.fitbitSummaryLabel,children:"Resting HR"}),f.jsxs("span",{className:z.fitbitSummaryValue,children:[Math.round(Number(S.fitbitData.resting_heart_rate))," bpm"]})]}),S.fitbitData.sleep_duration!=null&&f.jsxs("div",{className:z.fitbitSummaryItem,children:[f.jsx("span",{className:z.fitbitSummaryLabel,children:"Sleep"}),f.jsxs("span",{className:z.fitbitSummaryValue,children:[Math.floor(Number(S.fitbitData.sleep_duration)/60),"h ",Math.round(Number(S.fitbitData.sleep_duration)%60),"m"]})]}),S.fitbitData.sleep_efficiency!=null&&f.jsxs("div",{className:z.fitbitSummaryItem,children:[f.jsx("span",{className:z.fitbitSummaryLabel,children:"Sleep Efficiency"}),f.jsxs("span",{className:z.fitbitSummaryValue,children:[Math.round(Number(S.fitbitData.sleep_efficiency)),"%"]})]})]})]}),S.nutritionHistory&&S.nutritionHistory.length>0&&(()=>{const he=S.nutritionHistory.slice(-7),ne=Object.fromEntries(he.map(te=>{const Xe=new Date(te.date+"T12:00:00");return[`${Xe.getMonth()+1}/${Xe.getDate()}`,Number(te.calories)||0]})),_e=he.map(te=>{const Xe=new Date(te.date+"T12:00:00");return`${Xe.getMonth()+1}/${Xe.getDate()}`});return f.jsxs("div",{className:z.trendsCard,children:[f.jsx("h3",{children:"Weekly Nutrition Trend"}),f.jsx(ln,{data:ne,labels:_e,height:150,color:"var(--text-primary)"})]})})()]}),ie=()=>{const he=U();return f.jsxs("div",{className:z.heatmapContainer,children:[(H||Ve)&&f.jsxs("div",{className:z.mlInsightsCard,children:[f.jsx("h3",{className:z.mlInsightsTitle,children:"AI Insights"}),Ve?f.jsx("p",{className:z.mlLoadingText,children:"Analyzing your data..."}):H?.insights&&Array.isArray(H.insights)?f.jsx("ul",{className:z.mlInsightsList,children:H.insights.slice(0,5).map((ne,_e)=>f.jsx("li",{className:z.mlInsightItem,children:ne.message||ne.text||ne},_e))}):H?f.jsx("p",{className:z.mlInsightText,children:typeof H=="string"?H:H.message||"AI analysis available"}):null]}),f.jsxs("div",{className:z.filterRow,children:[f.jsx("span",{className:z.filterLabel,children:"Time Period:"}),f.jsx("div",{className:z.filterButtons,children:tv.map((ne,_e)=>f.jsx("button",{className:`${z.filterBtn} ${c===_e?z.activeFilter:""}`,onClick:()=>h(_e),children:ne.label},ne.label))})]}),f.jsxs("div",{className:z.filterRow,children:[f.jsx("span",{className:z.filterLabel,children:"Show:"}),f.jsx("div",{className:z.filterButtons,children:Hd.map((ne,_e)=>f.jsx("button",{className:`${z.filterBtn} ${d===_e?z.activeFilter:""}`,onClick:()=>m(_e),children:ne},ne))})]}),f.jsxs("h3",{className:z.sectionTitle,children:[Hd[d]," by Body Part"]}),f.jsx(LD,{data:he,metric:Hd[d],detailedStats:S.detailedStats,onDrillDown:ne=>R(ne)})]})},ve=q.useMemo(()=>{const he=[...S.workouts].sort((_e,te)=>new Date(_e.date)-new Date(te.date)),ne={};return he.forEach(_e=>{const te=new Date(_e.date+"T12:00:00"),Xe=new Date(te);Xe.setDate(te.getDate()-te.getDay());const We=Xe.toISOString().split("T")[0];ne[We]=(ne[We]||0)+1}),ne},[S.workouts]),Le=q.useMemo(()=>{const he=Object.entries(S.frequency).sort((ne,_e)=>ne[0].localeCompare(_e[0]));return Object.fromEntries(he.slice(-30))},[S.frequency]),Ce=q.useMemo(()=>Object.fromEntries(S.topExercises.slice(0,10)),[S.topExercises]),De=q.useMemo(()=>{const he={};return S.workouts.forEach(ne=>{const _e=new Date(ne.date+"T12:00:00"),te=new Date(_e);te.setDate(_e.getDate()-_e.getDay());const Xe=te.toISOString().split("T")[0],We=ne.workout_exercises?.reduce((Me,ze)=>Me+(ze.workout_sets?.length||0),0)||0;he[Xe]=(he[Xe]||0)+We}),he},[S.workouts]),gt=()=>{const he=[...S.workouts].sort((Me,ze)=>new Date(Me.date)-new Date(ze.date)),ne=he.slice(-14),_e=ne.map(Me=>Me.duration||0),te=ne.map(Me=>{const ze=new Date(Me.date+"T12:00:00");return`${ze.getMonth()+1}/${ze.getDate()}`}),Xe=ne.map(Me=>Me.date),We=Object.fromEntries(ne.map(Me=>[Me.date,Me]));return f.jsxs("div",{className:z.historyContainer,children:[f.jsx("h3",{className:z.sectionTitle,children:"Workout History"}),he.length===0?f.jsx("p",{className:z.emptyText,children:"No workouts recorded yet"}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:z.chartTypeSelector,children:[f.jsx("button",{className:`${z.chartTypeBtn} ${_==="frequency"?z.activeChartType:""}`,onClick:()=>v("frequency"),children:"Frequency"}),f.jsx("button",{className:`${z.chartTypeBtn} ${_==="duration"?z.activeChartType:""}`,onClick:()=>v("duration"),children:"Duration"})]}),f.jsxs("div",{className:z.chartSection,children:[_==="frequency"&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Workouts Per Week"}),f.jsx(ln,{data:ve,labels:Object.keys(ve).map(Me=>{const ze=new Date(Me+"T12:00:00");return`${ze.getMonth()+1}/${ze.getDate()}`}),dates:Object.keys(ve),dateData:ve,height:150,color:"#ff2d2d",xAxisLabel:"Week",yAxisLabel:"Workouts"})]}),_==="duration"&&_e.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Workout Duration (Last 14 Days)"}),f.jsx(ln,{data:Object.fromEntries(_e.map((Me,ze)=>[te[ze],Me])),dates:Xe,dateData:We,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"Duration (min)"})]})]}),f.jsx("div",{className:z.historyList,children:he.slice().reverse().map(Me=>f.jsxs("button",{className:z.historyItem,onClick:()=>X(Me),children:[f.jsxs("div",{className:z.historyDate,children:[f.jsx("span",{className:z.historyDay,children:new Date(Me.date+"T12:00:00").toLocaleDateString("en-US",{weekday:"short"})}),f.jsx("span",{className:z.historyDateNum,children:new Date(Me.date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),f.jsxs("div",{className:z.historyInfo,children:[f.jsxs("span",{className:z.historyExercises,children:[Me.workout_exercises?.length||0," exercises"]}),f.jsxs("span",{className:z.historyDuration,children:[Math.floor((Me.duration||0)/60),":",String((Me.duration||0)%60).padStart(2,"0")]})]}),f.jsx("span",{className:z.historyArrow,children:""})]},Me.id))})]})]})},ot=()=>{const he=S.metrics.slice(-30).reverse(),ne=he.filter(Fe=>Fe.weight),_e=ne.map(Fe=>Fe.weight),te=ne.map(Fe=>{const At=new Date(Fe.date+"T12:00:00");return`${At.getMonth()+1}/${At.getDate()}`}),Xe=ne.map(Fe=>Fe.date),We=Object.fromEntries(ne.map(Fe=>[Fe.date,Fe])),Me=he.filter(Fe=>Fe.sleep_score),ze=Me.map(Fe=>Fe.sleep_score),rt=Me.map(Fe=>{const At=new Date(Fe.date+"T12:00:00");return`${At.getMonth()+1}/${At.getDate()}`}),Rt=Me.map(Fe=>Fe.date),ut=Object.fromEntries(Me.map(Fe=>[Fe.date,Fe])),Ct=he.filter(Fe=>Fe.steps),Qt=Ct.map(Fe=>Fe.steps),hr=Ct.map(Fe=>{const At=new Date(Fe.date+"T12:00:00");return`${At.getMonth()+1}/${At.getDate()}`}),Et=Ct.map(Fe=>Fe.date),An=Object.fromEntries(Ct.map(Fe=>[Fe.date,Fe])),Rr=he.filter(Fe=>Fe.hrv),Pa=Rr.map(Fe=>Fe.hrv),Fa=Rr.map(Fe=>{const At=new Date(Fe.date+"T12:00:00");return`${At.getMonth()+1}/${At.getDate()}`}),ra=Rr.map(Fe=>Fe.date),lr=Object.fromEntries(Rr.map(Fe=>[Fe.date,Fe])),mr=he.filter(Fe=>Fe.calories),Nt=mr.map(Fe=>Fe.calories),Ia=mr.map(Fe=>{const At=new Date(Fe.date+"T12:00:00");return`${At.getMonth()+1}/${At.getDate()}`}),ya=mr.map(Fe=>Fe.date),Ua=Object.fromEntries(mr.map(Fe=>[Fe.date,Fe]));return f.jsxs("div",{className:z.metricsContainer,children:[f.jsxs("div",{className:z.streakCard,children:[f.jsx("span",{className:z.streakNumber,children:S.streak}),f.jsx("span",{className:z.streakLabel,children:"Day Streak"})]}),f.jsx("h3",{className:z.sectionTitle,children:"Metrics Trends"}),he.length===0?f.jsx("p",{className:z.emptyText,children:"No metrics recorded yet"}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:z.chartTypeSelector,children:[f.jsx("button",{className:`${z.chartTypeBtn} ${x==="weight"?z.activeChartType:""}`,onClick:()=>y("weight"),disabled:_e.length===0,children:"Weight"}),f.jsx("button",{className:`${z.chartTypeBtn} ${x==="sleep"?z.activeChartType:""}`,onClick:()=>y("sleep"),disabled:ze.length===0,children:"Sleep"}),f.jsx("button",{className:`${z.chartTypeBtn} ${x==="steps"?z.activeChartType:""}`,onClick:()=>y("steps"),disabled:Qt.length===0,children:"Steps"}),f.jsx("button",{className:`${z.chartTypeBtn} ${x==="hrv"?z.activeChartType:""}`,onClick:()=>y("hrv"),disabled:Pa.length===0,children:"HRV"}),f.jsx("button",{className:`${z.chartTypeBtn} ${x==="calories"?z.activeChartType:""}`,onClick:()=>y("calories"),disabled:Nt.length===0,children:"Calories"})]}),f.jsxs("div",{className:z.chartSection,children:[x==="weight"&&_e.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Weight (lbs)"}),f.jsx(ln,{data:Object.fromEntries(_e.map((Fe,At)=>[te[At],Fe])),dates:Xe,dateData:We,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"Weight (lbs)"})]}),x==="sleep"&&ze.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Sleep Score"}),f.jsx(ln,{data:Object.fromEntries(ze.map((Fe,At)=>[rt[At],Fe])),dates:Rt,dateData:ut,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"Score"})]}),x==="steps"&&Qt.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Steps"}),f.jsx(ln,{data:Object.fromEntries(Qt.map((Fe,At)=>[hr[At],Fe])),dates:Et,dateData:An,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"Steps"})]}),x==="hrv"&&Pa.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"HRV (ms)"}),f.jsx(ln,{data:Object.fromEntries(Pa.map((Fe,At)=>[Fa[At],Fe])),dates:ra,dateData:lr,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"HRV (ms)"})]}),x==="calories"&&Nt.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Calories"}),f.jsx(ln,{data:Object.fromEntries(Nt.map((Fe,At)=>[Ia[At],Fe])),dates:ya,dateData:Ua,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"Calories"})]})]}),f.jsx("h3",{className:z.sectionTitle,children:"Recent Metrics"}),f.jsxs("div",{className:z.metricsTable,children:[f.jsxs("div",{className:z.metricsHeader,children:[f.jsx("span",{children:"Date"}),f.jsx("span",{children:"Weight"}),f.jsx("span",{children:"Sleep"}),f.jsx("span",{children:"Steps"}),f.jsx("span",{children:"HRV"}),f.jsx("span",{children:"Calories"}),f.jsx("span",{})]}),he.slice(0,14).map(Fe=>f.jsxs("div",{className:z.metricsRow,children:[f.jsx("span",{children:new Date(Fe.date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}),f.jsx("span",{children:Fe.weight?`${Fe.weight} lbs`:"-"}),f.jsx("span",{children:Fe.sleep_time?`${Fe.sleep_time}h`:Fe.sleep_score?`${Fe.sleep_score}`:"-"}),f.jsx("span",{children:Fe.steps?.toLocaleString()||"-"}),f.jsx("span",{children:Fe.hrv?`${Fe.hrv} ms`:"-"}),f.jsx("span",{children:Fe.calories?.toLocaleString()||"-"}),f.jsx("button",{className:z.editMetricBtn,onClick:()=>je(Fe),children:"Edit"})]},Fe.date))]})]})]})},rr=()=>{const he=new Date,ne=new Date(he.getTime()-720*60*60*1e3),_e=S.workouts.filter(ze=>new Date(ze.date+"T12:00:00")>=ne).length,te=_e>0?Math.round(_e/30*7*10)/10:0,Xe=S.workouts.filter(ze=>new Date(ze.date+"T12:00:00")>=ne).reduce((ze,rt)=>ze+(rt.workout_exercises?.reduce((Rt,ut)=>Rt+(ut.workout_sets?.length||0),0)||0),0),We=S.workouts.filter(ze=>new Date(ze.date+"T12:00:00")>=ne&&ze.duration),Me=We.length>0?Math.round(We.reduce((ze,rt)=>ze+(rt.duration||0),0)/We.length):0;return f.jsxs("div",{className:z.trendsContainer,children:[f.jsxs("div",{className:z.statsGrid,children:[f.jsxs("div",{className:z.statCard,children:[f.jsx("span",{className:z.statNumber,children:S.totalWorkouts}),f.jsx("span",{className:z.statLabel,children:"Total Workouts"})]}),f.jsxs("div",{className:z.statCard,children:[f.jsx("span",{className:z.statNumber,children:_e}),f.jsx("span",{className:z.statLabel,children:"Last 30 Days"})]}),f.jsxs("div",{className:z.statCard,children:[f.jsx("span",{className:z.statNumber,children:te}),f.jsx("span",{className:z.statLabel,children:"Avg/Week"})]}),Xe>0&&f.jsxs("div",{className:z.statCard,children:[f.jsx("span",{className:z.statNumber,children:Xe}),f.jsx("span",{className:z.statLabel,children:"Total Sets (30d)"})]}),Me>0&&f.jsxs("div",{className:z.statCard,children:[f.jsxs("span",{className:z.statNumber,children:[Math.floor(Me/60),":",String(Me%60).padStart(2,"0")]}),f.jsx("span",{className:z.statLabel,children:"Avg Duration"})]})]}),f.jsxs("div",{className:z.chartTypeSelector,children:[f.jsx("button",{className:`${z.chartTypeBtn} ${b==="frequency"?z.activeChartType:""}`,onClick:()=>w("frequency"),disabled:Object.keys(Le).length===0,children:"Frequency"}),f.jsx("button",{className:`${z.chartTypeBtn} ${b==="volume"?z.activeChartType:""}`,onClick:()=>w("volume"),disabled:Object.keys(De).length===0,children:"Volume"}),f.jsx("button",{className:`${z.chartTypeBtn} ${b==="exercises"?z.activeChartType:""}`,onClick:()=>w("exercises"),disabled:Object.keys(Ce).length===0,children:"Exercises"})]}),f.jsxs("div",{className:z.chartSection,children:[b==="frequency"&&Object.keys(Le).length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Workout Frequency (Last 30 Days)"}),f.jsx(ln,{data:Le,labels:Object.keys(Le).map(ze=>{const rt=new Date(ze+"T12:00:00");return`${rt.getMonth()+1}/${rt.getDate()}`}),dates:Object.keys(Le),dateData:Le,height:150,color:"#ff2d2d",xAxisLabel:"Date",yAxisLabel:"Workouts"})]}),b==="volume"&&Object.keys(De).length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Training Volume (Sets Per Week)"}),f.jsx(ln,{data:De,labels:Object.keys(De).map(ze=>{const rt=new Date(ze+"T12:00:00");return`${rt.getMonth()+1}/${rt.getDate()}`}),dates:Object.keys(De),dateData:De,height:150,color:"#ff2d2d",xAxisLabel:"Week",yAxisLabel:"Sets"})]}),b==="exercises"&&Object.keys(Ce).length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h4",{className:z.chartTitle,children:"Top Exercises"}),f.jsx(ln,{data:Ce,labels:Object.keys(Ce),height:150,color:"#ff2d2d",xAxisLabel:"Exercise",yAxisLabel:"Count"})]})]}),f.jsx("h3",{className:z.sectionTitle,children:"Top Exercises List"}),S.topExercises.length===0?f.jsx("p",{className:z.emptyText,children:"Complete workouts to see your top exercises"}):f.jsx("div",{className:z.topExercises,children:S.topExercises.map(([ze,rt],Rt)=>f.jsxs("div",{className:z.exerciseRow,children:[f.jsx("span",{className:z.exerciseRank,children:Rt+1}),f.jsx("span",{className:z.exerciseName,children:ze}),f.jsxs("span",{className:z.exerciseCount,children:[rt,"x"]})]},ze))})]})};return f.jsxs("div",{className:z.container,children:[f.jsxs("header",{className:z.header,children:[f.jsx("button",{className:z.backBtn,onClick:()=>r("/"),children:" Back"}),f.jsx("h1",{className:z.title,children:"Analytics"})]}),f.jsx("div",{className:z.tabs,children:S5.map((he,ne)=>f.jsx("button",{className:`${z.tab} ${t===ne?z.activeTab:""}`,onClick:()=>n(ne),children:he},he))}),f.jsx("div",{className:z.content,children:i?f.jsx("div",{className:z.loading,children:"Loading..."}):f.jsxs(f.Fragment,{children:[t===0&&G(),t===1&&ie(),t===2&&gt(),t===3&&ot(),t===4&&rr()]})}),B&&f.jsx("div",{className:z.overlay,onClick:()=>X(null),children:f.jsxs("div",{className:z.modal,onClick:he=>he.stopPropagation(),children:[f.jsxs("div",{className:z.modalHeader,children:[f.jsx("h2",{children:new Date(B.date+"T12:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),f.jsx("button",{onClick:()=>X(null),children:""})]}),f.jsxs("div",{className:z.workoutDetail,children:[f.jsxs("div",{className:z.workoutMeta,children:[f.jsxs("span",{className:z.workoutDuration,children:[Math.floor((B.duration||0)/60),":",String((B.duration||0)%60).padStart(2,"0")]}),B.perceived_effort&&f.jsxs("span",{className:z.workoutRpe,children:["RPE: ",B.perceived_effort]})]}),f.jsx("div",{className:z.exerciseList,children:(B.workout_exercises||[]).map((he,ne)=>f.jsxs("div",{className:z.exerciseItem,children:[f.jsxs("div",{className:z.exerciseHeader,children:[f.jsx("span",{className:z.exerciseName,children:he.exercise_name}),f.jsx("span",{className:z.exerciseBodyPart,children:he.body_part})]}),f.jsx("div",{className:z.exerciseSets,children:(he.workout_sets||[]).map((_e,te)=>f.jsx("span",{className:z.setChip,children:_e.weight?`${_e.reps}${_e.weight} lbs`:_e.time?`${_e.time}`:"-"},te))})]},ne))}),B.notes&&f.jsxs("div",{className:z.workoutNotes,children:[f.jsx("strong",{children:"Notes:"})," ",B.notes]}),f.jsxs("div",{className:z.workoutActions,children:[f.jsx("button",{className:z.editBtn,onClick:Ie,children:"Edit Workout"}),f.jsx("button",{className:z.deleteBtn,onClick:()=>xe(B.id),children:"Delete Workout"})]})]})]})}),J&&f.jsx("div",{className:z.overlay,onClick:()=>Z(null),children:f.jsxs("div",{className:z.modal,onClick:he=>he.stopPropagation(),children:[f.jsxs("div",{className:z.modalHeader,children:[f.jsx("h2",{children:"Edit Workout"}),f.jsx("button",{onClick:()=>Z(null),children:""})]}),f.jsxs("div",{className:z.editForm,children:[f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Date"}),f.jsx("input",{type:"date",value:J.date,onChange:he=>Z({...J,date:he.target.value})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Duration (seconds)"}),f.jsx("input",{type:"number",value:J.duration||0,onChange:he=>Z({...J,duration:parseInt(he.target.value)||0})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"RPE"}),f.jsx("input",{type:"number",min:"1",max:"10",value:J.perceived_effort||"",onChange:he=>Z({...J,perceived_effort:parseInt(he.target.value)||null})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Notes"}),f.jsx("textarea",{value:J.notes||"",onChange:he=>Z({...J,notes:he.target.value}),rows:3})]}),f.jsxs("div",{className:z.formActions,children:[f.jsx("button",{className:z.saveBtn,onClick:ee,children:"Save"}),f.jsx("button",{className:z.cancelBtn,onClick:()=>Z(null),children:"Cancel"})]})]})]})}),fe&&f.jsx("div",{className:z.overlay,onClick:()=>ge(null),children:f.jsxs("div",{className:z.modal,onClick:he=>he.stopPropagation(),children:[f.jsxs("div",{className:z.modalHeader,children:[f.jsx("h2",{children:"Edit Metric"}),f.jsx("button",{onClick:()=>ge(null),children:""})]}),f.jsxs("div",{className:z.editForm,children:[f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Date"}),f.jsx("input",{type:"date",value:fe.date,onChange:he=>ge({...fe,date:he.target.value})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Weight (lbs)"}),f.jsx("input",{type:"number",value:fe.weight||"",onChange:he=>ge({...fe,weight:parseFloat(he.target.value)||null})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Sleep Time (hours)"}),f.jsx("input",{type:"text",value:fe.sleep_time||"",onChange:he=>ge({...fe,sleep_time:he.target.value}),placeholder:"7h 30m"})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Sleep Score"}),f.jsx("input",{type:"number",min:"0",max:"100",value:fe.sleep_score||"",onChange:he=>ge({...fe,sleep_score:parseInt(he.target.value)||null})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"HRV (ms)"}),f.jsx("input",{type:"number",value:fe.hrv||"",onChange:he=>ge({...fe,hrv:parseInt(he.target.value)||null})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Steps"}),f.jsx("input",{type:"number",value:fe.steps||"",onChange:he=>ge({...fe,steps:parseInt(he.target.value)||null})})]}),f.jsxs("div",{className:z.formGroup,children:[f.jsx("label",{children:"Calories"}),f.jsx("input",{type:"number",value:fe.calories||"",onChange:he=>ge({...fe,calories:parseInt(he.target.value)||null})})]}),f.jsxs("div",{className:z.formActions,children:[f.jsx("button",{className:z.saveBtn,onClick:I,children:"Save"}),f.jsx("button",{className:z.cancelBtn,onClick:()=>ge(null),children:"Cancel"})]})]})]})}),Y&&f.jsx("div",{className:z.overlay,onClick:()=>R(null),children:f.jsxs("div",{className:z.modal,onClick:he=>he.stopPropagation(),children:[f.jsxs("div",{className:z.modalHeader,children:[f.jsxs("h2",{children:[Y," History"]}),f.jsx("button",{onClick:()=>R(null),children:""})]}),f.jsx("div",{className:z.bodyPartDetail,children:C(Y).length===0?f.jsxs("p",{className:z.emptyText,children:["No workouts for ",Y]}):f.jsx("div",{className:z.bodyPartList,children:C(Y).map(he=>f.jsxs("div",{className:z.exerciseGroup,children:[f.jsxs("div",{className:z.exerciseGroupHeader,children:[f.jsx("span",{className:z.exerciseGroupName,children:he.name}),f.jsxs("span",{className:z.exerciseGroupCount,children:[he.sessions.length,"x"]})]}),f.jsxs("div",{className:z.exerciseSessions,children:[he.sessions.slice(0,5).map((ne,_e)=>f.jsxs("div",{className:z.exerciseSession,children:[f.jsx("span",{className:z.sessionDate,children:new Date(ne.date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}),f.jsx("div",{className:z.sessionSets,children:ne.sets.map((te,Xe)=>f.jsx("span",{className:z.setChip,children:te.weight?`${te.reps}${te.weight} lbs`:te.time?`${te.time}`:"-"},Xe))})]},_e)),he.sessions.length>5&&f.jsxs("span",{className:z.moreSessions,children:["+",he.sessions.length-5," more sessions"]})]})]},he.name))})})]})})]})}const T5="_container_1e1bu_1",E5="_header_1e1bu_19",A5="_backBtn_1e1bu_33",C5="_title_1e1bu_79",N5="_content_1e1bu_99",k5="_categoryTabs_1e1bu_115",j5="_categoryTab_1e1bu_115",O5="_active_1e1bu_163",D5="_section_1e1bu_175",R5="_sectionHeader_1e1bu_187",B5="_sectionTitle_1e1bu_199",M5="_newGoalBtn_1e1bu_213",L5="_goalsList_1e1bu_235",P5="_goalCard_1e1bu_247",F5="_goalHeader_1e1bu_271",I5="_goalName_1e1bu_285",U5="_goalCategory_1e1bu_299",H5="_goalActions_1e1bu_315",z5="_archiveBtn_1e1bu_325",$5="_deleteBtn_1e1bu_327",q5="_goalProgress_1e1bu_347",G5="_progressBar_1e1bu_355",V5="_progressFill_1e1bu_373",W5="_progressText_1e1bu_385",Y5="_goalDescription_1e1bu_395",X5="_goalDates_1e1bu_407",K5="_pastGoalCard_1e1bu_421",J5="_pastGoalName_1e1bu_439",Q5="_pastGoalStatus_1e1bu_447",Z5="_analyzeBtn_1e1bu_457",e8="_analysisResult_1e1bu_491",t8="_emptyText_1e1bu_527",r8="_overlay_1e1bu_539",a8="_modal_1e1bu_567",n8="_modalHeader_1e1bu_587",s8="_modalContent_1e1bu_629",i8="_formGroup_1e1bu_643",l8="_modalActions_1e1bu_689",o8="_cancelBtn_1e1bu_701",c8="_saveBtn_1e1bu_703",u8="_loading_1e1bu_745",Ke={container:T5,header:E5,backBtn:A5,title:C5,content:N5,categoryTabs:k5,categoryTab:j5,active:O5,section:D5,sectionHeader:R5,sectionTitle:B5,newGoalBtn:M5,goalsList:L5,goalCard:P5,goalHeader:F5,goalName:I5,goalCategory:U5,goalActions:H5,archiveBtn:z5,deleteBtn:$5,goalProgress:q5,progressBar:G5,progressFill:V5,progressText:W5,goalDescription:Y5,goalDates:X5,pastGoalCard:K5,pastGoalName:J5,pastGoalStatus:Q5,analyzeBtn:Z5,analysisResult:e8,emptyText:t8,overlay:r8,modal:a8,modalHeader:n8,modalContent:s8,formGroup:i8,modalActions:l8,cancelBtn:o8,saveBtn:c8,loading:u8},f8=["fitness","health","nutrition"],h8=[{type:"workouts_per_week",label:"Workouts per Week",unit:"workouts"},{type:"total_volume",label:"Total Volume",unit:"lbs"},{type:"body_weight",label:"Body Weight",unit:"lbs"},{type:"body_fat",label:"Body Fat %",unit:"%"}],d8=[{type:"steps",label:"Daily Steps",unit:"steps"},{type:"sleep_hours",label:"Sleep Hours",unit:"hours"},{type:"hrv",label:"HRV",unit:"ms"},{type:"calories_burned",label:"Calories Burned",unit:"calories"}],m8=[{type:"calories",label:"Daily Calories",unit:"calories"},{type:"protein",label:"Daily Protein",unit:"g"},{type:"carbs",label:"Daily Carbs",unit:"g"},{type:"fat",label:"Daily Fat",unit:"g"}];function p8(){const r=tn(),{user:e}=La(),[t,n]=q.useState("fitness"),[i,o]=q.useState({fitness:[],health:[],nutrition:[]}),[c,h]=q.useState([]),[d,m]=q.useState([]),[_,v]=q.useState(!1),[x,y]=q.useState(!1),[b,w]=q.useState(!1),[S,j]=q.useState(null),[E,N]=q.useState({category:"fitness",type:"",customName:"",targetValue:"",unit:"",startDate:Dt(),endDate:"",description:""}),[B,X]=q.useState(!0);q.useEffect(()=>{e&&Y()},[e]);const Y=async()=>{if(e){X(!0);try{const[H,Ee]=await Promise.all([wl(e.id),cx(e.id,{status:"archived"})]),Ve={fitness:[],health:[],nutrition:[]};H.forEach(Te=>{Ve[Te.category]&&Ve[Te.category].push(Te)}),o(Ve),h(H),m(Ee)}catch(H){console.error("Error loading goals",H)}finally{X(!1)}}},R=H=>{switch(H){case"fitness":return h8;case"health":return d8;case"nutrition":return m8;default:return[]}},J=async()=>{if(e){if(!E.type){alert("Please select a goal type");return}if(!E.targetValue){alert("Please enter a target value");return}try{const H={category:E.category,type:E.category==="custom"?"custom":E.type,customName:E.category==="custom"?E.customName:null,targetValue:Number(E.targetValue),unit:E.unit||R(E.category).find(Ee=>Ee.type===E.type)?.unit||"",startDate:E.startDate,endDate:E.endDate||null,description:E.description,status:"active"};await bA(e.id,H),await Y(),v(!1),N({category:"fitness",type:"",customName:"",targetValue:"",unit:"",startDate:Dt(),endDate:"",description:""})}catch{alert("Failed to create goal. Please try again.")}}},Z=async()=>{if(e){w(!0),j(null);try{const Ee=(await wl(e.id)).map(Te=>({category:Te.category,type:Te.type||Te.custom_name,target:Te.target_value,current:Te.current_value,unit:Te.unit})),Ve=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:`Analyze my fitness goals and give me a score out of 100, plus recommendations. Here are my goals: ${JSON.stringify(Ee)}`}]})});if(Ve.ok){const Te=await Ve.json();j(Te.response||Te.message||"Analysis complete")}else throw new Error("Analysis failed")}catch{alert("Failed to analyze goals. Please try again.")}finally{w(!1)}}},fe=async H=>{if(e&&confirm("Archive this goal?"))try{await TA(e.id,H),await Y()}catch{alert("Failed to archive goal. Please try again.")}},ge=async H=>{if(e&&confirm("Delete this goal permanently?"))try{await EA(e.id,H),await Y()}catch{alert("Failed to delete goal. Please try again.")}};return B?f.jsx("div",{className:Ke.container,children:f.jsx("div",{className:Ke.loading,children:"Loading goals..."})}):f.jsxs("div",{className:Ke.container,children:[f.jsxs("header",{className:Ke.header,children:[f.jsx("button",{className:Ke.backBtn,onClick:()=>r("/"),children:" Back"}),f.jsx("h1",{className:Ke.title,children:"Goals"})]}),f.jsxs("div",{className:Ke.content,children:[f.jsxs("section",{className:Ke.section,children:[f.jsxs("div",{className:Ke.sectionHeader,children:[f.jsx("h2",{className:Ke.sectionTitle,children:"My Goals"}),f.jsx("button",{className:Ke.newGoalBtn,onClick:()=>{N({...E,category:"fitness"}),v(!0)},children:"+ New Goal"})]}),f.jsx("div",{className:Ke.goalsList,children:c.length===0?f.jsx("p",{className:Ke.emptyText,children:"No goals yet. Create your first goal!"}):c.map(H=>{const Ee=H.target_value>0?Math.min(100,H.current_value/H.target_value*100):0;return f.jsxs("div",{className:Ke.goalCard,children:[f.jsxs("div",{className:Ke.goalHeader,children:[f.jsxs("div",{children:[f.jsx("h3",{className:Ke.goalName,children:H.custom_name||R(H.category).find(Ve=>Ve.type===H.type)?.label||H.type}),f.jsx("span",{className:Ke.goalCategory,children:H.category.charAt(0).toUpperCase()+H.category.slice(1)})]}),f.jsxs("div",{className:Ke.goalActions,children:[f.jsx("button",{className:Ke.archiveBtn,onClick:()=>fe(H.id),children:"Archive"}),f.jsx("button",{className:Ke.deleteBtn,onClick:()=>ge(H.id),children:"Delete"})]})]}),f.jsxs("div",{className:Ke.goalProgress,children:[f.jsx("div",{className:Ke.progressBar,children:f.jsx("div",{className:Ke.progressFill,style:{width:`${Ee}%`}})}),f.jsxs("div",{className:Ke.progressText,children:[H.current_value," / ",H.target_value," ",H.unit," (",Math.round(Ee),"%)"]})]}),H.description&&f.jsx("p",{className:Ke.goalDescription,children:H.description}),f.jsxs("div",{className:Ke.goalDates,children:[f.jsxs("span",{children:["Start: ",new Date(H.start_date).toLocaleDateString()]}),H.end_date&&f.jsxs("span",{children:["End: ",new Date(H.end_date).toLocaleDateString()]})]})]},H.id)})})]}),f.jsx("div",{className:Ke.categoryTabs,children:f8.map(H=>f.jsx("button",{className:`${Ke.categoryTab} ${t===H?Ke.active:""}`,onClick:()=>n(H),children:H.charAt(0).toUpperCase()+H.slice(1)},H))}),f.jsxs("section",{className:Ke.section,children:[f.jsx("div",{className:Ke.sectionHeader,children:f.jsxs("h2",{className:Ke.sectionTitle,children:[t.charAt(0).toUpperCase()+t.slice(1)," Goals"]})}),f.jsx("div",{className:Ke.goalsList,children:i[t].length===0?f.jsxs("p",{className:Ke.emptyText,children:["No ",t," goals yet"]}):i[t].map(H=>{const Ee=H.target_value>0?Math.min(100,H.current_value/H.target_value*100):0;return f.jsxs("div",{className:Ke.goalCard,children:[f.jsxs("div",{className:Ke.goalHeader,children:[f.jsx("h3",{className:Ke.goalName,children:H.custom_name||R(H.category).find(Ve=>Ve.type===H.type)?.label||H.type}),f.jsxs("div",{className:Ke.goalActions,children:[f.jsx("button",{className:Ke.archiveBtn,onClick:()=>fe(H.id),children:"Archive"}),f.jsx("button",{className:Ke.deleteBtn,onClick:()=>ge(H.id),children:"Delete"})]})]}),f.jsxs("div",{className:Ke.goalProgress,children:[f.jsx("div",{className:Ke.progressBar,children:f.jsx("div",{className:Ke.progressFill,style:{width:`${Ee}%`}})}),f.jsxs("div",{className:Ke.progressText,children:[H.current_value," / ",H.target_value," ",H.unit]})]}),H.description&&f.jsx("p",{className:Ke.goalDescription,children:H.description}),f.jsxs("div",{className:Ke.goalDates,children:[f.jsxs("span",{children:["Start: ",new Date(H.start_date).toLocaleDateString()]}),H.end_date&&f.jsxs("span",{children:["End: ",new Date(H.end_date).toLocaleDateString()]})]})]},H.id)})})]}),d.length>0&&f.jsxs("section",{className:Ke.section,children:[f.jsx("h2",{className:Ke.sectionTitle,children:"Past Goals"}),f.jsx("div",{className:Ke.goalsList,children:d.slice(0,10).map(H=>f.jsxs("div",{className:Ke.pastGoalCard,children:[f.jsx("span",{className:Ke.pastGoalName,children:H.custom_name||H.type}),f.jsx("span",{className:Ke.pastGoalStatus,children:H.status})]},H.id))})]}),f.jsxs("section",{className:Ke.section,children:[f.jsx("button",{className:Ke.analyzeBtn,onClick:Z,disabled:b,children:b?"Analyzing...":"Analyze Me"}),S&&f.jsxs("div",{className:Ke.analysisResult,children:[f.jsx("h3",{children:"Analysis Result"}),f.jsx("p",{children:S})]})]})]}),_&&f.jsx("div",{className:Ke.overlay,onClick:()=>v(!1),children:f.jsxs("div",{className:Ke.modal,onClick:H=>H.stopPropagation(),children:[f.jsxs("div",{className:Ke.modalHeader,children:[f.jsxs("h2",{children:["New Goal - ",E.category.charAt(0).toUpperCase()+E.category.slice(1)]}),f.jsx("button",{onClick:()=>v(!1),children:""})]}),f.jsxs("div",{className:Ke.modalContent,children:[f.jsxs("div",{className:Ke.formGroup,children:[f.jsx("label",{children:"Category"}),f.jsxs("select",{value:E.category,onChange:H=>{N({...E,category:H.target.value,type:"",unit:""})},children:[f.jsx("option",{value:"fitness",children:"Fitness"}),f.jsx("option",{value:"health",children:"Health"}),f.jsx("option",{value:"nutrition",children:"Nutrition"})]})]}),f.jsxs("div",{className:Ke.formGroup,children:[f.jsx("label",{children:"Goal Type"}),f.jsxs("select",{value:E.type,onChange:H=>{const Ee=R(E.category).find(Ve=>Ve.type===H.target.value);N({...E,type:H.target.value,unit:Ee?.unit||""})},disabled:!E.category,children:[f.jsx("option",{value:"",children:"Select goal type"}),R(E.category).map(H=>f.jsx("option",{value:H.type,children:H.label},H.type))]})]}),f.jsxs("div",{className:Ke.formGroup,children:[f.jsx("label",{children:"Target Value"}),f.jsx("input",{type:"number",value:E.targetValue,onChange:H=>N({...E,targetValue:H.target.value}),placeholder:"Enter target value"})]}),f.jsxs("div",{className:Ke.formGroup,children:[f.jsx("label",{children:"Start Date"}),f.jsx("input",{type:"date",value:E.startDate,onChange:H=>N({...E,startDate:H.target.value})})]}),f.jsxs("div",{className:Ke.formGroup,children:[f.jsx("label",{children:"End Date (optional)"}),f.jsx("input",{type:"date",value:E.endDate,onChange:H=>N({...E,endDate:H.target.value})})]}),f.jsxs("div",{className:Ke.formGroup,children:[f.jsx("label",{children:"Description (optional)"}),f.jsx("textarea",{value:E.description,onChange:H=>N({...E,description:H.target.value}),rows:3,placeholder:"Add a description for this goal"})]}),f.jsxs("div",{className:Ke.modalActions,children:[f.jsx("button",{className:Ke.cancelBtn,onClick:()=>v(!1),children:"Cancel"}),f.jsx("button",{className:Ke.saveBtn,onClick:J,children:"Create Goal"})]})]})]})})]})}var zu={};zu.version="0.18.5";var gx=1252,g8=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_x=function(r){g8.indexOf(r)!=-1&&(gx=r)};function _8(){_x(1252)}var $o=function(r){_x(r)};function v8(){$o(1200),_8()}var ku=function(e){return String.fromCharCode(e)},rv=function(e){return String.fromCharCode(e)},$u,Cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qo(r){for(var e="",t=0,n=0,i=0,o=0,c=0,h=0,d=0,m=0;m<r.length;)t=r.charCodeAt(m++),o=t>>2,n=r.charCodeAt(m++),c=(t&3)<<4|n>>4,i=r.charCodeAt(m++),h=(n&15)<<2|i>>6,d=i&63,isNaN(n)?h=d=64:isNaN(i)&&(d=64),e+=Cs.charAt(o)+Cs.charAt(c)+Cs.charAt(h)+Cs.charAt(d);return e}function Kn(r){var e="",t=0,n=0,i=0,o=0,c=0,h=0,d=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<r.length;)o=Cs.indexOf(r.charAt(m++)),c=Cs.indexOf(r.charAt(m++)),t=o<<2|c>>4,e+=String.fromCharCode(t),h=Cs.indexOf(r.charAt(m++)),n=(c&15)<<4|h>>2,h!==64&&(e+=String.fromCharCode(n)),d=Cs.indexOf(r.charAt(m++)),i=(h&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Qn=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function fi(r){return Pt?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function av(r){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var mn=function(e){return Pt?Qn(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function lf(r){if(typeof ArrayBuffer>"u")return mn(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function tc(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function y8(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Yr=Pt?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Qn(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function x8(r){for(var e=[],t=0,n=r.length+250,i=fi(r.length+255),o=0;o<r.length;++o){var c=r.charCodeAt(o);if(c<128)i[t++]=c;else if(c<2048)i[t++]=192|c>>6&31,i[t++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var h=r.charCodeAt(++o)&1023;i[t++]=240|c>>8&7,i[t++]=128|c>>2&63,i[t++]=128|h>>6&15|(c&3)<<4,i[t++]=128|h&63}else i[t++]=224|c>>12&15,i[t++]=128|c>>6&63,i[t++]=128|c&63;t>n&&(e.push(i.slice(0,t)),t=0,i=fi(65535),n=65530)}return e.push(i.slice(0,t)),Yr(e)}var ko=/\u0000/g,ju=/[\u0001-\u0006]/g;function pl(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function pn(r,e){var t=""+r;return t.length>=e?t:yr("0",e-t.length)+t}function V0(r,e){var t=""+r;return t.length>=e?t:yr(" ",e-t.length)+t}function qu(r,e){var t=""+r;return t.length>=e?t:t+yr(" ",e-t.length)}function w8(r,e){var t=""+Math.round(r);return t.length>=e?t:yr("0",e-t.length)+t}function S8(r,e){var t=""+r;return t.length>=e?t:yr("0",e-t.length)+t}var nv=Math.pow(2,32);function ll(r,e){if(r>nv||r<-nv)return w8(r,e);var t=Math.round(r);return S8(t,e)}function Gu(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var sv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zd=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function b8(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var xr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},iv={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},T8={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vu(r,e,t){for(var n=r<0?-1:1,i=r*n,o=0,c=1,h=0,d=1,m=0,_=0,v=Math.floor(i);m<e&&(v=Math.floor(i),h=v*c+o,_=v*m+d,!(i-v<5e-8));)i=1/(i-v),o=c,c=h,d=m,m=_;if(_>e&&(m>e?(_=d,h=o):(_=m,h=c)),!t)return[0,n*h,_];var x=Math.floor(n*h/_);return[x,n*h-x*_,_]}function Ou(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),o=0,c=[],h={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(h.u)<1e-6&&(h.u=0),e&&e.date1904&&(n+=1462),h.u>.9999&&(h.u=0,++i==86400&&(h.T=i=0,++n,++h.D)),n===60)c=t?[1317,10,29]:[1900,2,29],o=3;else if(n===0)c=t?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),c=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),n<60&&(o=(o+6)%7),t&&(o=O8(d,c))}return h.y=c[0],h.m=c[1],h.d=c[2],h.S=i%60,i=Math.floor(i/60),h.M=i%60,i=Math.floor(i/60),h.H=i,h.q=o,h}var vx=new Date(1899,11,31,0,0,0),E8=vx.getTime(),A8=new Date(1900,2,1,0,0,0);function yx(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=A8&&(t+=1440*60*1e3),(t-(E8+(r.getTimezoneOffset()-vx.getTimezoneOffset())*6e4))/(1440*60*1e3)}function W0(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function C8(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function N8(r){var e=r<0?12:11,t=W0(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function k8(r){var e=W0(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function j8(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=N8(r):e===10?t=r.toFixed(10).substr(0,12):t=k8(r),W0(C8(t.toUpperCase()))}function v0(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):j8(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Os(14,yx(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function O8(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function D8(r,e,t,n){var i="",o=0,c=0,h=t.y,d,m=0;switch(r){case 98:h=t.y+543;case 121:switch(e.length){case 1:case 2:d=h%100,m=2;break;default:d=h%1e4,m=4;break}break;case 109:switch(e.length){case 1:case 2:d=t.m,m=e.length;break;case 3:return zd[t.m-1][1];case 5:return zd[t.m-1][0];default:return zd[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=t.d,m=e.length;break;case 3:return sv[t.q][0];default:return sv[t.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(t.H+11)%12,m=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=t.H,m=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=t.M,m=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?pn(t.S,e.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,o=Math.round(c*(t.S+t.u)),o>=60*c&&(o=0),e==="s"?o===0?"0":""+o/c:(i=pn(o,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=t.D*24+t.H;break;case"[m]":case"[mm]":d=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":d=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}m=e.length===3?1:2;break;case 101:d=h,m=1;break}var _=m>0?pn(d,m):"";return _}function Ns(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var xx=/%/g;function R8(r,e,t){var n=e.replace(xx,""),i=e.length-n.length;return Vn(r,n,t*Math.pow(10,2*i))+yr("%",i)}function B8(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Vn(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function wx(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+wx(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),t.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+o):t+="E+"+(c-o);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,d,m,_){return d+m+_.substr(0,(i+o)%i)+"."+_.substr(o)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Sx=/# (\?+)( ?)\/( ?)(\d+)/;function M8(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),o=Math.floor(i/n),c=i-o*n,h=n;return t+(o===0?"":""+o)+" "+(c===0?yr(" ",r[1].length+1+r[4].length):V0(c,r[1].length)+r[2]+"/"+r[3]+pn(h,r[4].length))}function L8(r,e,t){return t+(e===0?"":""+e)+yr(" ",r[1].length+2+r[4].length)}var bx=/^#*0*\.([0#]+)/,Tx=/\).*[0#]/,Ex=/\(###\) ###\\?-####/;function ia(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function lv(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function ov(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function P8(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function F8(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Za(r,e,t){if(r.charCodeAt(0)===40&&!e.match(Tx)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Za("n",n,t):"("+Za("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return B8(r,e,t);if(e.indexOf("%")!==-1)return R8(r,e,t);if(e.indexOf("E")!==-1)return wx(e,t);if(e.charCodeAt(0)===36)return"$"+Za(r,e.substr(e.charAt(1)==" "?2:1),t);var i,o,c,h,d=Math.abs(t),m=t<0?"-":"";if(e.match(/^00+$/))return m+ll(d,e.length);if(e.match(/^[#?]+$/))return i=ll(t,0),i==="0"&&(i=""),i.length>e.length?i:ia(e.substr(0,e.length-i.length))+i;if(o=e.match(Sx))return M8(o,d,m);if(e.match(/^#+0+$/))return m+ll(d,e.length-e.indexOf("0"));if(o=e.match(bx))return i=lv(t,o[1].length).replace(/^([^\.]+)$/,"$1."+ia(o[1])).replace(/\.$/,"."+ia(o[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+yr("0",ia(o[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+lv(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+Ns(ll(d,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Za(r,e,-t):Ns(""+(Math.floor(t)+P8(t,o[1].length)))+"."+pn(ov(t,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return Za(r,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=pl(Za(r,e.replace(/[\\-]/g,""),t)),c=0,pl(pl(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return c<i.length?i.charAt(c++):b==="0"?"0":""}));if(e.match(Ex))return i=Za(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var _="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),h=Vu(d,Math.pow(10,c)-1,!1),i=""+m,_=Vn("n",o[1],h[1]),_.charAt(_.length-1)==" "&&(_=_.substr(0,_.length-1)+"0"),i+=_+o[2]+"/"+o[3],_=qu(h[2],c),_.length<o[4].length&&(_=ia(o[4].substr(o[4].length-_.length))+_),i+=_,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),h=Vu(d,Math.pow(10,c)-1,!0),m+(h[0]||(h[1]?"":"0"))+" "+(h[1]?V0(h[1],c)+o[2]+"/"+o[3]+qu(h[2],c):yr(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=ll(t,0),e.length<=i.length?i:ia(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var v=e.indexOf(".")-c,x=e.length-i.length-v;return ia(e.substr(0,v)+i+e.substr(e.length-x))}if(o=e.match(/^00,000\.([#0]*0)$/))return c=ov(t,o[1].length),t<0?"-"+Za(r,e,-t):Ns(F8(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?pn(0,3-b.length):"")+b})+"."+pn(c,o[1].length);switch(e){case"###,##0.00":return Za(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var y=Ns(ll(d,0));return y!=="0"?m+y:"";case"###,###.00":return Za(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Za(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function I8(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Vn(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function U8(r,e,t){var n=e.replace(xx,""),i=e.length-n.length;return Vn(r,n,t*Math.pow(10,2*i))+yr("%",i)}function Ax(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Ax(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),!t.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+o):t+="E+"+(c-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,d,m,_){return d+m+_.substr(0,(i+o)%i)+"."+_.substr(o)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function bn(r,e,t){if(r.charCodeAt(0)===40&&!e.match(Tx)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?bn("n",n,t):"("+bn("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return I8(r,e,t);if(e.indexOf("%")!==-1)return U8(r,e,t);if(e.indexOf("E")!==-1)return Ax(e,t);if(e.charCodeAt(0)===36)return"$"+bn(r,e.substr(e.charAt(1)==" "?2:1),t);var i,o,c,h,d=Math.abs(t),m=t<0?"-":"";if(e.match(/^00+$/))return m+pn(d,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:ia(e.substr(0,e.length-i.length))+i;if(o=e.match(Sx))return L8(o,d,m);if(e.match(/^#+0+$/))return m+pn(d,e.length-e.indexOf("0"));if(o=e.match(bx))return i=(""+t).replace(/^([^\.]+)$/,"$1."+ia(o[1])).replace(/\.$/,"."+ia(o[1])),i=i.replace(/\.(\d*)$/,function(b,w){return"."+w+yr("0",ia(o[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+Ns(""+d);if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+bn(r,e,-t):Ns(""+t)+"."+yr("0",o[1].length);if(o=e.match(/^#,#*,#0/))return bn(r,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=pl(bn(r,e.replace(/[\\-]/g,""),t)),c=0,pl(pl(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return c<i.length?i.charAt(c++):b==="0"?"0":""}));if(e.match(Ex))return i=bn(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var _="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),h=Vu(d,Math.pow(10,c)-1,!1),i=""+m,_=Vn("n",o[1],h[1]),_.charAt(_.length-1)==" "&&(_=_.substr(0,_.length-1)+"0"),i+=_+o[2]+"/"+o[3],_=qu(h[2],c),_.length<o[4].length&&(_=ia(o[4].substr(o[4].length-_.length))+_),i+=_,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),h=Vu(d,Math.pow(10,c)-1,!0),m+(h[0]||(h[1]?"":"0"))+" "+(h[1]?V0(h[1],c)+o[2]+"/"+o[3]+qu(h[2],c):yr(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:ia(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var v=e.indexOf(".")-c,x=e.length-i.length-v;return ia(e.substr(0,v)+i+e.substr(e.length-x))}if(o=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+bn(r,e,-t):Ns(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?pn(0,3-b.length):"")+b})+"."+pn(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Ns(""+d);return y!=="0"?m+y:"";default:if(e.match(/\.[0#?]*$/))return bn(r,e.slice(0,e.lastIndexOf(".")),t)+ia(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Vn(r,e,t){return(t|0)===t?bn(r,e,t):Za(r,e,t)}function H8(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var Cx=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Nx(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":Gu(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(Cx))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function z8(r,e,t,n){for(var i=[],o="",c=0,h="",d="t",m,_,v,x="H";c<r.length;)switch(h=r.charAt(c)){case"G":if(!Gu(r,c))throw new Error("unrecognized character "+h+" in "+r);i[i.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(v=r.charCodeAt(++c))!==34&&c<r.length;)o+=String.fromCharCode(v);i[i.length]={t:"t",v:o},++c;break;case"\\":var y=r.charAt(++c),b=y==="("||y===")"?y:"t";i[i.length]={t:b,v:y},++c;break;case"_":i[i.length]={t:"t",v:" "},c+=2;break;case"@":i[i.length]={t:"T",v:e},++c;break;case"B":case"b":if(r.charAt(c+1)==="1"||r.charAt(c+1)==="2"){if(m==null&&(m=Ou(e,t,r.charAt(c+1)==="2"),m==null))return"";i[i.length]={t:"X",v:r.substr(c,2)},d=h,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||m==null&&(m=Ou(e,t),m==null))return"";for(o=h;++c<r.length&&r.charAt(c).toLowerCase()===h;)o+=h;h==="m"&&d.toLowerCase()==="h"&&(h="M"),h==="h"&&(h=x),i[i.length]={t:h,v:o},d=h;break;case"A":case"a":case"":var w={t:h,v:h};if(m==null&&(m=Ou(e,t)),r.substr(c,3).toUpperCase()==="A/P"?(m!=null&&(w.v=m.H>=12?"P":"A"),w.t="T",x="h",c+=3):r.substr(c,5).toUpperCase()==="AM/PM"?(m!=null&&(w.v=m.H>=12?"PM":"AM"),w.t="T",c+=5,x="h"):r.substr(c,5).toUpperCase()==="/"?(m!=null&&(w.v=m.H>=12?"":""),w.t="T",c+=5,x="h"):(w.t="t",++c),m==null&&w.t==="T")return"";i[i.length]=w,d=h;break;case"[":for(o=h;r.charAt(c++)!=="]"&&c<r.length;)o+=r.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(Cx)){if(m==null&&(m=Ou(e,t),m==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",Nx(r)||(i[i.length]={t:"t",v:o}));break;case".":if(m!=null){for(o=h;++c<r.length&&(h=r.charAt(c))==="0";)o+=h;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=h;++c<r.length&&"0#?.,E+-%".indexOf(h=r.charAt(c))>-1;)o+=h;i[i.length]={t:"n",v:o};break;case"?":for(o=h;r.charAt(++c)===h;)o+=h;i[i.length]={t:h,v:o},d=h;break;case"*":++c,(r.charAt(c)==" "||r.charAt(c)=="*")&&++c;break;case"(":case")":i[i.length]={t:n===1?"t":h,v:h},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=h;c<r.length&&"0123456789".indexOf(r.charAt(++c))>-1;)o+=r.charAt(c);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:h,v:h},++c;break;case"$":i[i.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(h)===-1)throw new Error("unrecognized character "+h+" in "+r);i[i.length]={t:"t",v:h},++c;break}var S=0,j=0,E;for(c=i.length-1,d="t";c>=0;--c)switch(i[c].t){case"h":case"H":i[c].t=x,d="h",S<1&&(S=1);break;case"s":(E=i[c].v.match(/\.0+$/))&&(j=Math.max(j,E[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":d=i[c].t;break;case"m":d==="s"&&(i[c].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[c].v.match(/[Hh]/)&&(S=1),S<2&&i[c].v.match(/[Mm]/)&&(S=2),S<3&&i[c].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var N="",B;for(c=0;c<i.length;++c)switch(i[c].t){case"t":case"T":case" ":case"D":break;case"X":i[c].v="",i[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[c].v=D8(i[c].t.charCodeAt(0),i[c].v,m,j),i[c].t="t";break;case"n":case"?":for(B=c+1;i[B]!=null&&((h=i[B].t)==="?"||h==="D"||(h===" "||h==="t")&&i[B+1]!=null&&(i[B+1].t==="?"||i[B+1].t==="t"&&i[B+1].v==="/")||i[c].t==="("&&(h===" "||h==="n"||h===")")||h==="t"&&(i[B].v==="/"||i[B].v===" "&&i[B+1]!=null&&i[B+1].t=="?"));)i[c].v+=i[B].v,i[B]={v:"",t:";"},++B;N+=i[c].v,c=B-1;break;case"G":i[c].t="t",i[c].v=v0(e,t);break}var X="",Y,R;if(N.length>0){N.charCodeAt(0)==40?(Y=e<0&&N.charCodeAt(0)===45?-e:e,R=Vn("n",N,Y)):(Y=e<0&&n>1?-e:e,R=Vn("n",N,Y),Y<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),B=R.length-1;var J=i.length;for(c=0;c<i.length;++c)if(i[c]!=null&&i[c].t!="t"&&i[c].v.indexOf(".")>-1){J=c;break}var Z=i.length;if(J===i.length&&R.indexOf("E")===-1){for(c=i.length-1;c>=0;--c)i[c]==null||"n?".indexOf(i[c].t)===-1||(B>=i[c].v.length-1?(B-=i[c].v.length,i[c].v=R.substr(B+1,i[c].v.length)):B<0?i[c].v="":(i[c].v=R.substr(0,B+1),B=-1),i[c].t="t",Z=c);B>=0&&Z<i.length&&(i[Z].v=R.substr(0,B+1)+i[Z].v)}else if(J!==i.length&&R.indexOf("E")===-1){for(B=R.indexOf(".")-1,c=J;c>=0;--c)if(!(i[c]==null||"n?".indexOf(i[c].t)===-1)){for(_=i[c].v.indexOf(".")>-1&&c===J?i[c].v.indexOf(".")-1:i[c].v.length-1,X=i[c].v.substr(_+1);_>=0;--_)B>=0&&(i[c].v.charAt(_)==="0"||i[c].v.charAt(_)==="#")&&(X=R.charAt(B--)+X);i[c].v=X,i[c].t="t",Z=c}for(B>=0&&Z<i.length&&(i[Z].v=R.substr(0,B+1)+i[Z].v),B=R.indexOf(".")+1,c=J;c<i.length;++c)if(!(i[c]==null||"n?(".indexOf(i[c].t)===-1&&c!==J)){for(_=i[c].v.indexOf(".")>-1&&c===J?i[c].v.indexOf(".")+1:0,X=i[c].v.substr(0,_);_<i[c].v.length;++_)B<R.length&&(X+=R.charAt(B++));i[c].v=X,i[c].t="t",Z=c}}}for(c=0;c<i.length;++c)i[c]!=null&&"n?".indexOf(i[c].t)>-1&&(Y=n>1&&e<0&&c>0&&i[c-1].v==="-"?-e:e,i[c].v=Vn(i[c].t,i[c].v,Y),i[c].t="t");var fe="";for(c=0;c!==i.length;++c)i[c]!=null&&(fe+=i[c].v);return fe}var cv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uv(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function $8(r,e){var t=H8(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var o=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,o];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var c=t[0].match(cv),h=t[1].match(cv);return uv(e,c)?[n,t[0]]:uv(e,h)?[n,t[1]]:[n,t[c!=null&&h!=null?2:1]]}return[n,o]}function Os(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:xr)[r],n==null&&(n=t.table&&t.table[iv[r]]||xr[iv[r]]),n==null&&(n=T8[r]||"General");break}if(Gu(n,0))return v0(e,t);e instanceof Date&&(e=yx(e,t.date1904));var i=$8(n,e);if(Gu(i[1]))return v0(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return z8(i[1],e,t,i[0])}function kx(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(xr[t]==null){e<0&&(e=t);continue}if(xr[t]==r){e=t;break}}e<0&&(e=391)}return xr[e]=r,e}function of(r){for(var e=0;e!=392;++e)r[e]!==void 0&&kx(r[e],e)}function cf(){xr=b8()}var jx=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function q8(r){var e=typeof r=="number"?xr[r]:r;return e=e.replace(jx,"(\\d+)"),new RegExp("^"+e+"$")}function G8(r,e,t){var n=-1,i=-1,o=-1,c=-1,h=-1,d=-1;(e.match(jx)||[]).forEach(function(v,x){var y=parseInt(t[x+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=y;break;case"d":o=y;break;case"h":c=y;break;case"s":d=y;break;case"m":c>=0?h=y:i=y;break}}),d>=0&&h==-1&&i>=0&&(h=i,i=-1);var m=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var _=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return c==-1&&h==-1&&d==-1?m:n==-1&&i==-1&&o==-1?_:m+"T"+_}var V8=(function(){var r={};r.version="1.2.0";function e(){for(var R=0,J=new Array(256),Z=0;Z!=256;++Z)R=Z,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,J[Z]=R;return typeof Int32Array<"u"?new Int32Array(J):J}var t=e();function n(R){var J=0,Z=0,fe=0,ge=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(fe=0;fe!=256;++fe)ge[fe]=R[fe];for(fe=0;fe!=256;++fe)for(Z=R[fe],J=256+fe;J<4096;J+=256)Z=ge[J]=Z>>>8^R[Z&255];var H=[];for(fe=1;fe!=16;++fe)H[fe-1]=typeof Int32Array<"u"?ge.subarray(fe*256,fe*256+256):ge.slice(fe*256,fe*256+256);return H}var i=n(t),o=i[0],c=i[1],h=i[2],d=i[3],m=i[4],_=i[5],v=i[6],x=i[7],y=i[8],b=i[9],w=i[10],S=i[11],j=i[12],E=i[13],N=i[14];function B(R,J){for(var Z=J^-1,fe=0,ge=R.length;fe<ge;)Z=Z>>>8^t[(Z^R.charCodeAt(fe++))&255];return~Z}function X(R,J){for(var Z=J^-1,fe=R.length-15,ge=0;ge<fe;)Z=N[R[ge++]^Z&255]^E[R[ge++]^Z>>8&255]^j[R[ge++]^Z>>16&255]^S[R[ge++]^Z>>>24]^w[R[ge++]]^b[R[ge++]]^y[R[ge++]]^x[R[ge++]]^v[R[ge++]]^_[R[ge++]]^m[R[ge++]]^d[R[ge++]]^h[R[ge++]]^c[R[ge++]]^o[R[ge++]]^t[R[ge++]];for(fe+=15;ge<fe;)Z=Z>>>8^t[(Z^R[ge++])&255];return~Z}function Y(R,J){for(var Z=J^-1,fe=0,ge=R.length,H=0,Ee=0;fe<ge;)H=R.charCodeAt(fe++),H<128?Z=Z>>>8^t[(Z^H)&255]:H<2048?(Z=Z>>>8^t[(Z^(192|H>>6&31))&255],Z=Z>>>8^t[(Z^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,Ee=R.charCodeAt(fe++)&1023,Z=Z>>>8^t[(Z^(240|H>>8&7))&255],Z=Z>>>8^t[(Z^(128|H>>2&63))&255],Z=Z>>>8^t[(Z^(128|Ee>>6&15|(H&3)<<4))&255],Z=Z>>>8^t[(Z^(128|Ee&63))&255]):(Z=Z>>>8^t[(Z^(224|H>>12&15))&255],Z=Z>>>8^t[(Z^(128|H>>6&63))&255],Z=Z>>>8^t[(Z^(128|H&63))&255]);return~Z}return r.table=t,r.bstr=B,r.buf=X,r.str=Y,r})(),Xt=(function(){var e={};e.version="1.2.1";function t(A,L){for(var O=A.split("/"),D=L.split("/"),M=0,F=0,ce=Math.min(O.length,D.length);M<ce;++M){if(F=O[M].length-D[M].length)return F;if(O[M]!=D[M])return O[M]<D[M]?-1:1}return O.length-D.length}function n(A){if(A.charAt(A.length-1)=="/")return A.slice(0,-1).indexOf("/")===-1?A:n(A.slice(0,-1));var L=A.lastIndexOf("/");return L===-1?A:A.slice(0,L+1)}function i(A){if(A.charAt(A.length-1)=="/")return i(A.slice(0,-1));var L=A.lastIndexOf("/");return L===-1?A:A.slice(L+1)}function o(A,L){typeof L=="string"&&(L=new Date(L));var O=L.getHours();O=O<<6|L.getMinutes(),O=O<<5|L.getSeconds()>>>1,A.write_shift(2,O);var D=L.getFullYear()-1980;D=D<<4|L.getMonth()+1,D=D<<5|L.getDate(),A.write_shift(2,D)}function c(A){var L=A.read_shift(2)&65535,O=A.read_shift(2)&65535,D=new Date,M=O&31;O>>>=5;var F=O&15;O>>>=4,D.setMilliseconds(0),D.setFullYear(O+1980),D.setMonth(F-1),D.setDate(M);var ce=L&31;L>>>=5;var be=L&63;return L>>>=6,D.setHours(L),D.setMinutes(be),D.setSeconds(ce<<1),D}function h(A){ja(A,0);for(var L={},O=0;A.l<=A.length-4;){var D=A.read_shift(2),M=A.read_shift(2),F=A.l+M,ce={};switch(D){case 21589:O=A.read_shift(1),O&1&&(ce.mtime=A.read_shift(4)),M>5&&(O&2&&(ce.atime=A.read_shift(4)),O&4&&(ce.ctime=A.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}A.l=F,L[D]=ce}return L}var d;function m(){return d||(d={})}function _(A,L){if(A[0]==80&&A[1]==75)return Fe(A,L);if((A[0]|32)==109&&(A[1]|32)==105)return pr(A,L);if(A.length<512)throw new Error("CFB file size "+A.length+" < 512");var O=3,D=512,M=0,F=0,ce=0,be=0,ue=0,de=[],pe=A.slice(0,512);ja(pe,0);var Be=v(pe);switch(O=Be[0],O){case 3:D=512;break;case 4:D=4096;break;case 0:if(Be[1]==0)return Fe(A,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+O)}D!==512&&(pe=A.slice(0,D),ja(pe,28));var Ue=A.slice(0,D);x(pe,O);var Ye=pe.read_shift(4,"i");if(O===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);pe.l+=4,ce=pe.read_shift(4,"i"),pe.l+=4,pe.chk("00100000","Mini Stream Cutoff Size: "),be=pe.read_shift(4,"i"),M=pe.read_shift(4,"i"),ue=pe.read_shift(4,"i"),F=pe.read_shift(4,"i");for(var Pe=-1,Ge=0;Ge<109&&(Pe=pe.read_shift(4,"i"),!(Pe<0));++Ge)de[Ge]=Pe;var Qe=y(A,D);S(ue,F,Qe,D,de);var Zt=E(Qe,ce,de,D);Zt[ce].name="!Directory",M>0&&be!==Ee&&(Zt[be].name="!MiniFAT"),Zt[de[0]].name="!FAT",Zt.fat_addrs=de,Zt.ssz=D;var er={},or=[],Ha=[],Ls=[];N(ce,Zt,Qe,or,M,er,Ha,be),b(Ha,Ls,or),or.shift();var Zn={FileIndex:Ha,FullPaths:Ls};return L&&L.raw&&(Zn.raw={header:Ue,sectors:Qe}),Zn}function v(A){if(A[A.l]==80&&A[A.l+1]==75)return[0,0];A.chk(Ve,"Header Signature: "),A.l+=16;var L=A.read_shift(2,"u");return[A.read_shift(2,"u"),L]}function x(A,L){var O=9;switch(A.l+=2,O=A.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+O);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+O);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+O)}A.chk("0600","Mini Sector Shift: "),A.chk("000000000000","Reserved: ")}function y(A,L){for(var O=Math.ceil(A.length/L)-1,D=[],M=1;M<O;++M)D[M-1]=A.slice(M*L,(M+1)*L);return D[O-1]=A.slice(O*L),D}function b(A,L,O){for(var D=0,M=0,F=0,ce=0,be=0,ue=O.length,de=[],pe=[];D<ue;++D)de[D]=pe[D]=D,L[D]=O[D];for(;be<pe.length;++be)D=pe[be],M=A[D].L,F=A[D].R,ce=A[D].C,de[D]===D&&(M!==-1&&de[M]!==M&&(de[D]=de[M]),F!==-1&&de[F]!==F&&(de[D]=de[F])),ce!==-1&&(de[ce]=D),M!==-1&&D!=de[D]&&(de[M]=de[D],pe.lastIndexOf(M)<be&&pe.push(M)),F!==-1&&D!=de[D]&&(de[F]=de[D],pe.lastIndexOf(F)<be&&pe.push(F));for(D=1;D<ue;++D)de[D]===D&&(F!==-1&&de[F]!==F?de[D]=de[F]:M!==-1&&de[M]!==M&&(de[D]=de[M]));for(D=1;D<ue;++D)if(A[D].type!==0){if(be=D,be!=de[be])do be=de[be],L[D]=L[be]+"/"+L[D];while(be!==0&&de[be]!==-1&&be!=de[be]);de[D]=-1}for(L[0]+="/",D=1;D<ue;++D)A[D].type!==2&&(L[D]+="/")}function w(A,L,O){for(var D=A.start,M=A.size,F=[],ce=D;O&&M>0&&ce>=0;)F.push(L.slice(ce*H,ce*H+H)),M-=H,ce=ii(O,ce*4);return F.length===0?we(0):Yr(F).slice(0,A.size)}function S(A,L,O,D,M){var F=Ee;if(A===Ee){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(A!==-1){var ce=O[A],be=(D>>>2)-1;if(!ce)return;for(var ue=0;ue<be&&(F=ii(ce,ue*4))!==Ee;++ue)M.push(F);S(ii(ce,D-4),L-1,O,D,M)}}function j(A,L,O,D,M){var F=[],ce=[];M||(M=[]);var be=D-1,ue=0,de=0;for(ue=L;ue>=0;){M[ue]=!0,F[F.length]=ue,ce.push(A[ue]);var pe=O[Math.floor(ue*4/D)];if(de=ue*4&be,D<4+de)throw new Error("FAT boundary crossed: "+ue+" 4 "+D);if(!A[pe])break;ue=ii(A[pe],de)}return{nodes:F,data:vv([ce])}}function E(A,L,O,D){var M=A.length,F=[],ce=[],be=[],ue=[],de=D-1,pe=0,Be=0,Ue=0,Ye=0;for(pe=0;pe<M;++pe)if(be=[],Ue=pe+L,Ue>=M&&(Ue-=M),!ce[Ue]){ue=[];var Pe=[];for(Be=Ue;Be>=0;){Pe[Be]=!0,ce[Be]=!0,be[be.length]=Be,ue.push(A[Be]);var Ge=O[Math.floor(Be*4/D)];if(Ye=Be*4&de,D<4+Ye)throw new Error("FAT boundary crossed: "+Be+" 4 "+D);if(!A[Ge]||(Be=ii(A[Ge],Ye),Pe[Be]))break}F[Ue]={nodes:be,data:vv([ue])}}return F}function N(A,L,O,D,M,F,ce,be){for(var ue=0,de=D.length?2:0,pe=L[A].data,Be=0,Ue=0,Ye;Be<pe.length;Be+=128){var Pe=pe.slice(Be,Be+128);ja(Pe,64),Ue=Pe.read_shift(2),Ye=Q0(Pe,0,Ue-de),D.push(Ye);var Ge={name:Ye,type:Pe.read_shift(1),color:Pe.read_shift(1),L:Pe.read_shift(4,"i"),R:Pe.read_shift(4,"i"),C:Pe.read_shift(4,"i"),clsid:Pe.read_shift(16),state:Pe.read_shift(4,"i"),start:0,size:0},Qe=Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2);Qe!==0&&(Ge.ct=B(Pe,Pe.l-8));var Zt=Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2)+Pe.read_shift(2);Zt!==0&&(Ge.mt=B(Pe,Pe.l-8)),Ge.start=Pe.read_shift(4,"i"),Ge.size=Pe.read_shift(4,"i"),Ge.size<0&&Ge.start<0&&(Ge.size=Ge.type=0,Ge.start=Ee,Ge.name=""),Ge.type===5?(ue=Ge.start,M>0&&ue!==Ee&&(L[ue].name="!StreamData")):Ge.size>=4096?(Ge.storage="fat",L[Ge.start]===void 0&&(L[Ge.start]=j(O,Ge.start,L.fat_addrs,L.ssz)),L[Ge.start].name=Ge.name,Ge.content=L[Ge.start].data.slice(0,Ge.size)):(Ge.storage="minifat",Ge.size<0?Ge.size=0:ue!==Ee&&Ge.start!==Ee&&L[ue]&&(Ge.content=w(Ge,L[ue].data,(L[be]||{}).data))),Ge.content&&ja(Ge.content,0),F[Ye]=Ge,ce.push(Ge)}}function B(A,L){return new Date((Da(A,L+4)/1e7*Math.pow(2,32)+Da(A,L)/1e7-11644473600)*1e3)}function X(A,L){return m(),_(d.readFileSync(A),L)}function Y(A,L){var O=L&&L.type;switch(O||Pt&&Buffer.isBuffer(A)&&(O="buffer"),O||"base64"){case"file":return X(A,L);case"base64":return _(mn(Kn(A)),L);case"binary":return _(mn(A),L)}return _(A,L)}function R(A,L){var O=L||{},D=O.root||"Root Entry";if(A.FullPaths||(A.FullPaths=[]),A.FileIndex||(A.FileIndex=[]),A.FullPaths.length!==A.FileIndex.length)throw new Error("inconsistent CFB structure");A.FullPaths.length===0&&(A.FullPaths[0]=D+"/",A.FileIndex[0]={name:D,type:5}),O.CLSID&&(A.FileIndex[0].clsid=O.CLSID),J(A)}function J(A){var L="Sh33tJ5";if(!Xt.find(A,"/"+L)){var O=we(4);O[0]=55,O[1]=O[3]=50,O[2]=54,A.FileIndex.push({name:L,type:2,content:O,size:4,L:69,R:69,C:69}),A.FullPaths.push(A.FullPaths[0]+L),Z(A)}}function Z(A,L){R(A);for(var O=!1,D=!1,M=A.FullPaths.length-1;M>=0;--M){var F=A.FileIndex[M];switch(F.type){case 0:D?O=!0:(A.FileIndex.pop(),A.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(F.R*F.L*F.C)&&(O=!0),F.R>-1&&F.L>-1&&F.R==F.L&&(O=!0);break;default:O=!0;break}}if(!(!O&&!L)){var ce=new Date(1987,1,19),be=0,ue=Object.create?Object.create(null):{},de=[];for(M=0;M<A.FullPaths.length;++M)ue[A.FullPaths[M]]=!0,A.FileIndex[M].type!==0&&de.push([A.FullPaths[M],A.FileIndex[M]]);for(M=0;M<de.length;++M){var pe=n(de[M][0]);D=ue[pe],D||(de.push([pe,{name:i(pe).replace("/",""),type:1,clsid:W,ct:ce,mt:ce,content:null}]),ue[pe]=!0)}for(de.sort(function(Ye,Pe){return t(Ye[0],Pe[0])}),A.FullPaths=[],A.FileIndex=[],M=0;M<de.length;++M)A.FullPaths[M]=de[M][0],A.FileIndex[M]=de[M][1];for(M=0;M<de.length;++M){var Be=A.FileIndex[M],Ue=A.FullPaths[M];if(Be.name=i(Ue).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||W,M===0)Be.C=de.length>1?1:-1,Be.size=0,Be.type=5;else if(Ue.slice(-1)=="/"){for(be=M+1;be<de.length&&n(A.FullPaths[be])!=Ue;++be);for(Be.C=be>=de.length?-1:be,be=M+1;be<de.length&&n(A.FullPaths[be])!=n(Ue);++be);Be.R=be>=de.length?-1:be,Be.type=1}else n(A.FullPaths[M+1]||"")==n(Ue)&&(Be.R=M+1),Be.type=2}}}function fe(A,L){var O=L||{};if(O.fileType=="mad")return Kt(A,O);switch(Z(A),O.fileType){case"zip":return se(A,O)}var D=(function(Ye){for(var Pe=0,Ge=0,Qe=0;Qe<Ye.FileIndex.length;++Qe){var Zt=Ye.FileIndex[Qe];if(Zt.content){var er=Zt.content.length;er>0&&(er<4096?Pe+=er+63>>6:Ge+=er+511>>9)}}for(var or=Ye.FullPaths.length+3>>2,Ha=Pe+7>>3,Ls=Pe+127>>7,Zn=Ha+Ge+or+Ls,vn=Zn+127>>7,Dl=vn<=109?0:Math.ceil((vn-109)/127);Zn+vn+Dl+127>>7>vn;)Dl=++vn<=109?0:Math.ceil((vn-109)/127);var ca=[1,Dl,vn,Ls,or,Ge,Pe,0];return Ye.FileIndex[0].size=Pe<<6,ca[7]=(Ye.FileIndex[0].start=ca[0]+ca[1]+ca[2]+ca[3]+ca[4]+ca[5])+(ca[6]+7>>3),ca})(A),M=we(D[7]<<9),F=0,ce=0;{for(F=0;F<8;++F)M.write_shift(1,Te[F]);for(F=0;F<8;++F)M.write_shift(2,0);for(M.write_shift(2,62),M.write_shift(2,3),M.write_shift(2,65534),M.write_shift(2,9),M.write_shift(2,6),F=0;F<3;++F)M.write_shift(2,0);for(M.write_shift(4,0),M.write_shift(4,D[2]),M.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),M.write_shift(4,0),M.write_shift(4,4096),M.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:Ee),M.write_shift(4,D[3]),M.write_shift(-4,D[1]?D[0]-1:Ee),M.write_shift(4,D[1]),F=0;F<109;++F)M.write_shift(-4,F<D[2]?D[1]+F:-1)}if(D[1])for(ce=0;ce<D[1];++ce){for(;F<236+ce*127;++F)M.write_shift(-4,F<D[2]?D[1]+F:-1);M.write_shift(-4,ce===D[1]-1?Ee:ce+1)}var be=function(Ye){for(ce+=Ye;F<ce-1;++F)M.write_shift(-4,F+1);Ye&&(++F,M.write_shift(-4,Ee))};for(ce=F=0,ce+=D[1];F<ce;++F)M.write_shift(-4,xe.DIFSECT);for(ce+=D[2];F<ce;++F)M.write_shift(-4,xe.FATSECT);be(D[3]),be(D[4]);for(var ue=0,de=0,pe=A.FileIndex[0];ue<A.FileIndex.length;++ue)pe=A.FileIndex[ue],pe.content&&(de=pe.content.length,!(de<4096)&&(pe.start=ce,be(de+511>>9)));for(be(D[6]+7>>3);M.l&511;)M.write_shift(-4,xe.ENDOFCHAIN);for(ce=F=0,ue=0;ue<A.FileIndex.length;++ue)pe=A.FileIndex[ue],pe.content&&(de=pe.content.length,!(!de||de>=4096)&&(pe.start=ce,be(de+63>>6)));for(;M.l&511;)M.write_shift(-4,xe.ENDOFCHAIN);for(F=0;F<D[4]<<2;++F){var Be=A.FullPaths[F];if(!Be||Be.length===0){for(ue=0;ue<17;++ue)M.write_shift(4,0);for(ue=0;ue<3;++ue)M.write_shift(4,-1);for(ue=0;ue<12;++ue)M.write_shift(4,0);continue}pe=A.FileIndex[F],F===0&&(pe.start=pe.size?pe.start-1:Ee);var Ue=F===0&&O.root||pe.name;if(de=2*(Ue.length+1),M.write_shift(64,Ue,"utf16le"),M.write_shift(2,de),M.write_shift(1,pe.type),M.write_shift(1,pe.color),M.write_shift(-4,pe.L),M.write_shift(-4,pe.R),M.write_shift(-4,pe.C),pe.clsid)M.write_shift(16,pe.clsid,"hex");else for(ue=0;ue<4;++ue)M.write_shift(4,0);M.write_shift(4,pe.state||0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,pe.start),M.write_shift(4,pe.size),M.write_shift(4,0)}for(F=1;F<A.FileIndex.length;++F)if(pe=A.FileIndex[F],pe.size>=4096)if(M.l=pe.start+1<<9,Pt&&Buffer.isBuffer(pe.content))pe.content.copy(M,M.l,0,pe.size),M.l+=pe.size+511&-512;else{for(ue=0;ue<pe.size;++ue)M.write_shift(1,pe.content[ue]);for(;ue&511;++ue)M.write_shift(1,0)}for(F=1;F<A.FileIndex.length;++F)if(pe=A.FileIndex[F],pe.size>0&&pe.size<4096)if(Pt&&Buffer.isBuffer(pe.content))pe.content.copy(M,M.l,0,pe.size),M.l+=pe.size+63&-64;else{for(ue=0;ue<pe.size;++ue)M.write_shift(1,pe.content[ue]);for(;ue&63;++ue)M.write_shift(1,0)}if(Pt)M.l=M.length;else for(;M.l<M.length;)M.write_shift(1,0);return M}function ge(A,L){var O=A.FullPaths.map(function(ue){return ue.toUpperCase()}),D=O.map(function(ue){var de=ue.split("/");return de[de.length-(ue.slice(-1)=="/"?2:1)]}),M=!1;L.charCodeAt(0)===47?(M=!0,L=O[0].slice(0,-1)+L):M=L.indexOf("/")!==-1;var F=L.toUpperCase(),ce=M===!0?O.indexOf(F):D.indexOf(F);if(ce!==-1)return A.FileIndex[ce];var be=!F.match(ju);for(F=F.replace(ko,""),be&&(F=F.replace(ju,"!")),ce=0;ce<O.length;++ce)if((be?O[ce].replace(ju,"!"):O[ce]).replace(ko,"")==F||(be?D[ce].replace(ju,"!"):D[ce]).replace(ko,"")==F)return A.FileIndex[ce];return null}var H=64,Ee=-2,Ve="d0cf11e0a1b11ae1",Te=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ee,FREESECT:-1,HEADER_SIGNATURE:Ve,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ie(A,L,O){m();var D=fe(A,O);d.writeFileSync(L,D)}function ee(A){for(var L=new Array(A.length),O=0;O<A.length;++O)L[O]=String.fromCharCode(A[O]);return L.join("")}function je(A,L){var O=fe(A,L);switch(L&&L.type||"buffer"){case"file":return m(),d.writeFileSync(L.filename,O),O;case"binary":return typeof O=="string"?O:ee(O);case"base64":return qo(typeof O=="string"?O:ee(O));case"buffer":if(Pt)return Buffer.isBuffer(O)?O:Qn(O);case"array":return typeof O=="string"?mn(O):O}return O}var I;function C(A){try{var L=A.InflateRaw,O=new L;if(O._processChunk(new Uint8Array([3,0]),O._finishFlushFlag),O.bytesRead)I=A;else throw new Error("zlib does not expose bytesRead")}catch(D){console.error("cannot use native zlib: "+(D.message||D))}}function P(A,L){if(!I)return ya(A,L);var O=I.InflateRaw,D=new O,M=D._processChunk(A.slice(A.l),D._finishFlushFlag);return A.l+=D.bytesRead,M}function U(A){return I?I.deflateRawSync(A):Rr(A)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Le(A){var L=(A<<1|A<<11)&139536|(A<<5|A<<15)&558144;return(L>>16|L>>8|L)&255}for(var Ce=typeof Uint8Array<"u",De=Ce?new Uint8Array(256):[],gt=0;gt<256;++gt)De[gt]=Le(gt);function ot(A,L){var O=De[A&255];return L<=8?O>>>8-L:(O=O<<8|De[A>>8&255],L<=16?O>>>16-L:(O=O<<8|De[A>>16&255],O>>>24-L))}function rr(A,L){var O=L&7,D=L>>>3;return(A[D]|(O<=6?0:A[D+1]<<8))>>>O&3}function he(A,L){var O=L&7,D=L>>>3;return(A[D]|(O<=5?0:A[D+1]<<8))>>>O&7}function ne(A,L){var O=L&7,D=L>>>3;return(A[D]|(O<=4?0:A[D+1]<<8))>>>O&15}function _e(A,L){var O=L&7,D=L>>>3;return(A[D]|(O<=3?0:A[D+1]<<8))>>>O&31}function te(A,L){var O=L&7,D=L>>>3;return(A[D]|(O<=1?0:A[D+1]<<8))>>>O&127}function Xe(A,L,O){var D=L&7,M=L>>>3,F=(1<<O)-1,ce=A[M]>>>D;return O<8-D||(ce|=A[M+1]<<8-D,O<16-D)||(ce|=A[M+2]<<16-D,O<24-D)||(ce|=A[M+3]<<24-D),ce&F}function We(A,L,O){var D=L&7,M=L>>>3;return D<=5?A[M]|=(O&7)<<D:(A[M]|=O<<D&255,A[M+1]=(O&7)>>8-D),L+3}function Me(A,L,O){var D=L&7,M=L>>>3;return O=(O&1)<<D,A[M]|=O,L+1}function ze(A,L,O){var D=L&7,M=L>>>3;return O<<=D,A[M]|=O&255,O>>>=8,A[M+1]=O,L+8}function rt(A,L,O){var D=L&7,M=L>>>3;return O<<=D,A[M]|=O&255,O>>>=8,A[M+1]=O&255,A[M+2]=O>>>8,L+16}function Rt(A,L){var O=A.length,D=2*O>L?2*O:L+5,M=0;if(O>=L)return A;if(Pt){var F=av(D);if(A.copy)A.copy(F);else for(;M<A.length;++M)F[M]=A[M];return F}else if(Ce){var ce=new Uint8Array(D);if(ce.set)ce.set(A);else for(;M<O;++M)ce[M]=A[M];return ce}return A.length=D,A}function ut(A){for(var L=new Array(A),O=0;O<A;++O)L[O]=0;return L}function Ct(A,L,O){var D=1,M=0,F=0,ce=0,be=0,ue=A.length,de=Ce?new Uint16Array(32):ut(32);for(F=0;F<32;++F)de[F]=0;for(F=ue;F<O;++F)A[F]=0;ue=A.length;var pe=Ce?new Uint16Array(ue):ut(ue);for(F=0;F<ue;++F)de[M=A[F]]++,D<M&&(D=M),pe[F]=0;for(de[0]=0,F=1;F<=D;++F)de[F+16]=be=be+de[F-1]<<1;for(F=0;F<ue;++F)be=A[F],be!=0&&(pe[F]=de[be+16]++);var Be=0;for(F=0;F<ue;++F)if(Be=A[F],Be!=0)for(be=ot(pe[F],D)>>D-Be,ce=(1<<D+4-Be)-1;ce>=0;--ce)L[be|ce<<Be]=Be&15|F<<4;return D}var Qt=Ce?new Uint16Array(512):ut(512),hr=Ce?new Uint16Array(32):ut(32);if(!Ce){for(var Et=0;Et<512;++Et)Qt[Et]=0;for(Et=0;Et<32;++Et)hr[Et]=0}(function(){for(var A=[],L=0;L<32;L++)A.push(5);Ct(A,hr,32);var O=[];for(L=0;L<=143;L++)O.push(8);for(;L<=255;L++)O.push(9);for(;L<=279;L++)O.push(7);for(;L<=287;L++)O.push(8);Ct(O,Qt,288)})();var An=(function(){for(var L=Ce?new Uint8Array(32768):[],O=0,D=0;O<ve.length-1;++O)for(;D<ve[O+1];++D)L[D]=O;for(;D<32768;++D)L[D]=29;var M=Ce?new Uint8Array(259):[];for(O=0,D=0;O<ie.length-1;++O)for(;D<ie[O+1];++D)M[D]=O;function F(be,ue){for(var de=0;de<be.length;){var pe=Math.min(65535,be.length-de),Be=de+pe==be.length;for(ue.write_shift(1,+Be),ue.write_shift(2,pe),ue.write_shift(2,~pe&65535);pe-- >0;)ue[ue.l++]=be[de++]}return ue.l}function ce(be,ue){for(var de=0,pe=0,Be=Ce?new Uint16Array(32768):[];pe<be.length;){var Ue=Math.min(65535,be.length-pe);if(Ue<10){for(de=We(ue,de,+(pe+Ue==be.length)),de&7&&(de+=8-(de&7)),ue.l=de/8|0,ue.write_shift(2,Ue),ue.write_shift(2,~Ue&65535);Ue-- >0;)ue[ue.l++]=be[pe++];de=ue.l*8;continue}de=We(ue,de,+(pe+Ue==be.length)+2);for(var Ye=0;Ue-- >0;){var Pe=be[pe];Ye=(Ye<<5^Pe)&32767;var Ge=-1,Qe=0;if((Ge=Be[Ye])&&(Ge|=pe&-32768,Ge>pe&&(Ge-=32768),Ge<pe))for(;be[Ge+Qe]==be[pe+Qe]&&Qe<250;)++Qe;if(Qe>2){Pe=M[Qe],Pe<=22?de=ze(ue,de,De[Pe+1]>>1)-1:(ze(ue,de,3),de+=5,ze(ue,de,De[Pe-23]>>5),de+=3);var Zt=Pe<8?0:Pe-4>>2;Zt>0&&(rt(ue,de,Qe-ie[Pe]),de+=Zt),Pe=L[pe-Ge],de=ze(ue,de,De[Pe]>>3),de-=3;var er=Pe<4?0:Pe-2>>1;er>0&&(rt(ue,de,pe-Ge-ve[Pe]),de+=er);for(var or=0;or<Qe;++or)Be[Ye]=pe&32767,Ye=(Ye<<5^be[pe])&32767,++pe;Ue-=Qe-1}else Pe<=143?Pe=Pe+48:de=Me(ue,de,1),de=ze(ue,de,De[Pe]),Be[Ye]=pe&32767,++pe}de=ze(ue,de,0)-1}return ue.l=(de+7)/8|0,ue.l}return function(ue,de){return ue.length<8?F(ue,de):ce(ue,de)}})();function Rr(A){var L=we(50+Math.floor(A.length*1.1)),O=An(A,L);return L.slice(0,O)}var Pa=Ce?new Uint16Array(32768):ut(32768),Fa=Ce?new Uint16Array(32768):ut(32768),ra=Ce?new Uint16Array(128):ut(128),lr=1,mr=1;function Nt(A,L){var O=_e(A,L)+257;L+=5;var D=_e(A,L)+1;L+=5;var M=ne(A,L)+4;L+=4;for(var F=0,ce=Ce?new Uint8Array(19):ut(19),be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,de=Ce?new Uint8Array(8):ut(8),pe=Ce?new Uint8Array(8):ut(8),Be=ce.length,Ue=0;Ue<M;++Ue)ce[G[Ue]]=F=he(A,L),ue<F&&(ue=F),de[F]++,L+=3;var Ye=0;for(de[0]=0,Ue=1;Ue<=ue;++Ue)pe[Ue]=Ye=Ye+de[Ue-1]<<1;for(Ue=0;Ue<Be;++Ue)(Ye=ce[Ue])!=0&&(be[Ue]=pe[Ye]++);var Pe=0;for(Ue=0;Ue<Be;++Ue)if(Pe=ce[Ue],Pe!=0){Ye=De[be[Ue]]>>8-Pe;for(var Ge=(1<<7-Pe)-1;Ge>=0;--Ge)ra[Ye|Ge<<Pe]=Pe&7|Ue<<3}var Qe=[];for(ue=1;Qe.length<O+D;)switch(Ye=ra[te(A,L)],L+=Ye&7,Ye>>>=3){case 16:for(F=3+rr(A,L),L+=2,Ye=Qe[Qe.length-1];F-- >0;)Qe.push(Ye);break;case 17:for(F=3+he(A,L),L+=3;F-- >0;)Qe.push(0);break;case 18:for(F=11+te(A,L),L+=7;F-- >0;)Qe.push(0);break;default:Qe.push(Ye),ue<Ye&&(ue=Ye);break}var Zt=Qe.slice(0,O),er=Qe.slice(O);for(Ue=O;Ue<286;++Ue)Zt[Ue]=0;for(Ue=D;Ue<30;++Ue)er[Ue]=0;return lr=Ct(Zt,Pa,286),mr=Ct(er,Fa,30),L}function Ia(A,L){if(A[0]==3&&!(A[1]&3))return[fi(L),2];for(var O=0,D=0,M=av(L||1<<18),F=0,ce=M.length>>>0,be=0,ue=0;(D&1)==0;){if(D=he(A,O),O+=3,D>>>1)D>>1==1?(be=9,ue=5):(O=Nt(A,O),be=lr,ue=mr);else{O&7&&(O+=8-(O&7));var de=A[O>>>3]|A[(O>>>3)+1]<<8;if(O+=32,de>0)for(!L&&ce<F+de&&(M=Rt(M,F+de),ce=M.length);de-- >0;)M[F++]=A[O>>>3],O+=8;continue}for(;;){!L&&ce<F+32767&&(M=Rt(M,F+32767),ce=M.length);var pe=Xe(A,O,be),Be=D>>>1==1?Qt[pe]:Pa[pe];if(O+=Be&15,Be>>>=4,(Be>>>8&255)===0)M[F++]=Be;else{if(Be==256)break;Be-=257;var Ue=Be<8?0:Be-4>>2;Ue>5&&(Ue=0);var Ye=F+ie[Be];Ue>0&&(Ye+=Xe(A,O,Ue),O+=Ue),pe=Xe(A,O,ue),Be=D>>>1==1?hr[pe]:Fa[pe],O+=Be&15,Be>>>=4;var Pe=Be<4?0:Be-2>>1,Ge=ve[Be];for(Pe>0&&(Ge+=Xe(A,O,Pe),O+=Pe),!L&&ce<Ye&&(M=Rt(M,Ye+100),ce=M.length);F<Ye;)M[F]=M[F-Ge],++F}}}return L?[M,O+7>>>3]:[M.slice(0,F),O+7>>>3]}function ya(A,L){var O=A.slice(A.l||0),D=Ia(O,L);return A.l+=D[1],D[0]}function Ua(A,L){if(A)typeof console<"u"&&console.error(L);else throw new Error(L)}function Fe(A,L){var O=A;ja(O,0);var D=[],M=[],F={FileIndex:D,FullPaths:M};R(F,{root:L.root});for(var ce=O.length-4;(O[ce]!=80||O[ce+1]!=75||O[ce+2]!=5||O[ce+3]!=6)&&ce>=0;)--ce;O.l=ce+4,O.l+=4;var be=O.read_shift(2);O.l+=6;var ue=O.read_shift(4);for(O.l=ue,ce=0;ce<be;++ce){O.l+=20;var de=O.read_shift(4),pe=O.read_shift(4),Be=O.read_shift(2),Ue=O.read_shift(2),Ye=O.read_shift(2);O.l+=8;var Pe=O.read_shift(4),Ge=h(O.slice(O.l+Be,O.l+Be+Ue));O.l+=Be+Ue+Ye;var Qe=O.l;O.l=Pe+4,At(O,de,pe,F,Ge),O.l=Qe}return F}function At(A,L,O,D,M){A.l+=2;var F=A.read_shift(2),ce=A.read_shift(2),be=c(A);if(F&8257)throw new Error("Unsupported ZIP encryption");for(var ue=A.read_shift(4),de=A.read_shift(4),pe=A.read_shift(4),Be=A.read_shift(2),Ue=A.read_shift(2),Ye="",Pe=0;Pe<Be;++Pe)Ye+=String.fromCharCode(A[A.l++]);if(Ue){var Ge=h(A.slice(A.l,A.l+Ue));(Ge[21589]||{}).mt&&(be=Ge[21589].mt),((M||{})[21589]||{}).mt&&(be=M[21589].mt)}A.l+=Ue;var Qe=A.slice(A.l,A.l+de);switch(ce){case 8:Qe=P(A,pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Zt=!1;F&8&&(ue=A.read_shift(4),ue==134695760&&(ue=A.read_shift(4),Zt=!0),de=A.read_shift(4),pe=A.read_shift(4)),de!=L&&Ua(Zt,"Bad compressed size: "+L+" != "+de),pe!=O&&Ua(Zt,"Bad uncompressed size: "+O+" != "+pe),wi(D,Ye,Qe,{unsafe:!0,mt:be})}function se(A,L){var O=L||{},D=[],M=[],F=we(1),ce=O.compression?8:0,be=0,ue=0,de=0,pe=0,Be=0,Ue=A.FullPaths[0],Ye=Ue,Pe=A.FileIndex[0],Ge=[],Qe=0;for(ue=1;ue<A.FullPaths.length;++ue)if(Ye=A.FullPaths[ue].slice(Ue.length),Pe=A.FileIndex[ue],!(!Pe.size||!Pe.content||Ye=="Sh33tJ5")){var Zt=pe,er=we(Ye.length);for(de=0;de<Ye.length;++de)er.write_shift(1,Ye.charCodeAt(de)&127);er=er.slice(0,er.l),Ge[Be]=V8.buf(Pe.content,0);var or=Pe.content;ce==8&&(or=U(or)),F=we(30),F.write_shift(4,67324752),F.write_shift(2,20),F.write_shift(2,be),F.write_shift(2,ce),Pe.mt?o(F,Pe.mt):F.write_shift(4,0),F.write_shift(-4,Ge[Be]),F.write_shift(4,or.length),F.write_shift(4,Pe.content.length),F.write_shift(2,er.length),F.write_shift(2,0),pe+=F.length,D.push(F),pe+=er.length,D.push(er),pe+=or.length,D.push(or),F=we(46),F.write_shift(4,33639248),F.write_shift(2,0),F.write_shift(2,20),F.write_shift(2,be),F.write_shift(2,ce),F.write_shift(4,0),F.write_shift(-4,Ge[Be]),F.write_shift(4,or.length),F.write_shift(4,Pe.content.length),F.write_shift(2,er.length),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(4,0),F.write_shift(4,Zt),Qe+=F.l,M.push(F),Qe+=er.length,M.push(er),++Be}return F=we(22),F.write_shift(4,101010256),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,Be),F.write_shift(2,Be),F.write_shift(4,Qe),F.write_shift(4,pe),F.write_shift(2,0),Yr([Yr(D),Yr(M),F])}var ae={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Re(A,L){if(A.ctype)return A.ctype;var O=A.name||"",D=O.match(/\.([^\.]+)$/);return D&&ae[D[1]]||L&&(D=(O=L).match(/[\.\\]([^\.\\])+$/),D&&ae[D[1]])?ae[D[1]]:"application/octet-stream"}function qe(A){for(var L=qo(A),O=[],D=0;D<L.length;D+=76)O.push(L.slice(D,D+76));return O.join(`\r
`)+`\r
`}function bt(A){var L=A.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var pe=de.charCodeAt(0).toString(16).toUpperCase();return"="+(pe.length==1?"0"+pe:pe)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var O=[],D=L.split(`\r
`),M=0;M<D.length;++M){var F=D[M];if(F.length==0){O.push("");continue}for(var ce=0;ce<F.length;){var be=76,ue=F.slice(ce,ce+be);ue.charAt(be-1)=="="?be--:ue.charAt(be-2)=="="?be-=2:ue.charAt(be-3)=="="&&(be-=3),ue=F.slice(ce,ce+be),ce+=be,ce<F.length&&(ue+="="),O.push(ue)}}return O.join(`\r
`)}function vt(A){for(var L=[],O=0;O<A.length;++O){for(var D=A[O];O<=A.length&&D.charAt(D.length-1)=="=";)D=D.slice(0,D.length-1)+A[++O];L.push(D)}for(var M=0;M<L.length;++M)L[M]=L[M].replace(/[=][0-9A-Fa-f]{2}/g,function(F){return String.fromCharCode(parseInt(F.slice(1),16))});return mn(L.join(`\r
`))}function ar(A,L,O){for(var D="",M="",F="",ce,be=0;be<10;++be){var ue=L[be];if(!ue||ue.match(/^\s*$/))break;var de=ue.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":D=de[2].trim();break;case"content-type":F=de[2].trim();break;case"content-transfer-encoding":M=de[2].trim();break}}switch(++be,M.toLowerCase()){case"base64":ce=mn(Kn(L.slice(be).join("")));break;case"quoted-printable":ce=vt(L.slice(be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+M)}var pe=wi(A,D.slice(O.length),ce,{unsafe:!0});F&&(pe.ctype=F)}function pr(A,L){if(ee(A.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var O=L&&L.root||"",D=(Pt&&Buffer.isBuffer(A)?A.toString("binary"):ee(A)).split(`\r
`),M=0,F="";for(M=0;M<D.length;++M)if(F=D[M],!!/^Content-Location:/i.test(F)&&(F=F.slice(F.indexOf("file")),O||(O=F.slice(0,F.lastIndexOf("/")+1)),F.slice(0,O.length)!=O))for(;O.length>0&&(O=O.slice(0,O.length-1),O=O.slice(0,O.lastIndexOf("/")+1),F.slice(0,O.length)!=O););var ce=(D[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var be="--"+(ce[1]||""),ue=[],de=[],pe={FileIndex:ue,FullPaths:de};R(pe);var Be,Ue=0;for(M=0;M<D.length;++M){var Ye=D[M];Ye!==be&&Ye!==be+"--"||(Ue++&&ar(pe,D.slice(Be,M),O),Be=M)}return pe}function Kt(A,L){var O=L||{},D=O.boundary||"SheetJS";D="------="+D;for(var M=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+D.slice(2)+'"',"","",""],F=A.FullPaths[0],ce=F,be=A.FileIndex[0],ue=1;ue<A.FullPaths.length;++ue)if(ce=A.FullPaths[ue].slice(F.length),be=A.FileIndex[ue],!(!be.size||!be.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qe){return"_x"+Qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qe){return"_u"+Qe.charCodeAt(0).toString(16)+"_"});for(var de=be.content,pe=Pt&&Buffer.isBuffer(de)?de.toString("binary"):ee(de),Be=0,Ue=Math.min(1024,pe.length),Ye=0,Pe=0;Pe<=Ue;++Pe)(Ye=pe.charCodeAt(Pe))>=32&&Ye<128&&++Be;var Ge=Be>=Ue*4/5;M.push(D),M.push("Content-Location: "+(O.root||"file:///C:/SheetJS/")+ce),M.push("Content-Transfer-Encoding: "+(Ge?"quoted-printable":"base64")),M.push("Content-Type: "+Re(be,ce)),M.push(""),M.push(Ge?bt(pe):qe(pe))}return M.push(D+`--\r
`),M.join(`\r
`)}function xi(A){var L={};return R(L,A),L}function wi(A,L,O,D){var M=D&&D.unsafe;M||R(A);var F=!M&&Xt.find(A,L);if(!F){var ce=A.FullPaths[0];L.slice(0,ce.length)==ce?ce=L:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+L).replace("//","/")),F={name:i(L),type:2},A.FileIndex.push(F),A.FullPaths.push(ce),M||Xt.utils.cfb_gc(A)}return F.content=O,F.size=O?O.length:0,D&&(D.CLSID&&(F.clsid=D.CLSID),D.mt&&(F.mt=D.mt),D.ct&&(F.ct=D.ct)),F}function lc(A,L){R(A);var O=Xt.find(A,L);if(O){for(var D=0;D<A.FileIndex.length;++D)if(A.FileIndex[D]==O)return A.FileIndex.splice(D,1),A.FullPaths.splice(D,1),!0}return!1}function jl(A,L,O){R(A);var D=Xt.find(A,L);if(D){for(var M=0;M<A.FileIndex.length;++M)if(A.FileIndex[M]==D)return A.FileIndex[M].name=i(O),A.FullPaths[M]=O,!0}return!1}function Ol(A){Z(A,!0)}return e.find=ge,e.read=Y,e.parse=_,e.write=je,e.writeFile=Ie,e.utils={cfb_new:xi,cfb_add:wi,cfb_del:lc,cfb_mov:jl,cfb_gc:Ol,ReadShift:Oo,CheckField:Yx,prep_blob:ja,bconcat:Yr,use_zlib:C,_deflateRaw:Rr,_inflateRaw:ya,consts:xe},e})();function W8(r){return typeof r=="string"?lf(r):Array.isArray(r)?y8(r):r}function rc(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=lf(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Vo(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([W8(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:r,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=r,c.href=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var h=File(r);return h.open("w"),h.encoding="binary",Array.isArray(e)&&(e=tc(e)),h.write(e),h.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+r)}function Jr(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function fv(r,e){for(var t=[],n=Jr(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function Y0(r){for(var e=[],t=Jr(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function uf(r){for(var e=[],t=Jr(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function Y8(r){for(var e=[],t=Jr(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var Wu=new Date(1899,11,30,0,0,0);function _a(r,e){var t=r.getTime(),n=Wu.getTime()+(r.getTimezoneOffset()-Wu.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var Ox=new Date,X8=Wu.getTime()+(Ox.getTimezoneOffset()-Wu.getTimezoneOffset())*6e4,hv=Ox.getTimezoneOffset();function Dx(r){var e=new Date;return e.setTime(r*24*60*60*1e3+X8),e.getTimezoneOffset()!==hv&&e.setTime(e.getTime()+(e.getTimezoneOffset()-hv)*6e4),e}var dv=new Date("2017-02-19T19:06:09.000Z"),Rx=isNaN(dv.getFullYear())?new Date("2/19/17"):dv,K8=Rx.getFullYear()==2017;function oa(r,e){var t=new Date(r);if(K8)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(Rx.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function ff(r,e){if(Pt&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(o){return t[o]||o})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function va(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=va(r[t]));return e}function yr(r,e){for(var t="";t.length<e;)t+=r;return t}function Wn(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,o){return t=-t,o}),!isNaN(e=Number(n)))?e/t:e}var J8=["january","february","march","april","may","june","july","august","september","october","november","december"];function Go(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),o=e.getDate();if(isNaN(o))return t;var c=r.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&J8.indexOf(c)==-1)return t}else if(c.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||o>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function _t(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Pt?n=Qn(t):n=x8(t),Xt.utils.cfb_add(r,e,n)}Xt.utils.cfb_add(r,e,t)}else r.file(e,t)}function X0(){return Xt.utils.cfb_new()}var Dr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Q8={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K0=Y0(Q8),J0=/[&<>'"]/g,Z8=/[\u0000-\u0008\u000b-\u001f]/g;function qt(r){var e=r+"";return e.replace(J0,function(t){return K0[t]}).replace(Z8,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function mv(r){return qt(r).replace(/ /g,"_x0020_")}var Bx=/[\u0000-\u001f]/g;function eB(r){var e=r+"";return e.replace(J0,function(t){return K0[t]}).replace(/\n/g,"<br/>").replace(Bx,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function tB(r){var e=r+"";return e.replace(J0,function(t){return K0[t]}).replace(Bx,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function rB(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function aB(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $d(r){for(var e="",t=0,n=0,i=0,o=0,c=0,h=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){c=(n&31)<<6,c|=i&63,e+=String.fromCharCode(c);continue}if(o=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63);continue}c=r.charCodeAt(t++),h=((n&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(h>>>10&1023)),e+=String.fromCharCode(56320+(h&1023))}return e}function pv(r){var e=fi(2*r.length),t,n,i=1,o=0,c=0,h;for(n=0;n<r.length;n+=i)i=1,(h=r.charCodeAt(n))<128?t=h:h<224?(t=(h&31)*64+(r.charCodeAt(n+1)&63),i=2):h<240?(t=(h&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(h&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,c=55296+(t>>>10&1023),t=56320+(t&1023)),c!==0&&(e[o++]=c&255,e[o++]=c>>>8,c=0),e[o++]=t%256,e[o++]=t>>>8;return e.slice(0,o).toString("ucs2")}function gv(r){return Qn(r,"binary").toString("utf8")}var Du="foo bar baz",jo=Pt&&(gv(Du)==$d(Du)&&gv||pv(Du)==$d(Du)&&pv)||$d,Vo=Pt?function(r){return Qn(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},nB=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),Mx=/(^\s|\s$|\n)/;function Xr(r,e){return"<"+r+(e.match(Mx)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function Wo(r){return Jr(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function He(r,e,t){return"<"+r+(t!=null?Wo(t):"")+(e!=null?(e.match(Mx)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function y0(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function sB(r,e){switch(typeof r){case"string":var t=He("vt:lpwstr",qt(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return He((r|0)==r?"vt:i4":"vt:r8",qt(String(r)));case"boolean":return He("vt:bool",r?"true":"false")}if(r instanceof Date)return He("vt:filetime",y0(r));throw new Error("Unable to serialize "+r)}var Fr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Al=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Oa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iB(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,o=5;o>=0;--o)i=i*256+r[e+o];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function lB(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,o=0,c=n?-e:e;isFinite(c)?c==0?i=o=0:(i=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(e)?26985:0);for(var h=0;h<=5;++h,o/=256)r[t+h]=o&255;r[t+6]=(i&15)<<4|o&15,r[t+7]=i>>4|n}var _v=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,o=r[0][n].length;i<o;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},vv=Pt?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Qn(e)})):_v(r)}:_v,yv=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(Eo(r,i)));return n.join("").replace(ko,"")},Q0=Pt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(ko,""):yv(r,e,t)}:yv,xv=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},Lx=Pt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):xv(r,e,t)}:xv,wv=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(hl(r,i)));return n.join("")},ac=Pt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):wv(e,t,n)}:wv,Px=function(r,e){var t=Da(r,e);return t>0?ac(r,e+4,e+4+t-1):""},Fx=Px,Ix=function(r,e){var t=Da(r,e);return t>0?ac(r,e+4,e+4+t-1):""},Ux=Ix,Hx=function(r,e){var t=2*Da(r,e);return t>0?ac(r,e+4,e+4+t-1):""},zx=Hx,$x=function(e,t){var n=Da(e,t);return n>0?Q0(e,t+4,t+4+n):""},qx=$x,Gx=function(r,e){var t=Da(r,e);return t>0?ac(r,e+4,e+4+t):""},Vx=Gx,Wx=function(r,e){return iB(r,e)},Yu=Wx,Z0=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Pt&&(Fx=function(e,t){if(!Buffer.isBuffer(e))return Px(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Ux=function(e,t){if(!Buffer.isBuffer(e))return Ix(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},zx=function(e,t){if(!Buffer.isBuffer(e))return Hx(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},qx=function(e,t){if(!Buffer.isBuffer(e))return $x(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},Vx=function(e,t){if(!Buffer.isBuffer(e))return Gx(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Yu=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Wx(e,t)},Z0=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var hl=function(r,e){return r[e]},Eo=function(r,e){return r[e+1]*256+r[e]},oB=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Da=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},ii=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},cB=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Oo(r,e){var t="",n,i,o=[],c,h,d,m;switch(e){case"dbcs":if(m=this.l,Pt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(d=0;d<r;++d)t+=String.fromCharCode(Eo(this,m)),m+=2;r*=2;break;case"utf8":t=ac(this,this.l,this.l+r);break;case"utf16le":r*=2,t=Q0(this,this.l,this.l+r);break;case"wstr":return Oo.call(this,r,"dbcs");case"lpstr-ansi":t=Fx(this,this.l),r=4+Da(this,this.l);break;case"lpstr-cp":t=Ux(this,this.l),r=4+Da(this,this.l);break;case"lpwstr":t=zx(this,this.l),r=4+2*Da(this,this.l);break;case"lpp4":r=4+Da(this,this.l),t=qx(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Da(this,this.l),t=Vx(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(c=hl(this,this.l+r++))!==0;)o.push(ku(c));t=o.join("");break;case"_wstr":for(r=0,t="";(c=Eo(this,this.l+r))!==0;)o.push(ku(c)),r+=2;r+=2,t=o.join("");break;case"dbcs-cont":for(t="",m=this.l,d=0;d<r;++d){if(this.lens&&this.lens.indexOf(m)!==-1)return c=hl(this,m),this.l=m+1,h=Oo.call(this,r-d,c?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(ku(Eo(this,m))),m+=2}t=o.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",m=this.l,d=0;d!=r;++d){if(this.lens&&this.lens.indexOf(m)!==-1)return c=hl(this,m),this.l=m+1,h=Oo.call(this,r-d,c?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(ku(hl(this,m))),m+=1}t=o.join("");break;default:switch(r){case 1:return n=hl(this,this.l),this.l++,n;case 2:return n=(e==="i"?oB:Eo)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?ii:cB)(this,this.l),this.l+=4,n):(i=Da(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=Yu(this,this.l):i=Yu([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=Lx(this,this.l,r);break}}return this.l+=r,t}var uB=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},fB=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},hB=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function dB(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)hB(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var c=e.charCodeAt(i);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,uB(this,e,this.l);break;case 8:if(n=8,t==="f"){lB(this,e,this.l);break}case 16:break;case-4:n=4,fB(this,e,this.l);break}return this.l+=n,this}function Yx(r,e){var t=Lx(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ja(r,e){r.l=e,r.read_shift=Oo,r.chk=Yx,r.write_shift=dB}function En(r,e){r.l+=e}function we(r){var e=fi(r);return ja(e,0),e}function ga(){var r=[],e=Pt?256:2048,t=function(m){var _=we(m);return ja(_,0),_},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},o=function(m){return n&&m<n.length-n.l?n:(i(),n=t(Math.max(m+1,e)))},c=function(){return i(),Yr(r)},h=function(m){i(),n=m,n.l==null&&(n.l=n.length),o(e)};return{next:o,push:h,end:c,_bufs:r}}function ke(r,e,t,n){var i=+e,o;if(!isNaN(i)){n||(n=i9[i].p||(t||[]).length||0),o=1+(i>=128?1:0)+1,n>=128&&++o,n>=16384&&++o,n>=2097152&&++o;var c=r.next(o);i<=127?c.write_shift(1,i):(c.write_shift(1,(i&127)+128),c.write_shift(1,i>>7));for(var h=0;h!=4;++h)if(n>=128)c.write_shift(1,(n&127)+128),n>>=7;else{c.write_shift(1,n);break}n>0&&Z0(t)&&r.push(t)}}function Do(r,e,t){var n=va(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Sv(r,e,t){var n=va(r);return n.s=Do(n.s,e.s,t),n.e=Do(n.e,e.s,t),n}function Ro(r,e){if(r.cRel&&r.c<0)for(r=va(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=va(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Gt(r);return!r.cRel&&r.cRel!=null&&(t=gB(t)),!r.rRel&&r.rRel!=null&&(t=mB(t)),t}function qd(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+ea(r.s.c)+":"+(r.e.cRel?"":"$")+ea(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Kr(r.s.r)+":"+(r.e.rRel?"":"$")+Kr(r.e.r):Ro(r.s,e.biff)+":"+Ro(r.e,e.biff)}function em(r){return parseInt(pB(r),10)-1}function Kr(r){return""+(r+1)}function mB(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pB(r){return r.replace(/\$(\d+)$/,"$1")}function tm(r){for(var e=_B(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function ea(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function gB(r){return r.replace(/^([A-Z])/,"$$$1")}function _B(r){return r.replace(/^\$([A-Z])/,"$1")}function vB(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ir(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Gt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Ma(r){var e=r.indexOf(":");return e==-1?{s:Ir(r),e:Ir(r)}:{s:Ir(r.slice(0,e)),e:Ir(r.slice(e+1))}}function Or(r,e){return typeof e>"u"||typeof e=="number"?Or(r.s,r.e):(typeof r!="string"&&(r=Gt(r)),typeof e!="string"&&(e=Gt(e)),r==e?r:r+":"+e)}function ir(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,o=r.length;for(t=0;n<o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===o||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function bv(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Os(r.z,t?_a(e):e)}catch{}try{return r.w=Os((r.XF||{}).numFmtId||(t?14:0),t?_a(e):e)}catch{return""+e}}function Jn(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?nc[r.v]||r.v:e==null?bv(r,r.v):bv(r,e))}function pi(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function Xx(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,o=r||(i?[]:{}),c=0,h=0;if(o&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var d=typeof n.origin=="string"?Ir(n.origin):n.origin;c=d.r,h=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var _=ir(o["!ref"]);m.s.c=_.s.c,m.s.r=_.s.r,m.e.c=Math.max(m.e.c,_.e.c),m.e.r=Math.max(m.e.r,_.e.r),c==-1&&(m.e.r=c=_.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[v].length;++x)if(!(typeof e[v][x]>"u")){var y={v:e[v][x]},b=c+v,w=h+x;if(m.s.r>b&&(m.s.r=b),m.s.c>w&&(m.s.c=w),m.e.r<b&&(m.e.r=b),m.e.c<w&&(m.e.c=w),e[v][x]&&typeof e[v][x]=="object"&&!Array.isArray(e[v][x])&&!(e[v][x]instanceof Date))y=e[v][x];else if(Array.isArray(y.v)&&(y.f=e[v][x][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||xr[14],n.cellDates?(y.t="d",y.w=Os(y.z,_a(y.v))):(y.t="n",y.v=_a(y.v),y.w=Os(y.z,y.v))):y.t="s";if(i)o[b]||(o[b]=[]),o[b][w]&&o[b][w].z&&(y.z=o[b][w].z),o[b][w]=y;else{var S=Gt({c:w,r:b});o[S]&&o[S].z&&(y.z=o[S].z),o[S]=y}}}return m.s.c<1e7&&(o["!ref"]=Or(m)),o}function Cl(r,e){return Xx(null,r,e)}function yB(r){return r.read_shift(4,"i")}function gn(r,e){return e||(e=we(4)),e.write_shift(4,r),e}function ta(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Ur(r,e){var t=!1;return e==null&&(t=!0,e=we(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function xB(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function wB(r,e){return e||(e=we(4)),e.write_shift(2,0),e.write_shift(2,0),e}function rm(r,e){var t=r.l,n=r.read_shift(1),i=ta(r),o=[],c={t:i,h:i};if((n&1)!==0){for(var h=r.read_shift(4),d=0;d!=h;++d)o.push(xB(r));c.r=o}else c.r=[{ich:0,ifnt:0}];return r.l=t+e,c}function SB(r,e){var t=!1;return e==null&&(t=!0,e=we(15+4*r.t.length)),e.write_shift(1,0),Ur(r.t,e),t?e.slice(0,e.l):e}var bB=rm;function TB(r,e){var t=!1;return e==null&&(t=!0,e=we(23+4*r.t.length)),e.write_shift(1,1),Ur(r.t,e),e.write_shift(4,1),wB({},e),t?e.slice(0,e.l):e}function rn(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function gi(r,e){return e==null&&(e=we(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function _i(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function vi(r,e){return e==null&&(e=we(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var EB=ta,Kx=Ur;function am(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function Xu(r,e){var t=!1;return e==null&&(t=!0,e=we(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var AB=ta,x0=am,nm=Xu;function Jx(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?Yu([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ii(e,0)>>2;return t?i/100:i}function Qx(r,e){e==null&&(e=we(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function Zx(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function CB(r,e){return e||(e=we(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var yi=Zx,Nl=CB;function kl(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function hi(r,e){return(e||we(8)).write_shift(8,r,"f")}function NB(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),o=r.read_shift(2,"i"),c=r.read_shift(1),h=r.read_shift(1),d=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var m=PB[i];m&&(e.rgb=Bv(m));break;case 2:e.rgb=Bv([c,h,d]);break;case 3:e.theme=i;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function Ku(r,e){if(e||(e=we(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function kB(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function jB(r,e){e||(e=we(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var ew=2,ka=3,Ru=11,Ju=19,Bu=64,OB=65,DB=71,RB=4108,BB=4126,Wr=80,Tv={1:{n:"CodePage",t:ew},2:{n:"Category",t:Wr},3:{n:"PresentationFormat",t:Wr},4:{n:"ByteCount",t:ka},5:{n:"LineCount",t:ka},6:{n:"ParagraphCount",t:ka},7:{n:"SlideCount",t:ka},8:{n:"NoteCount",t:ka},9:{n:"HiddenCount",t:ka},10:{n:"MultimediaClipCount",t:ka},11:{n:"ScaleCrop",t:Ru},12:{n:"HeadingPairs",t:RB},13:{n:"TitlesOfParts",t:BB},14:{n:"Manager",t:Wr},15:{n:"Company",t:Wr},16:{n:"LinksUpToDate",t:Ru},17:{n:"CharacterCount",t:ka},19:{n:"SharedDoc",t:Ru},22:{n:"HyperlinksChanged",t:Ru},23:{n:"AppVersion",t:ka,p:"version"},24:{n:"DigSig",t:OB},26:{n:"ContentType",t:Wr},27:{n:"ContentStatus",t:Wr},28:{n:"Language",t:Wr},29:{n:"Version",t:Wr},255:{},2147483648:{n:"Locale",t:Ju},2147483651:{n:"Behavior",t:Ju},1919054434:{}},Ev={1:{n:"CodePage",t:ew},2:{n:"Title",t:Wr},3:{n:"Subject",t:Wr},4:{n:"Author",t:Wr},5:{n:"Keywords",t:Wr},6:{n:"Comments",t:Wr},7:{n:"Template",t:Wr},8:{n:"LastAuthor",t:Wr},9:{n:"RevNumber",t:Wr},10:{n:"EditTime",t:Bu},11:{n:"LastPrinted",t:Bu},12:{n:"CreatedDate",t:Bu},13:{n:"ModifiedDate",t:Bu},14:{n:"PageCount",t:ka},15:{n:"WordCount",t:ka},16:{n:"CharCount",t:ka},17:{n:"Thumbnail",t:DB},18:{n:"Application",t:Wr},19:{n:"DocSecurity",t:ka},255:{},2147483648:{n:"Locale",t:Ju},2147483651:{n:"Behavior",t:Ju},1919054434:{}};function MB(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var LB=MB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),PB=va(LB),nc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function tw(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rw(r,e){var t=Y8(FB),n=[],i;n[n.length]=Dr,n[n.length]=He("Types",null,{xmlns:Fr.CT,"xmlns:xsd":Fr.xsd,"xmlns:xsi":Fr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return He("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){r[d]&&r[d].length>0&&(i=r[d][0],n[n.length]=He("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mu[d][e.bookType]||Mu[d].xlsx}))},c=function(d){(r[d]||[]).forEach(function(m){n[n.length]=He("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:Mu[d][e.bookType]||Mu[d].xlsx})})},h=function(d){(r[d]||[]).forEach(function(m){n[n.length]=He("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:t[d][0]})})};return o("workbooks"),c("sheets"),c("charts"),h("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(h),h("vba"),h("comments"),h("threadedcomments"),h("drawings"),c("metadata"),h("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ot={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function aw(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function gl(r){var e=[Dr,He("Relationships",null,{xmlns:Fr.RELS})];return Jr(r["!id"]).forEach(function(t){e[e.length]=He("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function $t(r,e,t,n,i,o){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[Ot.HLINK,Ot.XPATH,Ot.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function IB(r){var e=[Dr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Av(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function UB(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function HB(r){var e=[Dr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(Av(r[t][0],r[t][1])),e.push(UB("",r[t][0]));return e.push(Av("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function nw(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zu.version+"</meta:generator></office:meta></office:document-meta>"}var ui=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Gd(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=qt(e),n[n.length]=t?He(r,e,t):Xr(r,e))}function sw(r,e){var t=e||{},n=[Dr,He("cp:coreProperties",null,{"xmlns:cp":Fr.CORE_PROPS,"xmlns:dc":Fr.dc,"xmlns:dcterms":Fr.dcterms,"xmlns:dcmitype":Fr.dcmitype,"xmlns:xsi":Fr.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Gd("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:y0(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Gd("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:y0(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var o=0;o!=ui.length;++o){var c=ui[o],h=t.Props&&t.Props[c[1]]!=null?t.Props[c[1]]:r?r[c[1]]:null;h===!0?h="1":h===!1?h="0":typeof h=="number"&&(h=String(h)),h!=null&&Gd(c[0],h,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var _l=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iw=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lw(r){var e=[],t=He;return r||(r={}),r.Application="SheetJS",e[e.length]=Dr,e[e.length]=He("Properties",null,{xmlns:Fr.EXT_PROPS,"xmlns:vt":Fr.vt}),_l.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=qt(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+qt(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function ow(r){var e=[Dr,He("Properties",null,{xmlns:Fr.CUST_PROPS,"xmlns:vt":Fr.vt})];if(!r)return e.join("");var t=1;return Jr(r).forEach(function(i){++t,e[e.length]=He("property",sB(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:qt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Cv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function zB(r,e){var t=[];return Jr(Cv).map(function(n){for(var i=0;i<ui.length;++i)if(ui[i][1]==n)return ui[i];for(i=0;i<_l.length;++i)if(_l[i][1]==n)return _l[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Xr(Cv[n[1]]||n[1],i))}}),He("DocumentProperties",t.join(""),{xmlns:Oa.o})}function $B(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&Jr(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)){for(var c=0;c<ui.length;++c)if(o==ui[c][1])return;for(c=0;c<_l.length;++c)if(o==_l[c][1])return;for(c=0;c<t.length;++c)if(o==t[c])return;var h=r[o],d="string";typeof h=="number"?(d="float",h=String(h)):h===!0||h===!1?(d="boolean",h=h?"1":"0"):h=String(h),i.push(He(mv(o),h,{"dt:dt":d}))}}),e&&Jr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(r&&Object.prototype.hasOwnProperty.call(r,o))){var c=e[o],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c instanceof Date?(h="dateTime.tz",c=c.toISOString()):c=String(c),i.push(He(mv(o),c,{"dt:dt":h}))}}),"<"+n+' xmlns="'+Oa.o+'">'+i.join("")+"</"+n+">"}function qB(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var o=n/Math.pow(2,32)|0;o>0&&(n=n%Math.pow(2,32),i+=o);var c=we(8);return c.write_shift(4,n),c.write_shift(4,i),c}function Nv(r,e){var t=we(4),n=we(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=we(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=qB(e);break;case 31:case 80:for(n=we(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Yr([t,n])}var cw=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function GB(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function kv(r,e,t){var n=we(8),i=[],o=[],c=8,h=0,d=we(8),m=we(8);if(d.write_shift(4,2),d.write_shift(4,1200),m.write_shift(4,1),o.push(d),i.push(m),c+=8+d.length,!e){m=we(8),m.write_shift(4,0),i.unshift(m);var _=[we(4)];for(_[0].write_shift(4,r.length),h=0;h<r.length;++h){var v=r[h][0];for(d=we(8+2*(v.length+1)+(v.length%2?0:2)),d.write_shift(4,h+2),d.write_shift(4,v.length+1),d.write_shift(0,v,"dbcs");d.l!=d.length;)d.write_shift(1,0);_.push(d)}d=Yr(_),o.unshift(d),c+=8+d.length}for(h=0;h<r.length;++h)if(!(e&&!e[r[h][0]])&&!(cw.indexOf(r[h][0])>-1||iw.indexOf(r[h][0])>-1)&&r[h][1]!=null){var x=r[h][1],y=0;if(e){y=+e[r[h][0]];var b=t[y];if(b.p=="version"&&typeof x=="string"){var w=x.split(".");x=(+w[0]<<16)+(+w[1]||0)}d=Nv(b.t,x)}else{var S=GB(x);S==-1&&(S=31,x=String(x)),d=Nv(S,x)}o.push(d),m=we(8),m.write_shift(4,e?y:2+h),i.push(m),c+=8+d.length}var j=8*(o.length+1);for(h=0;h<o.length;++h)i[h].write_shift(4,j),j+=o[h].length;return n.write_shift(4,c),n.write_shift(4,o.length),Yr([n].concat(i).concat(o))}function jv(r,e,t,n,i,o){var c=we(i?68:48),h=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Xt.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,i?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,i?68:48);var d=kv(r,t,n);if(h.push(d),i){var m=kv(i,null,null);c.write_shift(16,o,"hex"),c.write_shift(4,68+d.length),h.push(m)}return Yr(h)}function VB(r,e){e||(e=we(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function WB(r,e){return r.read_shift(e)===1}function la(r,e){return e||(e=we(2)),e.write_shift(2,+!!r),e}function uw(r){return r.read_shift(2,"u")}function en(r,e){return e||(e=we(2)),e.write_shift(2,r),e}function fw(r,e,t){return t||(t=we(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function hw(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var o=r.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var c=n?r.read_shift(n,i):"";return c}function YB(r){var e=r.t||"",t=we(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=we(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return Yr(i)}function XB(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function KB(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):XB(r,n,t)}function JB(r,e,t){if(t.biff>5)return KB(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function dw(r,e,t){return t||(t=we(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function Ov(r,e){e||(e=we(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function QB(r){var e=we(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),o=i>-1?31:23;switch(n.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var c=[8,6815827,6619237,4849780,83];for(t=0;t<c.length;++t)e.write_shift(4,c[t]);if(o==28)n=n.slice(1),Ov(n,e);else if(o&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));var h=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(h.length+1)),t=0;t<h.length;++t)e.write_shift(2,h.charCodeAt(t));e.write_shift(2,0),o&8&&Ov(i>-1?n.slice(i+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),t=0;t<n.length-3*d;++t)e.write_shift(1,n.charCodeAt(t+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function di(r,e,t,n){return n||(n=we(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function ZB(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),o=r.read_shift(n,"i"),c=r.read_shift(n,"i");return[i,o,c]}function e7(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function mw(r,e){return e||(e=we(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function sm(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=we(i);return o.write_shift(2,n),o.write_shift(2,e),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function t7(r,e){var t=!e||e.biff==8,n=we(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function r7(r,e){var t=!e||e.biff>=8?2:1,n=we(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function a7(r,e){var t=we(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=YB(r[i]);var o=Yr([t].concat(n));return o.parts=[t.length].concat(n.map(function(c){return c.length})),o}function n7(){var r=we(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function s7(r){var e=we(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function i7(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,o=we(i);return o.write_shift(2,r.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),n||o.write_shift(1,1),o.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),o}function l7(r,e,t,n){var i=we(10);return di(r,e,n,i),i.write_shift(4,t),i}function o7(r,e,t,n,i){var o=!i||i.biff==8,c=we(8+ +o+(1+o)*t.length);return di(r,e,n,c),c.write_shift(2,t.length),o&&c.write_shift(1,1),c.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),c}function c7(r,e,t,n){var i=t&&t.biff==5;n||(n=we(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var o=n.length>n.l?n.slice(0,n.l):n;return o.l==null&&(o.l=o.length),o}function u7(r,e){var t=e.biff==8||!e.biff?4:2,n=we(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function Dv(r,e,t,n){var i=t&&t.biff==5;n||(n=we(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var o=0;return r.numFmtId>0&&i&&(o|=1024),n.write_shift(4,o),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function f7(r){var e=we(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function h7(r,e,t,n,i,o){var c=we(8);return di(r,e,n,c),fw(t,o,c),c}function d7(r,e,t,n){var i=we(14);return di(r,e,n,i),hi(t,i),i}function m7(r,e,t){if(t.biff<8)return p7(r,e,t);for(var n=[],i=r.l+e,o=r.read_shift(t.biff>8?4:2);o--!==0;)n.push(ZB(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function p7(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=hw(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function g7(r){var e=we(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)mw(r[t],e);return e}function _7(r){var e=we(24),t=Ir(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Yr([e,QB(r[1])])}function v7(r){var e=r[1].Tooltip,t=we(10+2*(e.length+1));t.write_shift(2,2048);var n=Ir(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function y7(r){return r||(r=we(4)),r.write_shift(2,1),r.write_shift(2,1),r}function x7(r,e,t){if(!t.cellStyles)return En(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),o=r.read_shift(n),c=r.read_shift(n),h=r.read_shift(n),d=r.read_shift(2);n==2&&(r.l+=2);var m={s:i,e:o,w:c,ixfe:h,flags:d};return(t.biff>=5||!t.biff)&&(m.level=d>>8&7),m}function w7(r,e){var t=we(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function S7(r){for(var e=we(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function b7(r,e,t){var n=we(15);return ic(n,r,e),n.write_shift(8,t,"f"),n}function T7(r,e,t){var n=we(9);return ic(n,r,e),n.write_shift(2,t),n}var E7=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Y0({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(h,d){var m=[],_=fi(1);switch(d.type){case"base64":_=mn(Kn(h));break;case"binary":_=mn(h);break;case"buffer":case"array":_=h;break}ja(_,0);var v=_.read_shift(1),x=!!(v&136),y=!1,b=!1;switch(v){case 2:break;case 3:break;case 48:y=!0,x=!0;break;case 49:y=!0,x=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var w=0,S=521;v==2&&(w=_.read_shift(2)),_.l+=3,v!=2&&(w=_.read_shift(4)),w>1048576&&(w=1e6),v!=2&&(S=_.read_shift(2));var j=_.read_shift(2),E=d.codepage||1252;v!=2&&(_.l+=16,_.read_shift(1),_[_.l]!==0&&(E=r[_[_.l]]),_.l+=1,_.l+=2),b&&(_.l+=36);for(var N=[],B={},X=Math.min(_.length,v==2?521:S-10-(y?264:0)),Y=b?32:11;_.l<X&&_[_.l]!=13;)switch(B={},B.name=$u.utils.decode(E,_.slice(_.l,_.l+Y)).replace(/[\u0000\r\n].*$/g,""),_.l+=Y,B.type=String.fromCharCode(_.read_shift(1)),v!=2&&!b&&(B.offset=_.read_shift(4)),B.len=_.read_shift(1),v==2&&(B.offset=_.read_shift(2)),B.dec=_.read_shift(1),B.name.length&&N.push(B),v!=2&&(_.l+=b?13:14),B.type){case"B":(!y||B.len!=8)&&d.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(_[_.l]!==13&&(_.l=S-1),_.read_shift(1)!==13)throw new Error("DBF Terminator not found "+_.l+" "+_[_.l]);_.l=S;var R=0,J=0;for(m[0]=[],J=0;J!=N.length;++J)m[0][J]=N[J].name;for(;w-- >0;){if(_[_.l]===42){_.l+=j;continue}for(++_.l,m[++R]=[],J=0,J=0;J!=N.length;++J){var Z=_.slice(_.l,_.l+N[J].len);_.l+=N[J].len,ja(Z,0);var fe=$u.utils.decode(E,Z);switch(N[J].type){case"C":fe.trim().length&&(m[R][J]=fe.replace(/\s+$/,""));break;case"D":fe.length===8?m[R][J]=new Date(+fe.slice(0,4),+fe.slice(4,6)-1,+fe.slice(6,8)):m[R][J]=fe;break;case"F":m[R][J]=parseFloat(fe.trim());break;case"+":case"I":m[R][J]=b?Z.read_shift(-4,"i")^2147483648:Z.read_shift(4,"i");break;case"L":switch(fe.trim().toUpperCase()){case"Y":case"T":m[R][J]=!0;break;case"N":case"F":m[R][J]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+fe+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));m[R][J]="##MEMO##"+(b?parseInt(fe.trim(),10):Z.read_shift(4));break;case"N":fe=fe.replace(/\u0000/g,"").trim(),fe&&fe!="."&&(m[R][J]=+fe||0);break;case"@":m[R][J]=new Date(Z.read_shift(-8,"f")-621356832e5);break;case"T":m[R][J]=new Date((Z.read_shift(4)-2440588)*864e5+Z.read_shift(4));break;case"Y":m[R][J]=Z.read_shift(4,"i")/1e4+Z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[R][J]=-Z.read_shift(-8,"f");break;case"B":if(y&&N[J].len==8){m[R][J]=Z.read_shift(8,"f");break}case"G":case"P":Z.l+=N[J].len;break;case"0":if(N[J].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[J].type)}}}if(v!=2&&_.l<_.length&&_[_.l++]!=26)throw new Error("DBF EOF Marker missing "+(_.l-1)+" of "+_.length+" "+_[_.l-1].toString(16));return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),d.DBF=N,m}function n(h,d){var m=d||{};m.dateNF||(m.dateNF="yyyymmdd");var _=Cl(t(h,m),m);return _["!cols"]=m.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete m.DBF,_}function i(h,d){try{return pi(n(h,d),d)}catch(m){if(d&&d.WTF)throw m}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(h,d){var m=d||{};if(+m.codepage>=0&&$o(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var _=ga(),v=rf(h,{header:1,raw:!0,cellDates:!0}),x=v[0],y=v.slice(1),b=h["!cols"]||[],w=0,S=0,j=0,E=1;for(w=0;w<x.length;++w){if(((b[w]||{}).DBF||{}).name){x[w]=b[w].DBF.name,++j;continue}if(x[w]!=null){if(++j,typeof x[w]=="number"&&(x[w]=x[w].toString(10)),typeof x[w]!="string")throw new Error("DBF Invalid column name "+x[w]+" |"+typeof x[w]+"|");if(x.indexOf(x[w])!==w){for(S=0;S<1024;++S)if(x.indexOf(x[w]+"_"+S)==-1){x[w]+="_"+S;break}}}}var N=ir(h["!ref"]),B=[],X=[],Y=[];for(w=0;w<=N.e.c-N.s.c;++w){var R="",J="",Z=0,fe=[];for(S=0;S<y.length;++S)y[S][w]!=null&&fe.push(y[S][w]);if(fe.length==0||x[w]==null){B[w]="?";continue}for(S=0;S<fe.length;++S){switch(typeof fe[S]){case"number":J="B";break;case"string":J="C";break;case"boolean":J="L";break;case"object":J=fe[S]instanceof Date?"D":"C";break;default:J="C"}Z=Math.max(Z,String(fe[S]).length),R=R&&R!=J?"C":J}Z>250&&(Z=250),J=((b[w]||{}).DBF||{}).type,J=="C"&&b[w].DBF.len>Z&&(Z=b[w].DBF.len),R=="B"&&J=="N"&&(R="N",Y[w]=b[w].DBF.dec,Z=b[w].DBF.len),X[w]=R=="C"||J=="N"?Z:o[R]||0,E+=X[w],B[w]=R}var ge=_.next(32);for(ge.write_shift(4,318902576),ge.write_shift(4,y.length),ge.write_shift(2,296+32*j),ge.write_shift(2,E),w=0;w<4;++w)ge.write_shift(4,0);for(ge.write_shift(4,0|(+e[gx]||3)<<8),w=0,S=0;w<x.length;++w)if(x[w]!=null){var H=_.next(32),Ee=(x[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,Ee,"sbcs"),H.write_shift(1,B[w]=="?"?"C":B[w],"sbcs"),H.write_shift(4,S),H.write_shift(1,X[w]||o[B[w]]||0),H.write_shift(1,Y[w]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),S+=X[w]||o[B[w]]||0}var Ve=_.next(264);for(Ve.write_shift(4,13),w=0;w<65;++w)Ve.write_shift(4,0);for(w=0;w<y.length;++w){var Te=_.next(E);for(Te.write_shift(1,0),S=0;S<x.length;++S)if(x[S]!=null)switch(B[S]){case"L":Te.write_shift(1,y[w][S]==null?63:y[w][S]?84:70);break;case"B":Te.write_shift(8,y[w][S]||0,"f");break;case"N":var W="0";for(typeof y[w][S]=="number"&&(W=y[w][S].toFixed(Y[S]||0)),j=0;j<X[S]-W.length;++j)Te.write_shift(1,32);Te.write_shift(1,W,"sbcs");break;case"D":y[w][S]?(Te.write_shift(4,("0000"+y[w][S].getFullYear()).slice(-4),"sbcs"),Te.write_shift(2,("00"+(y[w][S].getMonth()+1)).slice(-2),"sbcs"),Te.write_shift(2,("00"+y[w][S].getDate()).slice(-2),"sbcs")):Te.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(y[w][S]!=null?y[w][S]:"").slice(0,X[S]);for(Te.write_shift(1,xe,"sbcs"),j=0;j<X[S]-xe.length;++j)Te.write_shift(1,32);break}}return _.next(1).write_shift(1,26),_.end()}return{to_workbook:i,to_sheet:n,from_sheet:c}})(),A7=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Jr(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(x,y){var b=r[y];return typeof b=="number"?rv(b):b},n=function(x,y,b){var w=y.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?x:rv(w)};r["|"]=254;function i(x,y){switch(y.type){case"base64":return o(Kn(x),y);case"binary":return o(x,y);case"buffer":return o(Pt&&Buffer.isBuffer(x)?x.toString("binary"):tc(x),y);case"array":return o(ff(x),y)}throw new Error("Unrecognized type "+y.type)}function o(x,y){var b=x.split(/[\n\r]+/),w=-1,S=-1,j=0,E=0,N=[],B=[],X=null,Y={},R=[],J=[],Z=[],fe=0,ge;for(+y.codepage>=0&&$o(+y.codepage);j!==b.length;++j){fe=0;var H=b[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),Ee=H.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),Ve=Ee[0],Te;if(H.length>0)switch(Ve){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Ee[1].charAt(0)=="P"&&B.push(H.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,xe=!1,Ie=!1,ee=!1,je=-1,I=-1;for(E=1;E<Ee.length;++E)switch(Ee[E].charAt(0)){case"A":break;case"X":S=parseInt(Ee[E].slice(1))-1,xe=!0;break;case"Y":for(w=parseInt(Ee[E].slice(1))-1,xe||(S=0),ge=N.length;ge<=w;++ge)N[ge]=[];break;case"K":Te=Ee[E].slice(1),Te.charAt(0)==='"'?Te=Te.slice(1,Te.length-1):Te==="TRUE"?Te=!0:Te==="FALSE"?Te=!1:isNaN(Wn(Te))?isNaN(Go(Te).getDate())||(Te=oa(Te)):(Te=Wn(Te),X!==null&&Nx(X)&&(Te=Dx(Te))),W=!0;break;case"E":ee=!0;var C=TM(Ee[E].slice(1),{r:w,c:S});N[w][S]=[N[w][S],C];break;case"S":Ie=!0,N[w][S]=[N[w][S],"S5S"];break;case"G":break;case"R":je=parseInt(Ee[E].slice(1))-1;break;case"C":I=parseInt(Ee[E].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+H)}if(W&&(N[w][S]&&N[w][S].length==2?N[w][S][0]=Te:N[w][S]=Te,X=null),Ie){if(ee)throw new Error("SYLK shared formula cannot have own formula");var P=je>-1&&N[je][I];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");N[w][S][1]=EM(P[1],{r:w-je,c:S-I})}break;case"F":var U=0;for(E=1;E<Ee.length;++E)switch(Ee[E].charAt(0)){case"X":S=parseInt(Ee[E].slice(1))-1,++U;break;case"Y":for(w=parseInt(Ee[E].slice(1))-1,ge=N.length;ge<=w;++ge)N[ge]=[];break;case"M":fe=parseInt(Ee[E].slice(1))/20;break;case"F":break;case"G":break;case"P":X=B[parseInt(Ee[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Z=Ee[E].slice(1).split(" "),ge=parseInt(Z[0],10);ge<=parseInt(Z[1],10);++ge)fe=parseInt(Z[2],10),J[ge-1]=fe===0?{hidden:!0}:{wch:fe},im(J[ge-1]);break;case"C":S=parseInt(Ee[E].slice(1))-1,J[S]||(J[S]={});break;case"R":w=parseInt(Ee[E].slice(1))-1,R[w]||(R[w]={}),fe>0?(R[w].hpt=fe,R[w].hpx=yw(fe)):fe===0&&(R[w].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+H)}U<1&&(X=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+H)}}return R.length>0&&(Y["!rows"]=R),J.length>0&&(Y["!cols"]=J),y&&y.sheetRows&&(N=N.slice(0,y.sheetRows)),[N,Y]}function c(x,y){var b=i(x,y),w=b[0],S=b[1],j=Cl(w,y);return Jr(S).forEach(function(E){j[E]=S[E]}),j}function h(x,y){return pi(c(x,y),y)}function d(x,y,b,w){var S="C;Y"+(b+1)+";X"+(w+1)+";K";switch(x.t){case"n":S+=x.v||0,x.f&&!x.F&&(S+=";E"+om(x.f,{r:b,c:w}));break;case"b":S+=x.v?"TRUE":"FALSE";break;case"e":S+=x.w||x.v;break;case"d":S+='"'+(x.w||x.v)+'"';break;case"s":S+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function m(x,y){y.forEach(function(b,w){var S="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?S+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Qu(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Zu(b.wpx)),typeof b.wch=="number"&&(S+=Math.round(b.wch))),S.charAt(S.length-1)!=" "&&x.push(S)})}function _(x,y){y.forEach(function(b,w){var S="F;";b.hidden?S+="M0;":b.hpt?S+="M"+20*b.hpt+";":b.hpx&&(S+="M"+20*ef(b.hpx)+";"),S.length>2&&x.push(S+"R"+(w+1))})}function v(x,y){var b=["ID;PWXL;N;E"],w=[],S=ir(x["!ref"]),j,E=Array.isArray(x),N=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),x["!cols"]&&m(b,x["!cols"]),x["!rows"]&&_(b,x["!rows"]),b.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var B=S.s.r;B<=S.e.r;++B)for(var X=S.s.c;X<=S.e.c;++X){var Y=Gt({r:B,c:X});j=E?(x[B]||[])[X]:x[Y],!(!j||j.v==null&&(!j.f||j.F))&&w.push(d(j,x,B,X))}return b.join(N)+N+w.join(N)+N+"E"+N}return{to_workbook:h,to_sheet:c,from_sheet:v}})(),C7=(function(){function r(o,c){switch(c.type){case"base64":return e(Kn(o),c);case"binary":return e(o,c);case"buffer":return e(Pt&&Buffer.isBuffer(o)?o.toString("binary"):tc(o),c);case"array":return e(ff(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var h=o.split(`
`),d=-1,m=-1,_=0,v=[];_!==h.length;++_){if(h[_].trim()==="BOT"){v[++d]=[],m=0;continue}if(!(d<0)){var x=h[_].trim().split(","),y=x[0],b=x[1];++_;for(var w=h[_]||"";(w.match(/["]/g)||[]).length&1&&_<h.length-1;)w+=`
`+h[++_];switch(w=w.trim(),+y){case-1:if(w==="BOT"){v[++d]=[],m=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?v[d][m]=!0:w==="FALSE"?v[d][m]=!1:isNaN(Wn(b))?isNaN(Go(b).getDate())?v[d][m]=b:v[d][m]=oa(b):v[d][m]=Wn(b),++m;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),v[d][m++]=w!==""?w:null;break}if(w==="EOD")break}}return c&&c.sheetRows&&(v=v.slice(0,c.sheetRows)),v}function t(o,c){return Cl(r(o,c),c)}function n(o,c){return pi(t(o,c),c)}var i=(function(){var o=function(d,m,_,v,x){d.push(m),d.push(_+","+v),d.push('"'+x.replace(/"/g,'""')+'"')},c=function(d,m,_,v){d.push(m+","+_),d.push(m==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(d){var m=[],_=ir(d["!ref"]),v,x=Array.isArray(d);o(m,"TABLE",0,1,"sheetjs"),o(m,"VECTORS",0,_.e.r-_.s.r+1,""),o(m,"TUPLES",0,_.e.c-_.s.c+1,""),o(m,"DATA",0,0,"");for(var y=_.s.r;y<=_.e.r;++y){c(m,-1,0,"BOT");for(var b=_.s.c;b<=_.e.c;++b){var w=Gt({r:y,c:b});if(v=x?(d[y]||[])[b]:d[w],!v){c(m,1,0,"");continue}switch(v.t){case"n":var S=v.w;!S&&v.v!=null&&(S=v.v),S==null?v.f&&!v.F?c(m,1,0,"="+v.f):c(m,1,0,""):c(m,0,S,"V");break;case"b":c(m,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":c(m,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Os(v.z||xr[14],_a(oa(v.v)))),c(m,0,v.w,"V");break;default:c(m,1,0,"")}}}c(m,-1,0,"EOD");var j=`\r
`,E=m.join(j);return E}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),pw=(function(){function r(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(v,x){for(var y=v.split(`
`),b=-1,w=-1,S=0,j=[];S!==y.length;++S){var E=y[S].trim().split(":");if(E[0]==="cell"){var N=Ir(E[1]);if(j.length<=N.r)for(b=j.length;b<=N.r;++b)j[b]||(j[b]=[]);switch(b=N.r,w=N.c,E[2]){case"t":j[b][w]=r(E[3]);break;case"v":j[b][w]=+E[3];break;case"vtf":var B=E[E.length-1];case"vtc":switch(E[3]){case"nl":j[b][w]=!!+E[4];break;default:j[b][w]=+E[4];break}E[2]=="vtf"&&(j[b][w]=[j[b][w],B])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function n(v,x){return Cl(t(v,x),x)}function i(v,x){return pi(n(v,x),x)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,h=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function m(v){if(!v||!v["!ref"])return"";for(var x=[],y=[],b,w="",S=Ma(v["!ref"]),j=Array.isArray(v),E=S.s.r;E<=S.e.r;++E)for(var N=S.s.c;N<=S.e.c;++N)if(w=Gt({r:E,c:N}),b=j?(v[E]||[])[N]:v[w],!(!b||b.v==null||b.t==="z")){switch(y=["cell",w,"t"],b.t){case"s":case"str":y.push(e(b.v));break;case"n":b.f?(y[2]="vtf",y[3]="n",y[4]=b.v,y[5]=e(b.f)):(y[2]="v",y[3]=b.v);break;case"b":y[2]="vt"+(b.f?"f":"c"),y[3]="nl",y[4]=b.v?"1":"0",y[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var B=_a(oa(b.v));y[2]="vtc",y[3]="nd",y[4]=""+B,y[5]=b.w||Os(b.z||xr[14],B);break;case"e":continue}x.push(y.join(":"))}return x.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function _(v){return[o,c,h,c,m(v),d].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:_}})(),N7=(function(){function r(_,v,x,y,b){b.raw?v[x][y]=_:_===""||(_==="TRUE"?v[x][y]=!0:_==="FALSE"?v[x][y]=!1:isNaN(Wn(_))?isNaN(Go(_).getDate())?v[x][y]=_:v[x][y]=oa(_):v[x][y]=Wn(_))}function e(_,v){var x=v||{},y=[];if(!_||_.length===0)return y;for(var b=_.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var S=10,j=0,E=0;E<=w;++E)j=b[E].indexOf(" "),j==-1?j=b[E].length:j++,S=Math.max(S,j);for(E=0;E<=w;++E){y[E]=[];var N=0;for(r(b[E].slice(0,S).trim(),y,E,N,x),N=1;N<=(b[E].length-S)/10+1;++N)r(b[E].slice(S+(N-1)*10,S+N*10).trim(),y,E,N,x)}return x.sheetRows&&(y=y.slice(0,x.sheetRows)),y}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(_){for(var v={},x=!1,y=0,b=0;y<_.length;++y)(b=_.charCodeAt(y))==34?x=!x:!x&&b in t&&(v[b]=(v[b]||0)+1);b=[];for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&b.push([v[y],y]);if(!b.length){v=n;for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&b.push([v[y],y])}return b.sort(function(w,S){return w[0]-S[0]||n[w[1]]-n[S[1]]}),t[b.pop()[1]]||44}function o(_,v){var x=v||{},y="",b=x.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};_.slice(0,4)=="sep="?_.charCodeAt(5)==13&&_.charCodeAt(6)==10?(y=_.charAt(4),_=_.slice(7)):_.charCodeAt(5)==13||_.charCodeAt(5)==10?(y=_.charAt(4),_=_.slice(6)):y=i(_.slice(0,1024)):x&&x.FS?y=x.FS:y=i(_.slice(0,1024));var S=0,j=0,E=0,N=0,B=0,X=y.charCodeAt(0),Y=!1,R=0,J=_.charCodeAt(0);_=_.replace(/\r\n/mg,`
`);var Z=x.dateNF!=null?q8(x.dateNF):null;function fe(){var ge=_.slice(N,B),H={};if(ge.charAt(0)=='"'&&ge.charAt(ge.length-1)=='"'&&(ge=ge.slice(1,-1).replace(/""/g,'"')),ge.length===0)H.t="z";else if(x.raw)H.t="s",H.v=ge;else if(ge.trim().length===0)H.t="s",H.v=ge;else if(ge.charCodeAt(0)==61)ge.charCodeAt(1)==34&&ge.charCodeAt(ge.length-1)==34?(H.t="s",H.v=ge.slice(2,-1).replace(/""/g,'"')):AM(ge)?(H.t="n",H.f=ge.slice(1)):(H.t="s",H.v=ge);else if(ge=="TRUE")H.t="b",H.v=!0;else if(ge=="FALSE")H.t="b",H.v=!1;else if(!isNaN(E=Wn(ge)))H.t="n",x.cellText!==!1&&(H.w=ge),H.v=E;else if(!isNaN(Go(ge).getDate())||Z&&ge.match(Z)){H.z=x.dateNF||xr[14];var Ee=0;Z&&ge.match(Z)&&(ge=G8(ge,x.dateNF,ge.match(Z)||[]),Ee=1),x.cellDates?(H.t="d",H.v=oa(ge,Ee)):(H.t="n",H.v=_a(oa(ge,Ee))),x.cellText!==!1&&(H.w=Os(H.z,H.v instanceof Date?_a(H.v):H.v)),x.cellNF||delete H.z}else H.t="s",H.v=ge;if(H.t=="z"||(x.dense?(b[S]||(b[S]=[]),b[S][j]=H):b[Gt({c:j,r:S})]=H),N=B+1,J=_.charCodeAt(N),w.e.c<j&&(w.e.c=j),w.e.r<S&&(w.e.r=S),R==X)++j;else if(j=0,++S,x.sheetRows&&x.sheetRows<=S)return!0}e:for(;B<_.length;++B)switch(R=_.charCodeAt(B)){case 34:J===34&&(Y=!Y);break;case X:case 10:case 13:if(!Y&&fe())break e;break}return B-N>0&&fe(),b["!ref"]=Or(w),b}function c(_,v){return!(v&&v.PRN)||v.FS||_.slice(0,4)=="sep="||_.indexOf("	")>=0||_.indexOf(",")>=0||_.indexOf(";")>=0?o(_,v):Cl(e(_,v),v)}function h(_,v){var x="",y=v.type=="string"?[0,0,0,0]:U9(_,v);switch(v.type){case"base64":x=Kn(_);break;case"binary":x=_;break;case"buffer":v.codepage==65001?x=_.toString("utf8"):v.codepage&&typeof $u<"u"||(x=Pt&&Buffer.isBuffer(_)?_.toString("binary"):tc(_));break;case"array":x=ff(_);break;case"string":x=_;break;default:throw new Error("Unrecognized type "+v.type)}return y[0]==239&&y[1]==187&&y[2]==191?x=jo(x.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?x=jo(x):v.type=="binary"&&typeof $u<"u",x.slice(0,19)=="socialcalc:version:"?pw.to_sheet(v.type=="string"?x:jo(x),v):c(x,v)}function d(_,v){return pi(h(_,v),v)}function m(_){for(var v=[],x=ir(_["!ref"]),y,b=Array.isArray(_),w=x.s.r;w<=x.e.r;++w){for(var S=[],j=x.s.c;j<=x.e.c;++j){var E=Gt({r:w,c:j});if(y=b?(_[w]||[])[j]:_[E],!y||y.v==null){S.push("          ");continue}for(var N=(y.w||(Jn(y),y.w)||"").slice(0,10);N.length<10;)N+=" ";S.push(N+(j===0?" ":""))}v.push(S.join(""))}return v.join(`
`)}return{to_workbook:d,to_sheet:h,from_sheet:m}})(),Rv=(function(){function r(C,P,U){if(C){ja(C,C.l||0);for(var G=U.Enum||je;C.l<C.length;){var ie=C.read_shift(2),ve=G[ie]||G[65535],Le=C.read_shift(2),Ce=C.l+Le,De=ve.f&&ve.f(C,Le,U);if(C.l=Ce,P(De,ve,ie))return}}}function e(C,P){switch(P.type){case"base64":return t(mn(Kn(C)),P);case"binary":return t(mn(C),P);case"buffer":case"array":return t(C,P)}throw"Unsupported type "+P.type}function t(C,P){if(!C)return C;var U=P||{},G=U.dense?[]:{},ie="Sheet1",ve="",Le=0,Ce={},De=[],gt=[],ot={s:{r:0,c:0},e:{r:0,c:0}},rr=U.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)U.Enum=je,r(C,function(te,Xe,We){switch(We){case 0:U.vers=te,te>=4096&&(U.qpro=!0);break;case 6:ot=te;break;case 204:te&&(ve=te);break;case 222:ve=te;break;case 15:case 51:U.qpro||(te[1].v=te[1].v.slice(1));case 13:case 14:case 16:We==14&&(te[2]&112)==112&&(te[2]&15)>1&&(te[2]&15)<15&&(te[1].z=U.dateNF||xr[14],U.cellDates&&(te[1].t="d",te[1].v=Dx(te[1].v))),U.qpro&&te[3]>Le&&(G["!ref"]=Or(ot),Ce[ie]=G,De.push(ie),G=U.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Le=te[3],ie=ve||"Sheet"+(Le+1),ve="");var Me=U.dense?(G[te[0].r]||[])[te[0].c]:G[Gt(te[0])];if(Me){Me.t=te[1].t,Me.v=te[1].v,te[1].z!=null&&(Me.z=te[1].z),te[1].f!=null&&(Me.f=te[1].f);break}U.dense?(G[te[0].r]||(G[te[0].r]=[]),G[te[0].r][te[0].c]=te[1]):G[Gt(te[0])]=te[1];break}},U);else if(C[2]==26||C[2]==14)U.Enum=I,C[2]==14&&(U.qpro=!0,C.l=0),r(C,function(te,Xe,We){switch(We){case 204:ie=te;break;case 22:te[1].v=te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(te[3]>Le&&(G["!ref"]=Or(ot),Ce[ie]=G,De.push(ie),G=U.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Le=te[3],ie="Sheet"+(Le+1)),rr>0&&te[0].r>=rr)break;U.dense?(G[te[0].r]||(G[te[0].r]=[]),G[te[0].r][te[0].c]=te[1]):G[Gt(te[0])]=te[1],ot.e.c<te[0].c&&(ot.e.c=te[0].c),ot.e.r<te[0].r&&(ot.e.r=te[0].r);break;case 27:te[14e3]&&(gt[te[14e3][0]]=te[14e3][1]);break;case 1537:gt[te[0]]=te[1],te[0]==Le&&(ie=te[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(G["!ref"]=Or(ot),Ce[ve||ie]=G,De.push(ve||ie),!gt.length)return{SheetNames:De,Sheets:Ce};for(var he={},ne=[],_e=0;_e<gt.length;++_e)Ce[De[_e]]?(ne.push(gt[_e]||De[_e]),he[gt[_e]]=Ce[gt[_e]]||Ce[De[_e]]):(ne.push(gt[_e]),he[gt[_e]]={"!ref":"A1"});return{SheetNames:ne,Sheets:he}}function n(C,P){var U=P||{};if(+U.codepage>=0&&$o(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var G=ga(),ie=ir(C["!ref"]),ve=Array.isArray(C),Le=[];$e(G,0,o(1030)),$e(G,6,d(ie));for(var Ce=Math.min(ie.e.r,8191),De=ie.s.r;De<=Ce;++De)for(var gt=Kr(De),ot=ie.s.c;ot<=ie.e.c;++ot){De===ie.s.r&&(Le[ot]=ea(ot));var rr=Le[ot]+gt,he=ve?(C[De]||[])[ot]:C[rr];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?$e(G,13,y(De,ot,he.v)):$e(G,14,w(De,ot,he.v));else{var ne=Jn(he);$e(G,15,v(De,ot,ne.slice(0,239)))}}return $e(G,1),G.end()}function i(C,P){var U=P||{};if(+U.codepage>=0&&$o(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var G=ga();$e(G,0,c(C));for(var ie=0,ve=0;ie<C.SheetNames.length;++ie)(C.Sheets[C.SheetNames[ie]]||{})["!ref"]&&$e(G,27,ee(C.SheetNames[ie],ve++));var Le=0;for(ie=0;ie<C.SheetNames.length;++ie){var Ce=C.Sheets[C.SheetNames[ie]];if(!(!Ce||!Ce["!ref"])){for(var De=ir(Ce["!ref"]),gt=Array.isArray(Ce),ot=[],rr=Math.min(De.e.r,8191),he=De.s.r;he<=rr;++he)for(var ne=Kr(he),_e=De.s.c;_e<=De.e.c;++_e){he===De.s.r&&(ot[_e]=ea(_e));var te=ot[_e]+ne,Xe=gt?(Ce[he]||[])[_e]:Ce[te];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")$e(G,23,fe(he,_e,Le,Xe.v));else{var We=Jn(Xe);$e(G,22,R(he,_e,Le,We.slice(0,239)))}}++Le}}return $e(G,1),G.end()}function o(C){var P=we(2);return P.write_shift(2,C),P}function c(C){var P=we(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var U=0,G=0,ie=0,ve=0;ve<C.SheetNames.length;++ve){var Le=C.SheetNames[ve],Ce=C.Sheets[Le];if(!(!Ce||!Ce["!ref"])){++ie;var De=Ma(Ce["!ref"]);U<De.e.r&&(U=De.e.r),G<De.e.c&&(G=De.e.c)}}return U>8191&&(U=8191),P.write_shift(2,U),P.write_shift(1,ie),P.write_shift(1,G),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function h(C,P,U){var G={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&U.qpro?(G.s.c=C.read_shift(1),C.l++,G.s.r=C.read_shift(2),G.e.c=C.read_shift(1),C.l++,G.e.r=C.read_shift(2),G):(G.s.c=C.read_shift(2),G.s.r=C.read_shift(2),P==12&&U.qpro&&(C.l+=2),G.e.c=C.read_shift(2),G.e.r=C.read_shift(2),P==12&&U.qpro&&(C.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function d(C){var P=we(8);return P.write_shift(2,C.s.c),P.write_shift(2,C.s.r),P.write_shift(2,C.e.c),P.write_shift(2,C.e.r),P}function m(C,P,U){var G=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(G[0].c=C.read_shift(1),G[3]=C.read_shift(1),G[0].r=C.read_shift(2),C.l+=2):(G[2]=C.read_shift(1),G[0].c=C.read_shift(2),G[0].r=C.read_shift(2)),G}function _(C,P,U){var G=C.l+P,ie=m(C,P,U);if(ie[1].t="s",U.vers==20768){C.l++;var ve=C.read_shift(1);return ie[1].v=C.read_shift(ve,"utf8"),ie}return U.qpro&&C.l++,ie[1].v=C.read_shift(G-C.l,"cstr"),ie}function v(C,P,U){var G=we(7+U.length);G.write_shift(1,255),G.write_shift(2,P),G.write_shift(2,C),G.write_shift(1,39);for(var ie=0;ie<G.length;++ie){var ve=U.charCodeAt(ie);G.write_shift(1,ve>=128?95:ve)}return G.write_shift(1,0),G}function x(C,P,U){var G=m(C,P,U);return G[1].v=C.read_shift(2,"i"),G}function y(C,P,U){var G=we(7);return G.write_shift(1,255),G.write_shift(2,P),G.write_shift(2,C),G.write_shift(2,U,"i"),G}function b(C,P,U){var G=m(C,P,U);return G[1].v=C.read_shift(8,"f"),G}function w(C,P,U){var G=we(13);return G.write_shift(1,255),G.write_shift(2,P),G.write_shift(2,C),G.write_shift(8,U,"f"),G}function S(C,P,U){var G=C.l+P,ie=m(C,P,U);if(ie[1].v=C.read_shift(8,"f"),U.qpro)C.l=G;else{var ve=C.read_shift(2);B(C.slice(C.l,C.l+ve),ie),C.l+=ve}return ie}function j(C,P,U){var G=P&32768;return P&=-32769,P=(G?C:0)+(P>=8192?P-16384:P),(G?"":"$")+(U?ea(P):Kr(P))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(C,P){ja(C,0);for(var U=[],G=0,ie="",ve="",Le="",Ce="";C.l<C.length;){var De=C[C.l++];switch(De){case 0:U.push(C.read_shift(8,"f"));break;case 1:ve=j(P[0].c,C.read_shift(2),!0),ie=j(P[0].r,C.read_shift(2),!1),U.push(ve+ie);break;case 2:{var gt=j(P[0].c,C.read_shift(2),!0),ot=j(P[0].r,C.read_shift(2),!1);ve=j(P[0].c,C.read_shift(2),!0),ie=j(P[0].r,C.read_shift(2),!1),U.push(gt+ot+":"+ve+ie)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(C.read_shift(2));break;case 6:{for(var rr="";De=C[C.l++];)rr+=String.fromCharCode(De);U.push('"'+rr.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:Ce=U.pop(),Le=U.pop(),U.push(["AND","OR"][De-20]+"("+Le+","+Ce+")");break;default:if(De<32&&N[De])Ce=U.pop(),Le=U.pop(),U.push(Le+N[De]+Ce);else if(E[De]){if(G=E[De][1],G==69&&(G=C[C.l++]),G>U.length){console.error("WK1 bad formula parse 0x"+De.toString(16)+":|"+U.join("|")+"|");return}var he=U.slice(-G);U.length-=G,U.push(E[De][0]+"("+he.join(",")+")")}else return De<=7?console.error("WK1 invalid opcode "+De.toString(16)):De<=24?console.error("WK1 unsupported op "+De.toString(16)):De<=30?console.error("WK1 invalid opcode "+De.toString(16)):De<=115?console.error("WK1 unsupported function opcode "+De.toString(16)):console.error("WK1 unrecognized opcode "+De.toString(16))}}U.length==1?P[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function X(C){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=C.read_shift(2),P[3]=C[C.l++],P[0].c=C[C.l++],P}function Y(C,P){var U=X(C);return U[1].t="s",U[1].v=C.read_shift(P-4,"cstr"),U}function R(C,P,U,G){var ie=we(6+G.length);ie.write_shift(2,C),ie.write_shift(1,U),ie.write_shift(1,P),ie.write_shift(1,39);for(var ve=0;ve<G.length;++ve){var Le=G.charCodeAt(ve);ie.write_shift(1,Le>=128?95:Le)}return ie.write_shift(1,0),ie}function J(C,P){var U=X(C);U[1].v=C.read_shift(2);var G=U[1].v>>1;if(U[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return U[1].v=G,U}function Z(C,P){var U=X(C),G=C.read_shift(4),ie=C.read_shift(4),ve=C.read_shift(2);if(ve==65535)return G===0&&ie===3221225472?(U[1].t="e",U[1].v=15):G===0&&ie===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var Le=ve&32768;return ve=(ve&32767)-16446,U[1].v=(1-Le*2)*(ie*Math.pow(2,ve+32)+G*Math.pow(2,ve)),U}function fe(C,P,U,G){var ie=we(14);if(ie.write_shift(2,C),ie.write_shift(1,U),ie.write_shift(1,P),G==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var ve=0,Le=0,Ce=0,De=0;return G<0&&(ve=1,G=-G),Le=Math.log2(G)|0,G/=Math.pow(2,Le-31),De=G>>>0,(De&2147483648)==0&&(G/=2,++Le,De=G>>>0),G-=De,De|=2147483648,De>>>=0,G*=Math.pow(2,32),Ce=G>>>0,ie.write_shift(4,Ce),ie.write_shift(4,De),Le+=16383+(ve?32768:0),ie.write_shift(2,Le),ie}function ge(C,P){var U=Z(C);return C.l+=P-14,U}function H(C,P){var U=X(C),G=C.read_shift(4);return U[1].v=G>>6,U}function Ee(C,P){var U=X(C),G=C.read_shift(8,"f");return U[1].v=G,U}function Ve(C,P){var U=Ee(C);return C.l+=P-10,U}function Te(C,P){return C[C.l+P-1]==0?C.read_shift(P,"cstr"):""}function W(C,P){var U=C[C.l++];U>P-1&&(U=P-1);for(var G="";G.length<U;)G+=String.fromCharCode(C[C.l++]);return G}function xe(C,P,U){if(!(!U.qpro||P<21)){var G=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var ie=C.read_shift(P-21,"cstr");return[G,ie]}}function Ie(C,P){for(var U={},G=C.l+P;C.l<G;){var ie=C.read_shift(2);if(ie==14e3){for(U[ie]=[0,""],U[ie][0]=C.read_shift(2);C[C.l];)U[ie][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return U}function ee(C,P){var U=we(5+C.length);U.write_shift(2,14e3),U.write_shift(2,P);for(var G=0;G<C.length;++G){var ie=C.charCodeAt(G);U[U.l++]=ie>127?95:ie}return U[U.l++]=0,U}var je={0:{n:"BOF",f:uw},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:h},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:_},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:_},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Te},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},I={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Y},23:{n:"NUMBER17",f:Z},24:{n:"NUMBER18",f:J},25:{n:"FORMULA19",f:ge},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:Ee},40:{n:"FORMULA28",f:Ve},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),k7=/^\s|\s$|[\t\n\r]/;function gw(r,e){if(!e.bookSST)return"";var t=[Dr];t[t.length]=He("sst",null,{xmlns:Al[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(k7)&&(o+=' xml:space="preserve"'),o+=">"+qt(i.t)+"</t>"),o+="</si>",t[t.length]=o}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function j7(r){return[r.read_shift(4),r.read_shift(4)]}function O7(r,e){return e||(e=we(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var D7=SB;function R7(r){var e=ga();ke(e,159,O7(r));for(var t=0;t<r.length;++t)ke(e,19,D7(r[t]));return ke(e,160),e.end()}function B7(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function _w(r){var e=0,t,n=B7(r),i=n.length+1,o,c,h,d,m;for(t=fi(i),t[0]=n.length,o=1;o!=i;++o)t[o]=n[o-1];for(o=i-1;o>=0;--o)c=t[o],h=(e&16384)===0?0:1,d=e<<1&32767,m=h|d,e=m^c;return e^52811}var M7=(function(){function r(i,o){switch(o.type){case"base64":return e(Kn(i),o);case"binary":return e(i,o);case"buffer":return e(Pt&&Buffer.isBuffer(i)?i.toString("binary"):tc(i),o);case"array":return e(ff(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){var c=o||{},h=c.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(_,v){Array.isArray(h)&&(h[v]=[]);for(var x=/\\\w+\b/g,y=0,b,w=-1;b=x.exec(_);){switch(b[0]){case"\\cell":var S=_.slice(y,x.lastIndex-b[0].length);if(S[0]==" "&&(S=S.slice(1)),++w,S.length){var j={v:S,t:"s"};Array.isArray(h)?h[v][w]=j:h[Gt({r:v,c:w})]=j}break}y=x.lastIndex}w>m.e.c&&(m.e.c=w)}),h["!ref"]=Or(m),h}function t(i,o){return pi(r(i,o),o)}function n(i){for(var o=["{\\rtf1\\ansi"],c=ir(i["!ref"]),h,d=Array.isArray(i),m=c.s.r;m<=c.e.r;++m){o.push("\\trowd\\trautofit1");for(var _=c.s.c;_<=c.e.c;++_)o.push("\\cellx"+(_+1));for(o.push("\\pard\\intbl"),_=c.s.c;_<=c.e.c;++_){var v=Gt({r:m,c:_});h=d?(i[m]||[])[_]:i[v],!(!h||h.v==null&&(!h.f||h.F))&&(o.push(" "+(h.w||(Jn(h),h.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function Bv(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var L7=6,Yn=L7;function Qu(r){return Math.floor((r+Math.round(128/Yn)/256)*Yn)}function Zu(r){return Math.floor((r-5)/Yn*100+.5)/100}function w0(r){return Math.round((r*Yn+5)/Yn*256)/256}function im(r){r.width?(r.wpx=Qu(r.width),r.wch=Zu(r.wpx),r.MDW=Yn):r.wpx?(r.wch=Zu(r.wpx),r.width=w0(r.wch),r.MDW=Yn):typeof r.wch=="number"&&(r.width=w0(r.wch),r.wpx=Qu(r.width),r.MDW=Yn),r.customWidth&&delete r.customWidth}var P7=96,vw=P7;function ef(r){return r*96/vw}function yw(r){return r*vw/96}function F7(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=He("numFmt",null,{numFmtId:n,formatCode:qt(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=He("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function I7(r){var e=[];return e[e.length]=He("cellXfs",null),r.forEach(function(t){e[e.length]=He("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=He("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function xw(r,e){var t=[Dr,He("styleSheet",null,{xmlns:Al[0],"xmlns:vt":Fr.vt})],n;return r.SSF&&(n=F7(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=I7(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function U7(r,e){var t=r.read_shift(2),n=ta(r);return[t,n]}function H7(r,e,t){t||(t=we(6+4*e.length)),t.write_shift(2,r),Ur(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function z7(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=kB(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var o=r.read_shift(2);switch(o===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=r.read_shift(1);c!=0&&(n.underline=c);var h=r.read_shift(1);h>0&&(n.family=h);var d=r.read_shift(1);switch(d>0&&(n.charset=d),r.l++,n.color=NB(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ta(r),n}function $7(r,e){e||(e=we(153)),e.write_shift(2,r.sz*20),jB(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Ku(r.color,e);var n=0;return n=2,e.write_shift(1,n),Ur(r.name,e),e.length>e.l?e.slice(0,e.l):e}var q7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Vd,G7=En;function Mv(r,e){e||(e=we(84)),Vd||(Vd=Y0(q7));var t=Vd[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(Ku({auto:1},e),Ku({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function V7(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function ww(r,e,t){t||(t=we(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function bo(r,e){return e||(e=we(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var W7=En;function Y7(r,e){return e||(e=we(51)),e.write_shift(1,0),bo(null,e),bo(null,e),bo(null,e),bo(null,e),bo(null,e),e.length>e.l?e.slice(0,e.l):e}function X7(r,e){return e||(e=we(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Xu(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function K7(r,e,t){var n=we(2052);return n.write_shift(4,r),Xu(e,n),Xu(t,n),n.length>n.l?n.slice(0,n.l):n}function J7(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(ke(r,615,gn(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ke(r,44,H7(i,e[i]))}),ke(r,616))}}function Q7(r){var e=1;ke(r,611,gn(e)),ke(r,43,$7({sz:12,color:{theme:1},name:"Calibri",family:2})),ke(r,612)}function Z7(r){var e=2;ke(r,603,gn(e)),ke(r,45,Mv({patternType:"none"})),ke(r,45,Mv({patternType:"gray125"})),ke(r,604)}function eM(r){var e=1;ke(r,613,gn(e)),ke(r,46,Y7()),ke(r,614)}function tM(r){var e=1;ke(r,626,gn(e)),ke(r,47,ww({numFmtId:0},65535)),ke(r,627)}function rM(r,e){ke(r,617,gn(e.length)),e.forEach(function(t){ke(r,47,ww(t,0))}),ke(r,618)}function aM(r){var e=1;ke(r,619,gn(e)),ke(r,48,X7({xfId:0,name:"Normal"})),ke(r,620)}function nM(r){var e=0;ke(r,505,gn(e)),ke(r,506)}function sM(r){var e=0;ke(r,508,K7(e,"TableStyleMedium9","PivotStyleMedium4")),ke(r,509)}function iM(r,e){var t=ga();return ke(t,278),J7(t,r.SSF),Q7(t),Z7(t),eM(t),tM(t),rM(t,e.cellXfs),aM(t),nM(t),sM(t),ke(t,279),t.end()}function Sw(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Dr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function lM(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:ta(r)}}function oM(r){var e=we(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Ur(r.name,e),e.slice(0,e.l)}function cM(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function uM(r){var e=we(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function fM(r,e){var t=we(8+2*e.length);return t.write_shift(4,r),Ur(e,t),t.slice(0,t.l)}function hM(r){return r.l+=4,r.read_shift(4)!=0}function dM(r,e){var t=we(8);return t.write_shift(4,r),t.write_shift(4,1),t}function mM(){var r=ga();return ke(r,332),ke(r,334,gn(1)),ke(r,335,oM({name:"XLDAPR",version:12e4,flags:3496657072})),ke(r,336),ke(r,339,fM(1,"XLDAPR")),ke(r,52),ke(r,35,gn(514)),ke(r,4096,gn(0)),ke(r,4097,en(1)),ke(r,36),ke(r,53),ke(r,340),ke(r,337,dM(1)),ke(r,51,uM([[1,0]])),ke(r,338),ke(r,333),r.end()}function bw(){var r=[Dr];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function pM(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Gt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var dl=1024;function Tw(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[He("xml",null,{"xmlns:v":Oa.v,"xmlns:o":Oa.o,"xmlns:x":Oa.x,"xmlns:mv":Oa.mv}).replace(/\/>/,">"),He("o:shapelayout",He("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),He("v:shapetype",[He("v:stroke",null,{joinstyle:"miter"}),He("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];dl<r*1e3;)dl+=1e3;return e.forEach(function(o){var c=Ir(o[0]),h={color2:"#BEFF82",type:"gradient"};h.type=="gradient"&&(h.angle="-180");var d=h.type=="gradient"?He("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=He("v:fill",d,h),_={on:"t",obscured:"t"};++dl,i=i.concat(["<v:shape"+Wo({id:"_x0000_s"+dl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,He("v:shadow",null,_),He("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Xr("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),Xr("x:AutoFill","False"),Xr("x:Row",String(c.r)),Xr("x:Column",String(c.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Ew(r){var e=[Dr,He("comments",null,{xmlns:Al[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var o=qt(i.a);t.indexOf(o)==-1&&(t.push(o),e.push("<author>"+o+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,o=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(i=t.indexOf(qt(d.a))),o.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),o.length<=1)e.push(Xr("t",qt(o[0]||"")));else{for(var c=`Comment:
    `+o[0]+`
`,h=1;h<o.length;++h)c+=`Reply:
    `+o[h]+`
`;e.push(Xr("t",qt(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function gM(r,e,t){var n=[Dr,He("ThreadedComments",null,{xmlns:Fr.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var o="";(i[1]||[]).forEach(function(c,h){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};h==0?o=d.id:d.parentId=o,c.ID=d.id,c.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),n.push(He("threadedComment",Xr("text",c.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function _M(r){var e=[Dr,He("personList",null,{xmlns:Fr.TCMNT,"xmlns:x":Al[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(He("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function vM(r){var e={};e.iauthor=r.read_shift(4);var t=yi(r);return e.rfx=t.s,e.ref=Gt(t.s),r.l+=16,e}function yM(r,e){return e==null&&(e=we(36)),e.write_shift(4,r[1].iauthor),Nl(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var xM=ta;function wM(r){return Ur(r.slice(0,54))}function SM(r){var e=ga(),t=[];return ke(e,628),ke(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),ke(e,632,wM(i.a)))})}),ke(e,631),ke(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var o={s:Ir(n[0]),e:Ir(n[0])};ke(e,635,yM([o,i])),i.t&&i.t.length>0&&ke(e,637,TB(i)),ke(e,636),delete i.iauthor})}),ke(e,634),ke(e,629),e.end()}function bM(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Xt.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var Aw=["xlsb","xlsm","xlam","biff8","xla"],TM=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,o,c){var h=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),c.length==0?h=!0:c.charAt(0)=="["&&(h=!0,c=c.slice(1,-1));var m=o.length>0?parseInt(o,10)|0:0,_=c.length>0?parseInt(c,10)|0:0;return h?_+=e.c:--_,d?m+=e.r:--m,i+(h?"":"$")+ea(_)+(d?"":"$")+Kr(m)}return function(i,o){return e=o,i.replace(r,t)}})(),lm=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,om=(function(){return function(e,t){return e.replace(lm,function(n,i,o,c,h,d){var m=tm(c)-(o?0:t.c),_=em(d)-(h?0:t.r),v=_==0?"":h?_+1:"["+_+"]",x=m==0?"":o?m+1:"["+m+"]";return i+"R"+v+"C"+x})}})();function EM(r,e){return r.replace(lm,function(t,n,i,o,c,h){return n+(i=="$"?i+o:ea(tm(o)+e.c))+(c=="$"?c+h:Kr(em(h)+e.r))})}function AM(r){return r.length!=1}function Nr(r){r.l+=1}function Ds(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Cw(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return Nw(r);t.biff==12&&(n=4)}var i=r.read_shift(n),o=r.read_shift(n),c=Ds(r),h=Ds(r);return{s:{r:i,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:h[0],cRel:h[1],rRel:h[2]}}}function Nw(r){var e=Ds(r),t=Ds(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function CM(r,e,t){if(t.biff<8)return Nw(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),o=Ds(r),c=Ds(r);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function kw(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return NM(r);var n=r.read_shift(t&&t.biff==12?4:2),i=Ds(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function NM(r){var e=Ds(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function kM(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function jM(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return OM(r);var i=r.read_shift(n>=12?4:2),o=r.read_shift(2),c=(o&16384)>>14,h=(o&32768)>>15;if(o&=16383,h==1)for(;i>524287;)i-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:c,rRel:h}}function OM(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function DM(r,e,t){var n=(r[r.l++]&96)>>5,i=Cw(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function RM(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),o=8;if(t)switch(t.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}var c=Cw(r,o,t);return[n,i,c]}function BM(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function MM(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=8;if(t)switch(t.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}return r.l+=o,[n,i]}function LM(r,e,t){var n=(r[r.l++]&96)>>5,i=CM(r,e-1,t);return[n,i]}function PM(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function Lv(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function FM(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],o=0;o<=n;++o)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function IM(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function UM(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function HM(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function zM(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function jw(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function $M(r){return r.read_shift(2),jw(r)}function qM(r){return r.read_shift(2),jw(r)}function GM(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=kw(r,0,t);return[n,i]}function VM(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=jM(r,0,t);return[n,i]}function WM(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var o=kw(r,0,t);return[n,i,o]}function YM(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[YL[i],Rw[i],n]}function XM(r,e,t){var n=r[r.l++],i=r.read_shift(1),o=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:KM(r);return[i,(o[0]===0?Rw:WL)[o[1]]]}function KM(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function JM(r,e,t){r.l+=t&&t.biff==2?3:4}function QM(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function ZM(r){return r.l++,nc[r.read_shift(1)]}function eL(r){return r.l++,r.read_shift(2)}function tL(r){return r.l++,r.read_shift(1)!==0}function rL(r){return r.l++,kl(r)}function aL(r,e,t){return r.l++,hw(r,e-1,t)}function nL(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=WB(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=nc[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=kl(r);break;case 2:t[1]=JB(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function sL(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],o=0;o!=n;++o)i.push((t.biff==12?yi:e7)(r));return i}function iL(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var o=0,c=[];o!=n&&(c[o]=[]);++o)for(var h=0;h!=i;++h)c[o][h]=nL(r,t.biff);return c}function lL(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,o=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,o]}function oL(r,e,t){if(t.biff==5)return cL(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),o=r.read_shift(4);return[n,i,o]}function cL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function uL(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function fL(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function hL(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function dL(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6;break}return r.l+=o,[n,i]}var mL=En,pL=En,gL=En;function sc(r,e,t){return r.l+=2,[kM(r)]}function cm(r){return r.l+=6,[]}var _L=sc,vL=cm,yL=cm,xL=sc;function Ow(r){return r.l+=2,[uw(r),r.read_shift(2)&1]}var wL=sc,SL=Ow,bL=cm,TL=sc,EL=sc,AL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function CL(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),o=r.read_shift(2),c=AL[t>>2&31];return{ixti:e,coltype:t&3,rt:c,idx:n,c:i,C:o}}function NL(r){return r.l+=2,[r.read_shift(4)]}function kL(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function jL(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function OL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function DL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function RL(r){return r.l+=4,[0,0]}var Pv={1:{n:"PtgExp",f:QM},2:{n:"PtgTbl",f:gL},3:{n:"PtgAdd",f:Nr},4:{n:"PtgSub",f:Nr},5:{n:"PtgMul",f:Nr},6:{n:"PtgDiv",f:Nr},7:{n:"PtgPower",f:Nr},8:{n:"PtgConcat",f:Nr},9:{n:"PtgLt",f:Nr},10:{n:"PtgLe",f:Nr},11:{n:"PtgEq",f:Nr},12:{n:"PtgGe",f:Nr},13:{n:"PtgGt",f:Nr},14:{n:"PtgNe",f:Nr},15:{n:"PtgIsect",f:Nr},16:{n:"PtgUnion",f:Nr},17:{n:"PtgRange",f:Nr},18:{n:"PtgUplus",f:Nr},19:{n:"PtgUminus",f:Nr},20:{n:"PtgPercent",f:Nr},21:{n:"PtgParen",f:Nr},22:{n:"PtgMissArg",f:Nr},23:{n:"PtgStr",f:aL},26:{n:"PtgSheet",f:kL},27:{n:"PtgEndSheet",f:jL},28:{n:"PtgErr",f:ZM},29:{n:"PtgBool",f:tL},30:{n:"PtgInt",f:eL},31:{n:"PtgNum",f:rL},32:{n:"PtgArray",f:PM},33:{n:"PtgFunc",f:YM},34:{n:"PtgFuncVar",f:XM},35:{n:"PtgName",f:lL},36:{n:"PtgRef",f:GM},37:{n:"PtgArea",f:DM},38:{n:"PtgMemArea",f:uL},39:{n:"PtgMemErr",f:mL},40:{n:"PtgMemNoMem",f:pL},41:{n:"PtgMemFunc",f:fL},42:{n:"PtgRefErr",f:hL},43:{n:"PtgAreaErr",f:BM},44:{n:"PtgRefN",f:VM},45:{n:"PtgAreaN",f:LM},46:{n:"PtgMemAreaN",f:OL},47:{n:"PtgMemNoMemN",f:DL},57:{n:"PtgNameX",f:oL},58:{n:"PtgRef3d",f:WM},59:{n:"PtgArea3d",f:RM},60:{n:"PtgRefErr3d",f:dL},61:{n:"PtgAreaErr3d",f:MM},255:{}},BL={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ML={1:{n:"PtgElfLel",f:Ow},2:{n:"PtgElfRw",f:TL},3:{n:"PtgElfCol",f:_L},6:{n:"PtgElfRwV",f:EL},7:{n:"PtgElfColV",f:xL},10:{n:"PtgElfRadical",f:wL},11:{n:"PtgElfRadicalS",f:bL},13:{n:"PtgElfColS",f:vL},15:{n:"PtgElfColSV",f:yL},16:{n:"PtgElfRadicalLel",f:SL},25:{n:"PtgList",f:CL},29:{n:"PtgSxName",f:NL},255:{}},LL={0:{n:"PtgAttrNoop",f:RL},1:{n:"PtgAttrSemi",f:zM},2:{n:"PtgAttrIf",f:UM},4:{n:"PtgAttrChoose",f:FM},8:{n:"PtgAttrGoto",f:IM},16:{n:"PtgAttrSum",f:JM},32:{n:"PtgAttrBaxcel",f:Lv},33:{n:"PtgAttrBaxcel",f:Lv},64:{n:"PtgAttrSpace",f:$M},65:{n:"PtgAttrSpaceSemi",f:qM},128:{n:"PtgAttrIfError",f:HM},255:{}};function PL(r,e,t,n){if(n.biff<8)return En(r,e);for(var i=r.l+e,o=[],c=0;c!==t.length;++c)switch(t[c][0]){case"PtgArray":t[c][1]=iL(r,0,n),o.push(t[c][1]);break;case"PtgMemArea":t[c][2]=sL(r,t[c][1],n),o.push(t[c][2]);break;case"PtgExp":n&&n.biff==12&&(t[c][1][1]=r.read_shift(4),o.push(t[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[c][0]}return e=i-r.l,e!==0&&o.push(En(r,e)),o}function FL(r,e,t){for(var n=r.l+e,i,o,c=[];n!=r.l;)e=n-r.l,o=r[r.l],i=Pv[o]||Pv[BL[o]],(o===24||o===25)&&(i=(o===24?ML:LL)[r[r.l+1]]),!i||!i.f?En(r,e):c.push([i.n,i.f(r,e,t)]);return c}function IL(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],o=0;o<n.length;++o){var c=n[o];if(c)switch(c[0]){case 2:i.push('"'+c[1].replace(/"/g,'""')+'"');break;default:i.push(c[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var UL={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function HL(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Dw(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Fv(r,e,t){var n=Dw(r,e,t);return n=="#REF"?n:HL(n,t)}function Sl(r,e,t,n,i){var o=i&&i.biff||8,c={s:{c:0,r:0}},h=[],d,m,_,v=0,x=0,y,b="";if(!r[0]||!r[0][0])return"";for(var w=-1,S="",j=0,E=r[0].length;j<E;++j){var N=r[0][j];switch(N[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=h.pop(),m=h.pop(),w>=0){switch(r[0][w][1][0]){case 0:S=yr(" ",r[0][w][1][1]);break;case 1:S=yr("\r",r[0][w][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}m=m+S,w=-1}h.push(m+UL[N[0]]+d);break;case"PtgIsect":d=h.pop(),m=h.pop(),h.push(m+" "+d);break;case"PtgUnion":d=h.pop(),m=h.pop(),h.push(m+","+d);break;case"PtgRange":d=h.pop(),m=h.pop(),h.push(m+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":_=Do(N[1][1],c,i),h.push(Ro(_,o));break;case"PtgRefN":_=t?Do(N[1][1],t,i):N[1][1],h.push(Ro(_,o));break;case"PtgRef3d":v=N[1][1],_=Do(N[1][2],c,i),b=Fv(n,v,i),h.push(b+"!"+Ro(_,o));break;case"PtgFunc":case"PtgFuncVar":var B=N[1][0],X=N[1][1];B||(B=0),B&=127;var Y=B==0?[]:h.slice(-B);h.length-=B,X==="User"&&(X=Y.shift()),h.push(X+"("+Y.join(",")+")");break;case"PtgBool":h.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(N[1]);break;case"PtgNum":h.push(String(N[1]));break;case"PtgStr":h.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":h.push(N[1]);break;case"PtgAreaN":y=Sv(N[1][1],t?{s:t}:c,i),h.push(qd(y,i));break;case"PtgArea":y=Sv(N[1][1],c,i),h.push(qd(y,i));break;case"PtgArea3d":v=N[1][1],y=N[1][2],b=Fv(n,v,i),h.push(b+"!"+qd(y,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=N[1][2];var R=(n.names||[])[x-1]||(n[0]||[])[x],J=R?R.Name:"SH33TJSNAME"+String(x);J&&J.slice(0,6)=="_xlfn."&&!i.xlfn&&(J=J.slice(6)),h.push(J);break;case"PtgNameX":var Z=N[1][1];x=N[1][2];var fe;if(i.biff<=5)Z<0&&(Z=-Z),n[Z]&&(fe=n[Z][x]);else{var ge="";if(((n[Z]||[])[0]||[])[0]==14849||(((n[Z]||[])[0]||[])[0]==1025?n[Z][x]&&n[Z][x].itab>0&&(ge=n.SheetNames[n[Z][x].itab-1]+"!"):ge=n.SheetNames[x-1]+"!"),n[Z]&&n[Z][x])ge+=n[Z][x].Name;else if(n[0]&&n[0][x])ge+=n[0][x].Name;else{var H=(Dw(n,Z,i)||"").split(";;");H[x-1]?ge=H[x-1]:ge+="SH33TJSERRX"}h.push(ge);break}fe||(fe={Name:"SH33TJSERRY"}),h.push(fe.Name);break;case"PtgParen":var Ee="(",Ve=")";if(w>=0){switch(S="",r[0][w][1][0]){case 2:Ee=yr(" ",r[0][w][1][1])+Ee;break;case 3:Ee=yr("\r",r[0][w][1][1])+Ee;break;case 4:Ve=yr(" ",r[0][w][1][1])+Ve;break;case 5:Ve=yr("\r",r[0][w][1][1])+Ve;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}w=-1}h.push(Ee+h.pop()+Ve);break;case"PtgRefErr":h.push("#REF!");break;case"PtgRefErr3d":h.push("#REF!");break;case"PtgExp":_={c:N[1][1],r:N[1][0]};var Te={c:t.c,r:t.r};if(n.sharedf[Gt(_)]){var W=n.sharedf[Gt(_)];h.push(Sl(W,c,Te,n,i))}else{var xe=!1;for(d=0;d!=n.arrayf.length;++d)if(m=n.arrayf[d],!(_.c<m[0].s.c||_.c>m[0].e.c)&&!(_.r<m[0].s.r||_.r>m[0].e.r)){h.push(Sl(m[1],c,Te,n,i)),xe=!0;break}xe||h.push(N[1])}break;case"PtgArray":h.push("{"+IL(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":h.push("#REF!");break;case"PtgAreaErr3d":h.push("#REF!");break;case"PtgList":h.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var Ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Ie.indexOf(r[0][j][0])==-1){N=r[0][w];var ee=!0;switch(N[1][0]){case 4:ee=!1;case 0:S=yr(" ",N[1][1]);break;case 5:ee=!1;case 1:S=yr("\r",N[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}h.push((ee?S:"")+h.pop()+(ee?"":S)),w=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function zL(r){if(r==null){var e=we(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return hi(r);return hi(0)}function $L(r,e,t,n,i){var o=di(e,t,i),c=zL(r.v),h=we(6),d=33;h.write_shift(2,d),h.write_shift(4,0);for(var m=we(r.bf.length),_=0;_<r.bf.length;++_)m[_]=r.bf[_];var v=Yr([o,c,h,m]);return v}function hf(r,e,t){var n=r.read_shift(4),i=FL(r,n,t),o=r.read_shift(4),c=o>0?PL(r,o,i,t):null;return[i,c]}var qL=hf,df=hf,GL=hf,VL=hf,WL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Rw={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},YL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function XL(r){var e="of:="+r.replace(lm,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function KL(r){return r.replace(/\./,"!")}var Bo=typeof Map<"u";function um(r,e,t){var n=0,i=r.length;if(t){if(Bo?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var o=Bo?t.get(e):t[e];n<o.length;++n)if(r[o[n]].t===e)return r.Count++,o[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(Bo?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function mf(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(Yn=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=Zu(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=w0(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function Bw(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Ms(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,o=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){kx(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=o;++i)if(r[i].numFmtId===n)return i;return r[o]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function JL(r,e,t){if(r&&r["!ref"]){var n=ir(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function QL(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Or(r[t])+'"/>';return e+"</mergeCells>"}function ZL(r,e,t,n,i){var o=!1,c={},h=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[t];try{e.Workbook&&(d=e.Workbook.Sheets[t].CodeName||d)}catch{}o=!0,c.codeName=Vo(qt(d))}if(r&&r["!outline"]){var m={summaryBelow:1,summaryRight:1};r["!outline"].above&&(m.summaryBelow=0),r["!outline"].left&&(m.summaryRight=0),h=(h||"")+He("outlinePr",null,m)}!o&&!h||(i[i.length]=He("sheetPr",h,c))}var eP=["objects","scenarios","selectLockedCells","selectUnlockedCells"],tP=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rP(r){var e={sheet:1};return eP.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),tP.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=_w(r.password).toString(16).toUpperCase()),He("sheetProtection",null,e)}function aP(r){return Bw(r),He("pageMargins",null,r)}function nP(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=He("col",null,mf(i,n)));return t[t.length]="</cols>",t.join("")}function sP(r,e,t,n){var i=typeof r.ref=="string"?r.ref:Or(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,c=Ma(i);c.s.r==c.e.r&&(c.e.r=Ma(e["!ref"]).e.r,i=Or(c));for(var h=0;h<o.length;++h){var d=o[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),He("autoFilter",null,{ref:i})}function iP(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),He("sheetViews",He("sheetView",null,i),{})}function lP(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",o=r.t,c=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=nc[r.v];break;case"d":n&&n.cellDates?i=oa(r.v,-1).toISOString():(r=va(r),r.t="n",i=""+(r.v=_a(oa(r.v)))),typeof r.z>"u"&&(r.z=xr[14]);break;default:i=r.v;break}var h=Xr("v",qt(i)),d={r:e},m=Ms(n.cellXfs,r,n);switch(m!==0&&(d.s=m),r.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){h=Xr("v",""+um(n.Strings,r.v,n.revStrings)),d.t="s";break}d.t="str";break}if(r.t!=o&&(r.t=o,r.v=c),typeof r.f=="string"&&r.f){var _=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;h=He("f",qt(r.f),_)+(r.v!=null?h:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(d.cm=1),He("c",h,d)}function oP(r,e,t,n){var i=[],o=[],c=ir(r["!ref"]),h="",d,m="",_=[],v=0,x=0,y=r["!rows"],b=Array.isArray(r),w={r:m},S,j=-1;for(x=c.s.c;x<=c.e.c;++x)_[x]=ea(x);for(v=c.s.r;v<=c.e.r;++v){for(o=[],m=Kr(v),x=c.s.c;x<=c.e.c;++x){d=_[x]+m;var E=b?(r[v]||[])[x]:r[d];E!==void 0&&(h=lP(E,d,r,e))!=null&&o.push(h)}(o.length>0||y&&y[v])&&(w={r:m},y&&y[v]&&(S=y[v],S.hidden&&(w.hidden=1),j=-1,S.hpx?j=ef(S.hpx):S.hpt&&(j=S.hpt),j>-1&&(w.ht=j,w.customHeight=1),S.level&&(w.outlineLevel=S.level)),i[i.length]=He("row",o.join(""),w))}if(y)for(;v<y.length;++v)y&&y[v]&&(w={r:v+1},S=y[v],S.hidden&&(w.hidden=1),j=-1,S.hpx?j=ef(S.hpx):S.hpt&&(j=S.hpt),j>-1&&(w.ht=j,w.customHeight=1),S.level&&(w.outlineLevel=S.level),i[i.length]=He("row","",w));return i.join("")}function Mw(r,e,t,n){var i=[Dr,He("worksheet",null,{xmlns:Al[0],"xmlns:r":Fr.r})],o=t.SheetNames[r],c=0,h="",d=t.Sheets[o];d==null&&(d={});var m=d["!ref"]||"A1",_=ir(m);if(_.e.c>16383||_.e.r>1048575){if(e.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");_.e.c=Math.min(_.e.c,16383),_.e.r=Math.min(_.e.c,1048575),m=Or(_)}n||(n={}),d["!comments"]=[];var v=[];ZL(d,t,r,e,i),i[i.length]=He("dimension",null,{ref:m}),i[i.length]=iP(d,e,r,t),e.sheetFormat&&(i[i.length]=He("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=nP(d,d["!cols"])),i[c=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(h=oP(d,e),h.length>0&&(i[i.length]=h)),i.length>c+1&&(i[i.length]="</sheetData>",i[c]=i[c].replace("/>",">")),d["!protect"]&&(i[i.length]=rP(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=sP(d["!autofilter"],d,t,r)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=QL(d["!merges"]));var x=-1,y,b=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(y={ref:w[0]},w[1].Target.charAt(0)!="#"&&(b=$t(n,-1,qt(w[1].Target).replace(/#.*$/,""),Ot.HLINK),y["r:id"]="rId"+b),(x=w[1].Target.indexOf("#"))>-1&&(y.location=qt(w[1].Target.slice(x+1))),w[1].Tooltip&&(y.tooltip=qt(w[1].Tooltip)),i[i.length]=He("hyperlink",null,y))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=aP(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Xr("ignoredErrors",He("ignoredError",null,{numberStoredAsText:1,sqref:m}))),v.length>0&&(b=$t(n,-1,"../drawings/drawing"+(r+1)+".xml",Ot.DRAW),i[i.length]=He("drawing",null,{"r:id":"rId"+b}),d["!drawing"]=v),d["!comments"].length>0&&(b=$t(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ot.VML),i[i.length]=He("legacyDrawing",null,{"r:id":"rId"+b}),d["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function cP(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var o=r.read_shift(1);return r.l=n,o&7&&(t.level=o&7),o&16&&(t.hidden=!0),o&32&&(t.hpt=i/20),t}function uP(r,e,t){var n=we(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var o=320;i.hpx?o=ef(i.hpx)*20:i.hpt&&(o=i.hpt*20),n.write_shift(2,o),n.write_shift(1,0);var c=0;i.level&&(c|=i.level),i.hidden&&(c|=16),(i.hpx||i.hpt)&&(c|=32),n.write_shift(1,c),n.write_shift(1,0);var h=0,d=n.l;n.l+=4;for(var m={r,c:0},_=0;_<16;++_)if(!(e.s.c>_+1<<10||e.e.c<_<<10)){for(var v=-1,x=-1,y=_<<10;y<_+1<<10;++y){m.c=y;var b=Array.isArray(t)?(t[m.r]||[])[m.c]:t[Gt(m)];b&&(v<0&&(v=y),x=y)}v<0||(++h,n.write_shift(4,v),n.write_shift(4,x))}var w=n.l;return n.l=d,n.write_shift(4,h),n.l=w,n.length>n.l?n.slice(0,n.l):n}function fP(r,e,t,n){var i=uP(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&ke(r,0,i)}var hP=yi,dP=Nl;function mP(){}function pP(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=EB(r),t}function gP(r,e,t){t==null&&(t=we(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return Ku({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Kx(r,t),t.slice(0,t.l)}function _P(r){var e=rn(r);return[e]}function vP(r,e,t){return t==null&&(t=we(8)),gi(e,t)}function yP(r){var e=_i(r);return[e]}function xP(r,e,t){return t==null&&(t=we(4)),vi(e,t)}function wP(r){var e=rn(r),t=r.read_shift(1);return[e,t,"b"]}function SP(r,e,t){return t==null&&(t=we(9)),gi(e,t),t.write_shift(1,r.v?1:0),t}function bP(r){var e=_i(r),t=r.read_shift(1);return[e,t,"b"]}function TP(r,e,t){return t==null&&(t=we(5)),vi(e,t),t.write_shift(1,r.v?1:0),t}function EP(r){var e=rn(r),t=r.read_shift(1);return[e,t,"e"]}function AP(r,e,t){return t==null&&(t=we(9)),gi(e,t),t.write_shift(1,r.v),t}function CP(r){var e=_i(r),t=r.read_shift(1);return[e,t,"e"]}function NP(r,e,t){return t==null&&(t=we(8)),vi(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function kP(r){var e=rn(r),t=r.read_shift(4);return[e,t,"s"]}function jP(r,e,t){return t==null&&(t=we(12)),gi(e,t),t.write_shift(4,e.v),t}function OP(r){var e=_i(r),t=r.read_shift(4);return[e,t,"s"]}function DP(r,e,t){return t==null&&(t=we(8)),vi(e,t),t.write_shift(4,e.v),t}function RP(r){var e=rn(r),t=kl(r);return[e,t,"n"]}function BP(r,e,t){return t==null&&(t=we(16)),gi(e,t),hi(r.v,t),t}function MP(r){var e=_i(r),t=kl(r);return[e,t,"n"]}function LP(r,e,t){return t==null&&(t=we(12)),vi(e,t),hi(r.v,t),t}function PP(r){var e=rn(r),t=Jx(r);return[e,t,"n"]}function FP(r,e,t){return t==null&&(t=we(12)),gi(e,t),Qx(r.v,t),t}function IP(r){var e=_i(r),t=Jx(r);return[e,t,"n"]}function UP(r,e,t){return t==null&&(t=we(8)),vi(e,t),Qx(r.v,t),t}function HP(r){var e=rn(r),t=rm(r);return[e,t,"is"]}function zP(r){var e=rn(r),t=ta(r);return[e,t,"str"]}function $P(r,e,t){return t==null&&(t=we(12+4*r.v.length)),gi(e,t),Ur(r.v,t),t.length>t.l?t.slice(0,t.l):t}function qP(r){var e=_i(r),t=ta(r);return[e,t,"str"]}function GP(r,e,t){return t==null&&(t=we(8+4*r.v.length)),vi(e,t),Ur(r.v,t),t.length>t.l?t.slice(0,t.l):t}function VP(r,e,t){var n=r.l+e,i=rn(r);i.r=t["!row"];var o=r.read_shift(1),c=[i,o,"b"];if(t.cellFormula){r.l+=2;var h=df(r,n-r.l,t);c[3]=Sl(h,null,i,t.supbooks,t)}else r.l=n;return c}function WP(r,e,t){var n=r.l+e,i=rn(r);i.r=t["!row"];var o=r.read_shift(1),c=[i,o,"e"];if(t.cellFormula){r.l+=2;var h=df(r,n-r.l,t);c[3]=Sl(h,null,i,t.supbooks,t)}else r.l=n;return c}function YP(r,e,t){var n=r.l+e,i=rn(r);i.r=t["!row"];var o=kl(r),c=[i,o,"n"];if(t.cellFormula){r.l+=2;var h=df(r,n-r.l,t);c[3]=Sl(h,null,i,t.supbooks,t)}else r.l=n;return c}function XP(r,e,t){var n=r.l+e,i=rn(r);i.r=t["!row"];var o=ta(r),c=[i,o,"str"];if(t.cellFormula){r.l+=2;var h=df(r,n-r.l,t);c[3]=Sl(h,null,i,t.supbooks,t)}else r.l=n;return c}var KP=yi,JP=Nl;function QP(r,e){return e==null&&(e=we(4)),e.write_shift(4,r),e}function ZP(r,e){var t=r.l+e,n=yi(r),i=am(r),o=ta(r),c=ta(r),h=ta(r);r.l=t;var d={rfx:n,relId:i,loc:o,display:h};return c&&(d.Tooltip=c),d}function eF(r,e){var t=we(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Nl({s:Ir(r[0]),e:Ir(r[0])},t),nm("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return Ur(i||"",t),Ur(r[1].Tooltip||"",t),Ur("",t),t.slice(0,t.l)}function tF(){}function rF(r,e,t){var n=r.l+e,i=Zx(r),o=r.read_shift(1),c=[i];if(c[2]=o,t.cellFormula){var h=qL(r,n-r.l,t);c[1]=h}else r.l=n;return c}function aF(r,e,t){var n=r.l+e,i=yi(r),o=[i];if(t.cellFormula){var c=VL(r,n-r.l,t);o[1]=c,r.l=n}else r.l=n;return o}function nF(r,e,t){t==null&&(t=we(18));var n=mf(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var Lw=["left","right","top","bottom","header","footer"];function sF(r){var e={};return Lw.forEach(function(t){e[t]=kl(r)}),e}function iF(r,e){return e==null&&(e=we(48)),Bw(r),Lw.forEach(function(t){hi(r[t],e)}),e}function lF(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function oF(r,e,t){t==null&&(t=we(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function cF(r){var e=we(24);return e.write_shift(4,4),e.write_shift(4,1),Nl(r,e),e}function uF(r,e){return e==null&&(e=we(66)),e.write_shift(2,r.password?_w(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function fF(){}function hF(){}function dF(r,e,t,n,i,o,c){if(e.v===void 0)return!1;var h="";switch(e.t){case"b":h=e.v?"1":"0";break;case"d":e=va(e),e.z=e.z||xr[14],e.v=_a(oa(e.v)),e.t="n";break;case"n":case"e":h=""+e.v;break;default:h=e.v;break}var d={r:t,c:n};switch(d.s=Ms(i.cellXfs,e,i),e.l&&o["!links"].push([Gt(d),e.l]),e.c&&o["!comments"].push([Gt(d),e.c]),e.t){case"s":case"str":return i.bookSST?(h=um(i.Strings,e.v,i.revStrings),d.t="s",d.v=h,c?ke(r,18,DP(e,d)):ke(r,7,jP(e,d))):(d.t="str",c?ke(r,17,GP(e,d)):ke(r,6,$P(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?ke(r,13,UP(e,d)):ke(r,2,FP(e,d)):c?ke(r,16,LP(e,d)):ke(r,5,BP(e,d)),!0;case"b":return d.t="b",c?ke(r,15,TP(e,d)):ke(r,4,SP(e,d)),!0;case"e":return d.t="e",c?ke(r,14,NP(e,d)):ke(r,3,AP(e,d)),!0}return c?ke(r,12,xP(e,d)):ke(r,1,vP(e,d)),!0}function mF(r,e,t,n){var i=ir(e["!ref"]||"A1"),o,c="",h=[];ke(r,145);var d=Array.isArray(e),m=i.e.r;e["!rows"]&&(m=Math.max(i.e.r,e["!rows"].length-1));for(var _=i.s.r;_<=m;++_){c=Kr(_),fP(r,e,i,_);var v=!1;if(_<=i.e.r)for(var x=i.s.c;x<=i.e.c;++x){_===i.s.r&&(h[x]=ea(x)),o=h[x]+c;var y=d?(e[_]||[])[x]:e[o];if(!y){v=!1;continue}v=dF(r,y,_,x,n,e,v)}}ke(r,146)}function pF(r,e){!e||!e["!merges"]||(ke(r,177,QP(e["!merges"].length)),e["!merges"].forEach(function(t){ke(r,176,JP(t))}),ke(r,178))}function gF(r,e){!e||!e["!cols"]||(ke(r,390),e["!cols"].forEach(function(t,n){t&&ke(r,60,nF(n,t))}),ke(r,391))}function _F(r,e){!e||!e["!ref"]||(ke(r,648),ke(r,649,cF(ir(e["!ref"]))),ke(r,650))}function vF(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=$t(t,-1,n[1].Target.replace(/#.*$/,""),Ot.HLINK);ke(r,494,eF(n,i))}}),delete e["!links"]}function yF(r,e,t,n){if(e["!comments"].length>0){var i=$t(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ot.VML);ke(r,551,nm("rId"+i)),e["!legacy"]=i}}function xF(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],o=typeof i.ref=="string"?i.ref:Or(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var c=t.Workbook.Names,h=Ma(o);h.s.r==h.e.r&&(h.e.r=Ma(e["!ref"]).e.r,o=Or(h));for(var d=0;d<c.length;++d){var m=c[d];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==n){m.Ref="'"+t.SheetNames[n]+"'!"+o;break}}d==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+o}),ke(r,161,Nl(ir(o))),ke(r,162)}}function wF(r,e,t){ke(r,133),ke(r,137,oF(e,t)),ke(r,138),ke(r,134)}function SF(r,e){e["!protect"]&&ke(r,535,uF(e["!protect"]))}function bF(r,e,t,n){var i=ga(),o=t.SheetNames[r],c=t.Sheets[o]||{},h=o;try{t&&t.Workbook&&(h=t.Workbook.Sheets[r].CodeName||h)}catch{}var d=ir(c["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],ke(i,129),(t.vbaraw||c["!outline"])&&ke(i,147,gP(h,c["!outline"])),ke(i,148,dP(d)),wF(i,c,t.Workbook),gF(i,c),mF(i,c,r,e),SF(i,c),xF(i,c,t,r),pF(i,c),vF(i,c,n),c["!margins"]&&ke(i,476,iF(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&_F(i,c),yF(i,c,r,n),ke(i,130),i.end()}function TF(r,e){r.l+=10;var t=ta(r);return{name:t}}var EF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function AF(r){return!r.Workbook||!r.Workbook.WBProps?"false":aB(r.Workbook.WBProps.date1904)?"true":"false"}var CF="][*?/\\".split("");function Pw(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return CF.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function NF(r,e,t){r.forEach(function(n,i){Pw(n);for(var o=0;o<i;++o)if(n==r[o])throw new Error("Duplicate Sheet Name: "+n);if(t){var c=e&&e[i]&&e[i].CodeName||n;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function kF(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];NF(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)JL(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function Fw(r){var e=[Dr];e[e.length]=He("workbook",null,{xmlns:Al[0],"xmlns:r":Fr.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(EF.forEach(function(h){r.Workbook.WBProps[h[0]]!=null&&r.Workbook.WBProps[h[0]]!=h[1]&&(n[h[0]]=r.Workbook.WBProps[h[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=He("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=r.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==r.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=r.SheetNames.length;++o){var c={name:qt(r.SheetNames[o].slice(0,31))};if(c.sheetId=""+(o+1),c["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=He("sheet",null,c)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(h){var d={name:h.Name};h.Comment&&(d.comment=h.Comment),h.Sheet!=null&&(d.localSheetId=""+h.Sheet),h.Hidden&&(d.hidden="1"),h.Ref&&(e[e.length]=He("definedName",qt(h.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function jF(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=x0(r),t.name=ta(r),t}function OF(r,e){return e||(e=we(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),nm(r.strRelID,e),Ur(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function DF(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?ta(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function RF(r,e){e||(e=we(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),Kx(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function BF(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),o=AB(r),c=GL(r,0,t),h=am(r);r.l=n;var d={Name:o,Ptg:c};return i<268435455&&(d.Sheet=i),h&&(d.Comment=h),d}function MF(r,e){ke(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ke(r,156,OF(i))}ke(r,144)}function LF(r,e){e||(e=we(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Ur("SheetJS",e),Ur(zu.version,e),Ur(zu.version,e),Ur("7262",e),e.length>e.l?e.slice(0,e.l):e}function PF(r,e){e||(e=we(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function FF(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,o=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&o==-1&&(o=n);o>i||(ke(r,135),ke(r,158,PF(i)),ke(r,136))}}function IF(r,e){var t=ga();return ke(t,131),ke(t,128,LF()),ke(t,153,RF(r.Workbook&&r.Workbook.WBProps||null)),FF(t,r),MF(t,r),ke(t,132),t.end()}function UF(r,e,t){return(e.slice(-4)===".bin"?IF:Fw)(r)}function HF(r,e,t,n,i){return(e.slice(-4)===".bin"?bF:Mw)(r,t,n,i)}function zF(r,e,t){return(e.slice(-4)===".bin"?iM:xw)(r,t)}function $F(r,e,t){return(e.slice(-4)===".bin"?R7:gw)(r,t)}function qF(r,e,t){return(e.slice(-4)===".bin"?SM:Ew)(r)}function GF(r){return(r.slice(-4)===".bin"?mM:bw)()}function VF(r,e){var t=[];return r.Props&&t.push(zB(r.Props,e)),r.Custprops&&t.push($B(r.Props,r.Custprops)),t.join("")}function WF(){return""}function YF(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var o=[];o.push(He("NumberFormat",null,{"ss:Format":qt(xr[n.numFmtId])}));var c={"ss:ID":"s"+(21+i)};t.push(He("Style",o.join(""),c))}),He("Styles",t.join(""))}function Iw(r){return He("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+om(r.Ref,{r:0,c:0})})}function XF(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(Iw(i)))}return He("Names",t.join(""))}function KF(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,o=[],c=0;c<i.length;++c){var h=i[c];h.Sheet==t&&(h.Name.match(/^_xlfn\./)||o.push(Iw(h)))}return o.join("")}function JF(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(He("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(He("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(He("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(He("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&!(n.Workbook.Sheets[o]&&!n.Workbook.Sheets[o].Hidden);++o);o==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(Xr("ProtectContents","True")),r["!protect"].objects&&i.push(Xr("ProtectObjects","True")),r["!protect"].scenarios&&i.push(Xr("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(Xr("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(Xr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){r["!protect"][c[0]]&&i.push("<"+c[1]+"/>")})),i.length==0?"":He("WorksheetOptions",i.join(""),{xmlns:Oa.x})}function QF(r){return r.map(function(e){var t=rB(e.t||""),n=He("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return He("Comment",n,{"ss:Author":e.a})}).join("")}function ZF(r,e,t,n,i,o,c){if(!r||r.v==null&&r.f==null)return"";var h={};if(r.f&&(h["ss:Formula"]="="+qt(om(r.f,c))),r.F&&r.F.slice(0,e.length)==e){var d=Ir(r.F.slice(e.length+1));h["ss:ArrayRange"]="RC:R"+(d.r==c.r?"":"["+(d.r-c.r)+"]")+"C"+(d.c==c.c?"":"["+(d.c-c.c)+"]")}if(r.l&&r.l.Target&&(h["ss:HRef"]=qt(r.l.Target),r.l.Tooltip&&(h["x:HRefScreenTip"]=qt(r.l.Tooltip))),t["!merges"])for(var m=t["!merges"],_=0;_!=m.length;++_)m[_].s.c!=c.c||m[_].s.r!=c.r||(m[_].e.c>m[_].s.c&&(h["ss:MergeAcross"]=m[_].e.c-m[_].s.c),m[_].e.r>m[_].s.r&&(h["ss:MergeDown"]=m[_].e.r-m[_].s.r));var v="",x="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":v="Number",x=String(r.v);break;case"b":v="Boolean",x=r.v?"1":"0";break;case"e":v="Error",x=nc[r.v];break;case"d":v="DateTime",x=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||xr[14]);break;case"s":v="String",x=tB(r.v||"");break}var y=Ms(n.cellXfs,r,n);h["ss:StyleID"]="s"+(21+y),h["ss:Index"]=c.c+1;var b=r.v!=null?x:"",w=r.t=="z"?"":'<Data ss:Type="'+v+'">'+b+"</Data>";return(r.c||[]).length>0&&(w+=QF(r.c)),He("Cell",w,h)}function e9(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=yw(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function t9(r,e,t,n){if(!r["!ref"])return"";var i=ir(r["!ref"]),o=r["!merges"]||[],c=0,h=[];r["!cols"]&&r["!cols"].forEach(function(S,j){im(S);var E=!!S.width,N=mf(j,S),B={"ss:Index":j+1};E&&(B["ss:Width"]=Qu(N.width)),S.hidden&&(B["ss:Hidden"]="1"),h.push(He("Column",null,B))});for(var d=Array.isArray(r),m=i.s.r;m<=i.e.r;++m){for(var _=[e9(m,(r["!rows"]||[])[m])],v=i.s.c;v<=i.e.c;++v){var x=!1;for(c=0;c!=o.length;++c)if(!(o[c].s.c>v)&&!(o[c].s.r>m)&&!(o[c].e.c<v)&&!(o[c].e.r<m)){(o[c].s.c!=v||o[c].s.r!=m)&&(x=!0);break}if(!x){var y={r:m,c:v},b=Gt(y),w=d?(r[m]||[])[v]:r[b];_.push(ZF(w,b,r,e,t,n,y))}}_.push("</Row>"),_.length>2&&h.push(_.join(""))}return h.join("")}function r9(r,e,t){var n=[],i=t.SheetNames[r],o=t.Sheets[i],c=o?KF(o,e,r,t):"";return c.length>0&&n.push("<Names>"+c+"</Names>"),c=o?t9(o,e,r,t):"",c.length>0&&n.push("<Table>"+c+"</Table>"),n.push(JF(o,e,r,t)),n.join("")}function a9(r,e){e||(e={}),r.SSF||(r.SSF=va(xr)),r.SSF&&(cf(),of(r.SSF),e.revssf=uf(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Ms(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(VF(r,e)),t.push(WF()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(He("Worksheet",r9(n,e,r),{"ss:Name":qt(r.SheetNames[n])}));return t[2]=YF(r,e),t[3]=XF(r),Dr+He("Workbook",t.join(""),{xmlns:Oa.ss,"xmlns:o":Oa.o,"xmlns:x":Oa.x,"xmlns:ss":Oa.ss,"xmlns:dt":Oa.dt,"xmlns:html":Oa.html})}var Wd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function n9(r,e){var t=[],n=[],i=[],o=0,c,h=fv(Tv,"n"),d=fv(Ev,"n");if(r.Props)for(c=Jr(r.Props),o=0;o<c.length;++o)(Object.prototype.hasOwnProperty.call(h,c[o])?t:Object.prototype.hasOwnProperty.call(d,c[o])?n:i).push([c[o],r.Props[c[o]]]);if(r.Custprops)for(c=Jr(r.Custprops),o=0;o<c.length;++o)Object.prototype.hasOwnProperty.call(r.Props||{},c[o])||(Object.prototype.hasOwnProperty.call(h,c[o])?t:Object.prototype.hasOwnProperty.call(d,c[o])?n:i).push([c[o],r.Custprops[c[o]]]);var m=[];for(o=0;o<i.length;++o)cw.indexOf(i[o][0])>-1||iw.indexOf(i[o][0])>-1||i[o][1]!=null&&m.push(i[o]);n.length&&Xt.utils.cfb_add(e,"/SummaryInformation",jv(n,Wd.SI,d,Ev)),(t.length||m.length)&&Xt.utils.cfb_add(e,"/DocumentSummaryInformation",jv(t,Wd.DSI,h,Tv,m.length?m:null,Wd.UDI))}function s9(r,e){var t=e||{},n=Xt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Xt.utils.cfb_add(n,i,Uw(r,t)),t.biff==8&&(r.Props||r.Custprops)&&n9(r,n),t.biff==8&&r.vbaraw&&bM(n,Xt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var i9={0:{f:cP},1:{f:_P},2:{f:PP},3:{f:EP},4:{f:wP},5:{f:RP},6:{f:zP},7:{f:kP},8:{f:XP},9:{f:YP},10:{f:VP},11:{f:WP},12:{f:yP},13:{f:IP},14:{f:CP},15:{f:bP},16:{f:MP},17:{f:qP},18:{f:OP},19:{f:rm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BF},40:{},42:{},43:{f:z7},44:{f:U7},45:{f:G7},46:{f:W7},47:{f:V7},48:{},49:{f:yB},50:{},51:{f:cM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:x7},62:{f:HP},63:{f:pM},64:{f:fF},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:En,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:lF},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pP},148:{f:hP,p:16},151:{f:tF},152:{},153:{f:DF},154:{},155:{},156:{f:jF},157:{},158:{},159:{T:1,f:j7},160:{T:-1},161:{T:1,f:yi},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:KP},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lM},336:{T:-1},337:{f:hM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:x0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:m7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rF},427:{f:aF},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:sF},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:mP},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ZP},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:x0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:xM},633:{T:1},634:{T:-1},635:{T:1,f:vM},636:{T:-1},637:{f:bB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:TF},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hF},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function $e(r,e,t,n){var i=e;if(!isNaN(i)){var o=n||(t||[]).length||0,c=r.next(4);c.write_shift(2,i),c.write_shift(2,o),o>0&&Z0(t)&&r.push(t)}}function l9(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return $e(r,e,t,i);var o=e;if(!isNaN(o)){for(var c=t.parts||[],h=0,d=0,m=0;m+(c[h]||8224)<=8224;)m+=c[h]||8224,h++;var _=r.next(4);for(_.write_shift(2,o),_.write_shift(2,m),r.push(t.slice(d,d+m)),d+=m;d<i;){for(_=r.next(4),_.write_shift(2,60),m=0;m+(c[h]||8224)<=8224;)m+=c[h]||8224,h++;_.write_shift(2,m),r.push(t.slice(d,d+m)),d+=m}}}function ic(r,e,t){return r||(r=we(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function o9(r,e,t,n){var i=we(9);return ic(i,r,e),fw(t,n||"b",i),i}function c9(r,e,t){var n=we(8+2*t.length);return ic(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function u9(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?_a(oa(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?$e(r,2,T7(t,n,i)):$e(r,3,b7(t,n,i));return;case"b":case"e":$e(r,5,o9(t,n,e.v,e.t));return;case"s":case"str":$e(r,4,c9(t,n,(e.v||"").slice(0,255)));return}$e(r,1,ic(null,t,n))}function f9(r,e,t,n){var i=Array.isArray(e),o=ir(e["!ref"]||"A1"),c,h="",d=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),c=Or(o)}for(var m=o.s.r;m<=o.e.r;++m){h=Kr(m);for(var _=o.s.c;_<=o.e.c;++_){m===o.s.r&&(d[_]=ea(_)),c=d[_]+h;var v=i?(e[m]||[])[_]:e[c];v&&u9(r,v,m,_)}}}function h9(r,e){for(var t=e||{},n=ga(),i=0,o=0;o<r.SheetNames.length;++o)r.SheetNames[o]==t.sheet&&(i=o);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return $e(n,t.biff==4?1033:t.biff==3?521:9,sm(r,16,t)),f9(n,r.Sheets[r.SheetNames[i]],i,t),$e(n,10),n.end()}function d9(r,e,t){$e(r,49,i7({sz:12,name:"Arial"},t))}function m9(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&$e(r,1054,c7(i,e[i],t))})}function p9(r,e){var t=we(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),$e(r,2151,t),t=we(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),mw(ir(e["!ref"]||"A1"),t),t.write_shift(4,4),$e(r,2152,t)}function g9(r,e){for(var t=0;t<16;++t)$e(r,224,Dv({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){$e(r,224,Dv(n,0,e))})}function _9(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];$e(r,440,_7(n)),n[1].Tooltip&&$e(r,2048,v7(n))}delete e["!links"]}function v9(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&$e(r,125,w7(mf(i,n),i))})}}function y9(r,e,t,n,i){var o=16+Ms(i.cellXfs,e,i);if(e.v==null&&!e.bf){$e(r,513,di(t,n,o));return}if(e.bf)$e(r,6,$L(e,t,n,i,o));else switch(e.t){case"d":case"n":var c=e.t=="d"?_a(oa(e.v)):e.v;$e(r,515,d7(t,n,c,o));break;case"b":case"e":$e(r,517,h7(t,n,e.v,o,i,e.t));break;case"s":case"str":if(i.bookSST){var h=um(i.Strings,e.v,i.revStrings);$e(r,253,l7(t,n,h,o))}else $e(r,516,o7(t,n,(e.v||"").slice(0,255),o,i));break;default:$e(r,513,di(t,n,o))}}function x9(r,e,t){var n=ga(),i=t.SheetNames[r],o=t.Sheets[i]||{},c=(t||{}).Workbook||{},h=(c.Sheets||[])[r]||{},d=Array.isArray(o),m=e.biff==8,_,v="",x=[],y=ir(o["!ref"]||"A1"),b=m?65536:16384;if(y.e.c>255||y.e.r>=b){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,b-1)}$e(n,2057,sm(t,16,e)),$e(n,13,en(1)),$e(n,12,en(100)),$e(n,15,la(!0)),$e(n,17,la(!1)),$e(n,16,hi(.001)),$e(n,95,la(!0)),$e(n,42,la(!1)),$e(n,43,la(!1)),$e(n,130,en(1)),$e(n,128,f7()),$e(n,131,la(!1)),$e(n,132,la(!1)),m&&v9(n,o["!cols"]),$e(n,512,u7(y,e)),m&&(o["!links"]=[]);for(var w=y.s.r;w<=y.e.r;++w){v=Kr(w);for(var S=y.s.c;S<=y.e.c;++S){w===y.s.r&&(x[S]=ea(S)),_=x[S]+v;var j=d?(o[w]||[])[S]:o[_];j&&(y9(n,j,w,S,e),m&&j.l&&o["!links"].push([_,j.l]))}}var E=h.CodeName||h.name||i;return m&&$e(n,574,s7((c.Views||[])[0])),m&&(o["!merges"]||[]).length&&$e(n,229,g7(o["!merges"])),m&&_9(n,o),$e(n,442,dw(E)),m&&p9(n,o),$e(n,10),n.end()}function w9(r,e,t){var n=ga(),i=(r||{}).Workbook||{},o=i.Sheets||[],c=i.WBProps||{},h=t.biff==8,d=t.biff==5;if($e(n,2057,sm(r,5,t)),t.bookType=="xla"&&$e(n,135),$e(n,225,h?en(1200):null),$e(n,193,VB(2)),d&&$e(n,191),d&&$e(n,192),$e(n,226),$e(n,92,t7("SheetJS",t)),$e(n,66,en(h?1200:1252)),h&&$e(n,353,en(0)),h&&$e(n,448),$e(n,317,S7(r.SheetNames.length)),h&&r.vbaraw&&$e(n,211),h&&r.vbaraw){var m=c.CodeName||"ThisWorkbook";$e(n,442,dw(m))}$e(n,156,en(17)),$e(n,25,la(!1)),$e(n,18,la(!1)),$e(n,19,en(0)),h&&$e(n,431,la(!1)),h&&$e(n,444,en(0)),$e(n,61,n7()),$e(n,64,la(!1)),$e(n,141,en(0)),$e(n,34,la(AF(r)=="true")),$e(n,14,la(!0)),h&&$e(n,439,la(!1)),$e(n,218,en(0)),d9(n,r,t),m9(n,r.SSF,t),g9(n,t),h&&$e(n,352,la(!1));var _=n.end(),v=ga();h&&$e(v,140,y7()),h&&t.Strings&&l9(v,252,a7(t.Strings)),$e(v,10);var x=v.end(),y=ga(),b=0,w=0;for(w=0;w<r.SheetNames.length;++w)b+=(h?12:11)+(h?2:1)*r.SheetNames[w].length;var S=_.length+b+x.length;for(w=0;w<r.SheetNames.length;++w){var j=o[w]||{};$e(y,133,r7({pos:S,hs:j.Hidden||0,dt:0,name:r.SheetNames[w]},t)),S+=e[w].length}var E=y.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var N=[];return _.length&&N.push(_),E.length&&N.push(E),x.length&&N.push(x),Yr(N)}function S9(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=va(xr)),r&&r.SSF&&(cf(),of(r.SSF),t.revssf=uf(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fm(t),t.cellXfs=[],Ms(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=x9(i,t,r);return n.unshift(w9(r,n,t)),Yr(n)}function Uw(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=Ma(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return S9(r,e);case 4:case 3:case 2:return h9(r,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function b9(r,e,t,n){for(var i=r["!merges"]||[],o=[],c=e.s.c;c<=e.e.c;++c){for(var h=0,d=0,m=0;m<i.length;++m)if(!(i[m].s.r>t||i[m].s.c>c)&&!(i[m].e.r<t||i[m].e.c<c)){if(i[m].s.r<t||i[m].s.c<c){h=-1;break}h=i[m].e.r-i[m].s.r+1,d=i[m].e.c-i[m].s.c+1;break}if(!(h<0)){var _=Gt({r:t,c}),v=n.dense?(r[t]||[])[c]:r[_],x=v&&v.v!=null&&(v.h||eB(v.w||(Jn(v),v.w)||""))||"",y={};h>1&&(y.rowspan=h),d>1&&(y.colspan=d),n.editable?x='<span contenteditable="true">'+x+"</span>":v&&(y["data-t"]=v&&v.t||"z",v.v!=null&&(y["data-v"]=v.v),v.z!=null&&(y["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+v.l.Target+'">'+x+"</a>")),y.id=(n.id||"sjs")+"-"+_,o.push(He("td",x,y))}}var b="<tr>";return b+o.join("")+"</tr>"}var T9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',E9="</body></html>";function A9(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function Hw(r,e){var t=e||{},n=t.header!=null?t.header:T9,i=t.footer!=null?t.footer:E9,o=[n],c=Ma(r["!ref"]);t.dense=Array.isArray(r),o.push(A9(r,c,t));for(var h=c.s.r;h<=c.e.r;++h)o.push(b9(r,c,h,t));return o.push("</table>"+i),o.join("")}function zw(r,e,t){var n=t||{},i=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Ir(n.origin):n.origin;i=c.r,o=c.c}var h=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,h.length),m={s:{r:0,c:0},e:{r:i,c:o}};if(r["!ref"]){var _=Ma(r["!ref"]);m.s.r=Math.min(m.s.r,_.s.r),m.s.c=Math.min(m.s.c,_.s.c),m.e.r=Math.max(m.e.r,_.e.r),m.e.c=Math.max(m.e.c,_.e.c),i==-1&&(m.e.r=i=_.e.r+1)}var v=[],x=0,y=r["!rows"]||(r["!rows"]=[]),b=0,w=0,S=0,j=0,E=0,N=0;for(r["!cols"]||(r["!cols"]=[]);b<h.length&&w<d;++b){var B=h[b];if(Iv(B)){if(n.display)continue;y[w]={hidden:!0}}var X=B.children;for(S=j=0;S<X.length;++S){var Y=X[S];if(!(n.display&&Iv(Y))){var R=Y.hasAttribute("data-v")?Y.getAttribute("data-v"):Y.hasAttribute("v")?Y.getAttribute("v"):nB(Y.innerHTML),J=Y.getAttribute("data-z")||Y.getAttribute("z");for(x=0;x<v.length;++x){var Z=v[x];Z.s.c==j+o&&Z.s.r<w+i&&w+i<=Z.e.r&&(j=Z.e.c+1-o,x=-1)}N=+Y.getAttribute("colspan")||1,((E=+Y.getAttribute("rowspan")||1)>1||N>1)&&v.push({s:{r:w+i,c:j+o},e:{r:w+i+(E||1)-1,c:j+o+(N||1)-1}});var fe={t:"s",v:R},ge=Y.getAttribute("data-t")||Y.getAttribute("t")||"";R!=null&&(R.length==0?fe.t=ge||"z":n.raw||R.trim().length==0||ge=="s"||(R==="TRUE"?fe={t:"b",v:!0}:R==="FALSE"?fe={t:"b",v:!1}:isNaN(Wn(R))?isNaN(Go(R).getDate())||(fe={t:"d",v:oa(R)},n.cellDates||(fe={t:"n",v:_a(fe.v)}),fe.z=n.dateNF||xr[14]):fe={t:"n",v:Wn(R)})),fe.z===void 0&&J!=null&&(fe.z=J);var H="",Ee=Y.getElementsByTagName("A");if(Ee&&Ee.length)for(var Ve=0;Ve<Ee.length&&!(Ee[Ve].hasAttribute("href")&&(H=Ee[Ve].getAttribute("href"),H.charAt(0)!="#"));++Ve);H&&H.charAt(0)!="#"&&(fe.l={Target:H}),n.dense?(r[w+i]||(r[w+i]=[]),r[w+i][j+o]=fe):r[Gt({c:j+o,r:w+i})]=fe,m.e.c<j+o&&(m.e.c=j+o),j+=N}}++w}return v.length&&(r["!merges"]=(r["!merges"]||[]).concat(v)),m.e.r=Math.max(m.e.r,w-1+i),r["!ref"]=Or(m),w>=d&&(r["!fullref"]=Or((m.e.r=h.length-b+w-1+i,m))),r}function $w(r,e){var t=e||{},n=t.dense?[]:{};return zw(n,r,e)}function C9(r,e){return pi($w(r,e),e)}function Iv(r){var e="",t=N9(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function N9(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var k9=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Wo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Dr+e}})(),Uv=(function(){var r=function(o){return qt(o).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(o,c,h){var d=[];d.push('      <table:table table:name="'+qt(c.SheetNames[h])+`" table:style-name="ta1">
`);var m=0,_=0,v=Ma(o["!ref"]||"A1"),x=o["!merges"]||[],y=0,b=Array.isArray(o);if(o["!cols"])for(_=0;_<=v.e.c;++_)d.push("        <table:table-column"+(o["!cols"][_]?' table:style-name="co'+o["!cols"][_].ods+'"':"")+`></table:table-column>
`);var w="",S=o["!rows"]||[];for(m=0;m<v.s.r;++m)w=S[m]?' table:style-name="ro'+S[m].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;m<=v.e.r;++m){for(w=S[m]?' table:style-name="ro'+S[m].ods+'"':"",d.push("        <table:table-row"+w+`>
`),_=0;_<v.s.c;++_)d.push(e);for(;_<=v.e.c;++_){var j=!1,E={},N="";for(y=0;y!=x.length;++y)if(!(x[y].s.c>_)&&!(x[y].s.r>m)&&!(x[y].e.c<_)&&!(x[y].e.r<m)){(x[y].s.c!=_||x[y].s.r!=m)&&(j=!0),E["table:number-columns-spanned"]=x[y].e.c-x[y].s.c+1,E["table:number-rows-spanned"]=x[y].e.r-x[y].s.r+1;break}if(j){d.push(t);continue}var B=Gt({r:m,c:_}),X=b?(o[m]||[])[_]:o[B];if(X&&X.f&&(E["table:formula"]=qt(XL(X.f)),X.F&&X.F.slice(0,B.length)==B)){var Y=Ma(X.F);E["table:number-matrix-columns-spanned"]=Y.e.c-Y.s.c+1,E["table:number-matrix-rows-spanned"]=Y.e.r-Y.s.r+1}if(!X){d.push(e);continue}switch(X.t){case"b":N=X.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=X.v?"true":"false";break;case"n":N=X.w||String(X.v||0),E["office:value-type"]="float",E["office:value"]=X.v||0;break;case"s":case"str":N=X.v==null?"":X.v,E["office:value-type"]="string";break;case"d":N=X.w||oa(X.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=oa(X.v).toISOString(),E["table:style-name"]="ce1";break;default:d.push(e);continue}var R=r(N);if(X.l&&X.l.Target){var J=X.l.Target;J=J.charAt(0)=="#"?"#"+KL(J.slice(1)):J,J.charAt(0)!="#"&&!J.match(/^\w+:/)&&(J="../"+J),R=He("text:a",R,{"xlink:href":J.replace(/&/g,"&amp;")})}d.push("          "+He("table:table-cell",He("text:p",R,{}),E)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(o,c){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var h=0;c.SheetNames.map(function(m){return c.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var _=0;_<m["!cols"].length;++_)if(m["!cols"][_]){var v=m["!cols"][_];if(v.width==null&&v.wpx==null&&v.wch==null)continue;im(v),v.ods=h;var x=m["!cols"][_].wpx+"px";o.push('  <style:style style:name="co'+h+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),o.push(`  </style:style>
`),++h}}});var d=0;c.SheetNames.map(function(m){return c.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var _=0;_<m["!rows"].length;++_)if(m["!rows"][_]){m["!rows"][_].ods=d;var v=m["!rows"][_].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(c,h){var d=[Dr],m=Wo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),_=Wo({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});h.bookType=="fods"?(d.push("<office:document"+m+_+`>
`),d.push(nw().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+m+`>
`),i(d,c),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var v=0;v!=c.SheetNames.length;++v)d.push(n(c.Sheets[c.SheetNames[v]],c,v));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),h.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function qw(r,e){if(e.bookType=="fods")return Uv(r,e);var t=X0(),n="",i=[],o=[];return n="mimetype",_t(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",_t(t,n,Uv(r,e)),i.push([n,"text/xml"]),o.push([n,"ContentFile"]),n="styles.xml",_t(t,n,k9(r,e)),i.push([n,"text/xml"]),o.push([n,"StylesFile"]),n="meta.xml",_t(t,n,Dr+nw()),i.push([n,"text/xml"]),o.push([n,"MetadataFile"]),n="manifest.rdf",_t(t,n,HB(o)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",_t(t,n,IB(i)),t}function tf(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function j9(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):mn(Vo(r))}function O9(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function Rs(r){var e=r.reduce(function(i,o){return i+o.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function D9(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var o=0;i>=1;++o,i/=256)r[e+o]=i&255;r[e+15]|=t>=0?0:128}function Yo(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function zt(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function vl(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Lr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=Yo(r,t),o=i&7;i=Math.floor(i/8);var c=0,h;if(i==0)break;switch(o){case 0:{for(var d=t[0];r[t[0]++]>=128;);h=r.slice(d,t[0])}break;case 5:c=4,h=r.slice(t[0],t[0]+c),t[0]+=c;break;case 1:c=8,h=r.slice(t[0],t[0]+c),t[0]+=c;break;case 2:c=Yo(r,t),h=r.slice(t[0],t[0]+c),t[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(n))}var m={data:h,type:o};e[i]==null?e[i]=[m]:e[i].push(m)}return e}function Vr(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push(zt(n*8+i.type)),i.type==2&&e.push(zt(i.data.length)),e.push(i.data))})}),Rs(e)}function on(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=Yo(r,n),o=Lr(r.slice(n[0],n[0]+i));n[0]+=i;var c={id:vl(o[1][0].data),messages:[]};o[2].forEach(function(h){var d=Lr(h.data),m=vl(d[3][0].data);c.messages.push({meta:d,data:r.slice(n[0],n[0]+m)}),n[0]+=m}),(e=o[3])!=null&&e[0]&&(c.merge=vl(o[3][0].data)>>>0>0),t.push(c)}return t}function ol(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:zt(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:zt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(c){i.push(c.data),c.meta[3]=[{type:0,data:zt(c.data.length)}],n[2].push({data:Vr(c.meta),type:2})});var o=Vr(n);e.push(zt(o.length)),e.push(o),i.forEach(function(c){return e.push(c)})}),Rs(e)}function R9(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Yo(e,t),i=[];t[0]<e.length;){var o=e[t[0]]&3;if(o==0){var c=e[t[0]++]>>2;if(c<60)++c;else{var h=c-59;c=e[t[0]],h>1&&(c|=e[t[0]+1]<<8),h>2&&(c|=e[t[0]+2]<<16),h>3&&(c|=e[t[0]+3]<<24),c>>>=0,c++,t[0]+=h}i.push(e.slice(t[0],t[0]+c)),t[0]+=c;continue}else{var d=0,m=0;if(o==1?(m=(e[t[0]]>>2&7)+4,d=(e[t[0]++]&224)<<3,d|=e[t[0]++]):(m=(e[t[0]++]>>2)+1,o==2?(d=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(d=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Rs(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(m>=d)for(i.push(i[0].slice(-d)),m-=d;m>=i[i.length-1].length;)i.push(i[i.length-1]),m-=i[i.length-1].length;i.push(i[0].slice(-d,-d+m))}}var _=Rs(i);if(_.length!=n)throw new Error("Unexpected length: ".concat(_.length," != ").concat(n));return _}function cn(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(R9(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Rs(e)}function cl(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var o=zt(n),c=o.length;e.push(o),n<=60?(c++,e.push(new Uint8Array([n-1<<2]))):n<=256?(c+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(c+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(c+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(c+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),c+=n,i[0]=0,i[1]=c&255,i[2]=c>>8&255,i[3]=c>>16&255,t+=n}return Rs(e)}function Yd(r,e){var t=new Uint8Array(32),n=tf(t),i=12,o=0;switch(t[0]=5,r.t){case"n":t[1]=2,D9(t,i,r.v),o|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),o|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,o,!0),t.slice(0,i)}function Xd(r,e){var t=new Uint8Array(32),n=tf(t),i=12,o=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),o|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),o|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,o,!0),t.slice(0,i)}function Ts(r){var e=Lr(r);return Yo(e[1][0].data)}function B9(r,e,t){var n,i,o,c;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var h=((c=(o=r[8])==null?void 0:o[0])==null?void 0:c.data)&&vl(r[8][0].data)>0||!1;if(h)throw"Math only works with normal offsets";for(var d=0,m=tf(r[7][0].data),_=0,v=[],x=tf(r[4][0].data),y=0,b=[],w=0;w<e.length;++w){if(e[w]==null){m.setUint16(w*2,65535,!0),x.setUint16(w*2,65535);continue}m.setUint16(w*2,_,!0),x.setUint16(w*2,y,!0);var S,j;switch(typeof e[w]){case"string":S=Yd({t:"s",v:e[w]},t),j=Xd({t:"s",v:e[w]},t);break;case"number":S=Yd({t:"n",v:e[w]},t),j=Xd({t:"n",v:e[w]},t);break;case"boolean":S=Yd({t:"b",v:e[w]},t),j=Xd({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}v.push(S),_+=S.length,b.push(j),y+=j.length,++d}for(r[2][0].data=zt(d);w<r[7][0].data.length/2;++w)m.setUint16(w*2,65535,!0),x.setUint16(w*2,65535,!0);return r[6][0].data=Rs(v),r[3][0].data=Rs(b),d}function M9(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ma(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Or(n)));var o=rf(t,{range:n,header:1}),c=["~Sh33tJ5~"];o.forEach(function(P){return P.forEach(function(U){typeof U=="string"&&c.push(U)})});var h={},d=[],m=Xt.read(e.numbers,{type:"base64"});m.FileIndex.map(function(P,U){return[P,m.FullPaths[U]]}).forEach(function(P){var U=P[0],G=P[1];if(U.type==2&&U.name.match(/\.iwa/)){var ie=U.content,ve=cn(ie),Le=on(ve);Le.forEach(function(Ce){d.push(Ce.id),h[Ce.id]={deps:[],location:G,type:vl(Ce.messages[0].meta[1][0].data)}})}}),d.sort(function(P,U){return P-U});var _=d.filter(function(P){return P>1}).map(function(P){return[P,zt(P)]});m.FileIndex.map(function(P,U){return[P,m.FullPaths[U]]}).forEach(function(P){var U=P[0];if(P[1],!!U.name.match(/\.iwa/)){var G=on(cn(U.content));G.forEach(function(ie){ie.messages.forEach(function(ve){_.forEach(function(Le){ie.messages.some(function(Ce){return vl(Ce.meta[1][0].data)!=11006&&O9(Ce.data,Le[1])})&&h[Le[0]].deps.push(ie.id)})})})}});for(var v=Xt.find(m,h[1].location),x=on(cn(v.content)),y,b=0;b<x.length;++b){var w=x[b];w.id==1&&(y=w)}var S=Ts(Lr(y.messages[0].data)[1][0].data);for(v=Xt.find(m,h[S].location),x=on(cn(v.content)),b=0;b<x.length;++b)w=x[b],w.id==S&&(y=w);for(S=Ts(Lr(y.messages[0].data)[2][0].data),v=Xt.find(m,h[S].location),x=on(cn(v.content)),b=0;b<x.length;++b)w=x[b],w.id==S&&(y=w);for(S=Ts(Lr(y.messages[0].data)[2][0].data),v=Xt.find(m,h[S].location),x=on(cn(v.content)),b=0;b<x.length;++b)w=x[b],w.id==S&&(y=w);var j=Lr(y.messages[0].data);{j[6][0].data=zt(n.e.r+1),j[7][0].data=zt(n.e.c+1);var E=Ts(j[46][0].data),N=Xt.find(m,h[E].location),B=on(cn(N.content));{for(var X=0;X<B.length&&B[X].id!=E;++X);if(B[X].id!=E)throw"Bad ColumnRowUIDMapArchive";var Y=Lr(B[X].messages[0].data);Y[1]=[],Y[2]=[],Y[3]=[];for(var R=0;R<=n.e.c;++R){var J=[];J[1]=J[2]=[{type:0,data:zt(R+420690)}],Y[1].push({type:2,data:Vr(J)}),Y[2].push({type:0,data:zt(R)}),Y[3].push({type:0,data:zt(R)})}Y[4]=[],Y[5]=[],Y[6]=[];for(var Z=0;Z<=n.e.r;++Z)J=[],J[1]=J[2]=[{type:0,data:zt(Z+726270)}],Y[4].push({type:2,data:Vr(J)}),Y[5].push({type:0,data:zt(Z)}),Y[6].push({type:0,data:zt(Z)});B[X].messages[0].data=Vr(Y)}N.content=cl(ol(B)),N.size=N.content.length,delete j[46];var fe=Lr(j[4][0].data);{fe[7][0].data=zt(n.e.r+1);var ge=Lr(fe[1][0].data),H=Ts(ge[2][0].data);N=Xt.find(m,h[H].location),B=on(cn(N.content));{if(B[0].id!=H)throw"Bad HeaderStorageBucket";var Ee=Lr(B[0].messages[0].data);for(Z=0;Z<o.length;++Z){var Ve=Lr(Ee[2][0].data);Ve[1][0].data=zt(Z),Ve[4][0].data=zt(o[Z].length),Ee[2][Z]={type:Ee[2][0].type,data:Vr(Ve)}}B[0].messages[0].data=Vr(Ee)}N.content=cl(ol(B)),N.size=N.content.length;var Te=Ts(fe[2][0].data);N=Xt.find(m,h[Te].location),B=on(cn(N.content));{if(B[0].id!=Te)throw"Bad HeaderStorageBucket";for(Ee=Lr(B[0].messages[0].data),R=0;R<=n.e.c;++R)Ve=Lr(Ee[2][0].data),Ve[1][0].data=zt(R),Ve[4][0].data=zt(n.e.r+1),Ee[2][R]={type:Ee[2][0].type,data:Vr(Ve)};B[0].messages[0].data=Vr(Ee)}N.content=cl(ol(B)),N.size=N.content.length;var W=Ts(fe[4][0].data);(function(){for(var P=Xt.find(m,h[W].location),U=on(cn(P.content)),G,ie=0;ie<U.length;++ie){var ve=U[ie];ve.id==W&&(G=ve)}var Le=Lr(G.messages[0].data);{Le[3]=[];var Ce=[];c.forEach(function(ot,rr){Ce[1]=[{type:0,data:zt(rr)}],Ce[2]=[{type:0,data:zt(1)}],Ce[3]=[{type:2,data:j9(ot)}],Le[3].push({type:2,data:Vr(Ce)})})}G.messages[0].data=Vr(Le);var De=ol(U),gt=cl(De);P.content=gt,P.size=P.content.length})();var xe=Lr(fe[3][0].data);{var Ie=xe[1][0];delete xe[2];var ee=Lr(Ie.data);{var je=Ts(ee[2][0].data);(function(){for(var P=Xt.find(m,h[je].location),U=on(cn(P.content)),G,ie=0;ie<U.length;++ie){var ve=U[ie];ve.id==je&&(G=ve)}var Le=Lr(G.messages[0].data);{delete Le[6],delete xe[7];var Ce=new Uint8Array(Le[5][0].data);Le[5]=[];for(var De=0,gt=0;gt<=n.e.r;++gt){var ot=Lr(Ce);De+=B9(ot,o[gt],c),ot[1][0].data=zt(gt),Le[5].push({data:Vr(ot),type:2})}Le[1]=[{type:0,data:zt(n.e.c+1)}],Le[2]=[{type:0,data:zt(n.e.r+1)}],Le[3]=[{type:0,data:zt(De)}],Le[4]=[{type:0,data:zt(n.e.r+1)}]}G.messages[0].data=Vr(Le);var rr=ol(U),he=cl(rr);P.content=he,P.size=P.content.length})()}Ie.data=Vr(ee)}fe[3][0].data=Vr(xe)}j[4][0].data=Vr(fe)}y.messages[0].data=Vr(j);var I=ol(x),C=cl(I);return v.content=C,v.size=v.content.length,m}function L9(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function fm(r){L9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function P9(r,e){return e.bookType=="ods"?qw(r,e):e.bookType=="numbers"?M9(r,e):e.bookType=="xlsb"?F9(r,e):I9(r,e)}function F9(r,e){dl=1024,r&&!r.SSF&&(r.SSF=va(xr)),r&&r.SSF&&(cf(),of(r.SSF),e.revssf=uf(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Bo?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=Aw.indexOf(e.bookType)>-1,i=tw();fm(e=e||{});var o=X0(),c="",h=0;if(e.cellXfs=[],Ms(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),c="docProps/core.xml",_t(o,c,sw(r.Props,e)),i.coreprops.push(c),$t(e.rels,2,c,Ot.CORE_PROPS),c="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var d=[],m=0;m<r.SheetNames.length;++m)(r.Workbook.Sheets[m]||{}).Hidden!=2&&d.push(r.SheetNames[m]);r.Props.SheetNames=d}for(r.Props.Worksheets=r.Props.SheetNames.length,_t(o,c,lw(r.Props)),i.extprops.push(c),$t(e.rels,3,c,Ot.EXT_PROPS),r.Custprops!==r.Props&&Jr(r.Custprops||{}).length>0&&(c="docProps/custom.xml",_t(o,c,ow(r.Custprops)),i.custprops.push(c),$t(e.rels,4,c,Ot.CUST_PROPS)),h=1;h<=r.SheetNames.length;++h){var _={"!id":{}},v=r.Sheets[r.SheetNames[h-1]],x=(v||{})["!type"]||"sheet";switch(x){case"chart":default:c="xl/worksheets/sheet"+h+"."+t,_t(o,c,HF(h-1,c,e,r,_)),i.sheets.push(c),$t(e.wbrels,-1,"worksheets/sheet"+h+"."+t,Ot.WS[0])}if(v){var y=v["!comments"],b=!1,w="";y&&y.length>0&&(w="xl/comments"+h+"."+t,_t(o,w,qF(y,w)),i.comments.push(w),$t(_,-1,"../comments"+h+"."+t,Ot.CMNT),b=!0),v["!legacy"]&&b&&_t(o,"xl/drawings/vmlDrawing"+h+".vml",Tw(h,v["!comments"])),delete v["!comments"],delete v["!legacy"]}_["!id"].rId1&&_t(o,aw(c),gl(_))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,_t(o,c,$F(e.Strings,c,e)),i.strs.push(c),$t(e.wbrels,-1,"sharedStrings."+t,Ot.SST)),c="xl/workbook."+t,_t(o,c,UF(r,c)),i.workbooks.push(c),$t(e.rels,1,c,Ot.WB),c="xl/theme/theme1.xml",_t(o,c,Sw(r.Themes,e)),i.themes.push(c),$t(e.wbrels,-1,"theme/theme1.xml",Ot.THEME),c="xl/styles."+t,_t(o,c,zF(r,c,e)),i.styles.push(c),$t(e.wbrels,-1,"styles."+t,Ot.STY),r.vbaraw&&n&&(c="xl/vbaProject.bin",_t(o,c,r.vbaraw),i.vba.push(c),$t(e.wbrels,-1,"vbaProject.bin",Ot.VBA)),c="xl/metadata."+t,_t(o,c,GF(c)),i.metadata.push(c),$t(e.wbrels,-1,"metadata."+t,Ot.XLMETA),_t(o,"[Content_Types].xml",rw(i,e)),_t(o,"_rels/.rels",gl(e.rels)),_t(o,"xl/_rels/workbook."+t+".rels",gl(e.wbrels)),delete e.revssf,delete e.ssf,o}function I9(r,e){dl=1024,r&&!r.SSF&&(r.SSF=va(xr)),r&&r.SSF&&(cf(),of(r.SSF),e.revssf=uf(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Bo?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=Aw.indexOf(e.bookType)>-1,i=tw();fm(e=e||{});var o=X0(),c="",h=0;if(e.cellXfs=[],Ms(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),c="docProps/core.xml",_t(o,c,sw(r.Props,e)),i.coreprops.push(c),$t(e.rels,2,c,Ot.CORE_PROPS),c="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var d=[],m=0;m<r.SheetNames.length;++m)(r.Workbook.Sheets[m]||{}).Hidden!=2&&d.push(r.SheetNames[m]);r.Props.SheetNames=d}r.Props.Worksheets=r.Props.SheetNames.length,_t(o,c,lw(r.Props)),i.extprops.push(c),$t(e.rels,3,c,Ot.EXT_PROPS),r.Custprops!==r.Props&&Jr(r.Custprops||{}).length>0&&(c="docProps/custom.xml",_t(o,c,ow(r.Custprops)),i.custprops.push(c),$t(e.rels,4,c,Ot.CUST_PROPS));var _=["SheetJ5"];for(e.tcid=0,h=1;h<=r.SheetNames.length;++h){var v={"!id":{}},x=r.Sheets[r.SheetNames[h-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:c="xl/worksheets/sheet"+h+"."+t,_t(o,c,Mw(h-1,e,r,v)),i.sheets.push(c),$t(e.wbrels,-1,"worksheets/sheet"+h+"."+t,Ot.WS[0])}if(x){var b=x["!comments"],w=!1,S="";if(b&&b.length>0){var j=!1;b.forEach(function(E){E[1].forEach(function(N){N.T==!0&&(j=!0)})}),j&&(S="xl/threadedComments/threadedComment"+h+"."+t,_t(o,S,gM(b,_,e)),i.threadedcomments.push(S),$t(v,-1,"../threadedComments/threadedComment"+h+"."+t,Ot.TCMNT)),S="xl/comments"+h+"."+t,_t(o,S,Ew(b)),i.comments.push(S),$t(v,-1,"../comments"+h+"."+t,Ot.CMNT),w=!0}x["!legacy"]&&w&&_t(o,"xl/drawings/vmlDrawing"+h+".vml",Tw(h,x["!comments"])),delete x["!comments"],delete x["!legacy"]}v["!id"].rId1&&_t(o,aw(c),gl(v))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,_t(o,c,gw(e.Strings,e)),i.strs.push(c),$t(e.wbrels,-1,"sharedStrings."+t,Ot.SST)),c="xl/workbook."+t,_t(o,c,Fw(r)),i.workbooks.push(c),$t(e.rels,1,c,Ot.WB),c="xl/theme/theme1.xml",_t(o,c,Sw(r.Themes,e)),i.themes.push(c),$t(e.wbrels,-1,"theme/theme1.xml",Ot.THEME),c="xl/styles."+t,_t(o,c,xw(r,e)),i.styles.push(c),$t(e.wbrels,-1,"styles."+t,Ot.STY),r.vbaraw&&n&&(c="xl/vbaProject.bin",_t(o,c,r.vbaraw),i.vba.push(c),$t(e.wbrels,-1,"vbaProject.bin",Ot.VBA)),c="xl/metadata."+t,_t(o,c,bw()),i.metadata.push(c),$t(e.wbrels,-1,"metadata."+t,Ot.XLMETA),_.length>1&&(c="xl/persons/person.xml",_t(o,c,_M(_)),i.people.push(c),$t(e.wbrels,-1,"persons/person.xml",Ot.PEOPLE)),_t(o,"[Content_Types].xml",rw(i,e)),_t(o,"_rels/.rels",gl(e.rels)),_t(o,"xl/_rels/workbook."+t+".rels",gl(e.wbrels)),delete e.revssf,delete e.ssf,o}function U9(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Kn(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Gw(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return rc(e.file,Xt.write(r,{type:Pt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Xt.write(r,e)}function H9(r,e){var t=va(e||{}),n=P9(r,t);return z9(n,t)}function z9(r,e){var t={},n=Pt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?Xt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(lf(i))}return e.password&&typeof encrypt_agile<"u"?Gw(encrypt_agile(i,e.password),e):e.type==="file"?rc(e.file,i):e.type=="string"?jo(i):i}function $9(r,e){var t=e||{},n=s9(r,t);return Gw(n,t)}function Tn(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return qo(Vo(n));case"binary":return Vo(n);case"string":return r;case"file":return rc(e.file,n,"utf8");case"buffer":return Pt?Qn(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Tn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function q9(r,e){switch(e.type){case"base64":return qo(r);case"binary":return r;case"string":return r;case"file":return rc(e.file,r,"binary");case"buffer":return Pt?Qn(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Lu(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?qo(t):e.type=="string"?jo(t):t;case"file":return rc(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function Vw(r,e){v8(),kF(r);var t=va(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=Vw(r,t);return t.type="array",lf(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Tn(a9(r,t),t);case"slk":case"sylk":return Tn(A7.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return Tn(Hw(r.Sheets[r.SheetNames[i]],t),t);case"txt":return q9(Ww(r.Sheets[r.SheetNames[i]],t),t);case"csv":return Tn(hm(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return Tn(C7.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return Lu(E7.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return Tn(N7.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return Tn(M7.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return Tn(pw.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return Tn(qw(r,t),t);case"wk1":return Lu(Rv.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return Lu(Rv.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Lu(Uw(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),$9(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return H9(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function G9(r,e,t,n,i,o,c,h){var d=Kr(t),m=h.defval,_=h.raw||!Object.prototype.hasOwnProperty.call(h,"raw"),v=!0,x=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:t,enumerable:!1})}catch{x.__rowNum__=t}else x.__rowNum__=t;if(!c||r[t])for(var y=e.s.c;y<=e.e.c;++y){var b=c?r[t][y]:r[n[y]+d];if(b===void 0||b.t===void 0){if(m===void 0)continue;o[y]!=null&&(x[o[y]]=m);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(o[y]!=null){if(w==null)if(b.t=="e"&&w===null)x[o[y]]=null;else if(m!==void 0)x[o[y]]=m;else if(_&&w===null)x[o[y]]=null;else continue;else x[o[y]]=_&&(b.t!=="n"||b.t==="n"&&h.rawNumbers!==!1)?w:Jn(b,w,h);w!=null&&(v=!1)}}return{row:x,isempty:v}}function rf(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,o=[],c=0,h="",d={s:{r:0,c:0},e:{r:0,c:0}},m=e||{},_=m.range!=null?m.range:r["!ref"];switch(m.header===1?n=1:m.header==="A"?n=2:Array.isArray(m.header)?n=3:m.header==null&&(n=0),typeof _){case"string":d=ir(_);break;case"number":d=ir(r["!ref"]),d.s.r=_;break;default:d=_}n>0&&(i=0);var v=Kr(d.s.r),x=[],y=[],b=0,w=0,S=Array.isArray(r),j=d.s.r,E=0,N={};S&&!r[j]&&(r[j]=[]);var B=m.skipHidden&&r["!cols"]||[],X=m.skipHidden&&r["!rows"]||[];for(E=d.s.c;E<=d.e.c;++E)if(!(B[E]||{}).hidden)switch(x[E]=ea(E),t=S?r[j][E]:r[x[E]+v],n){case 1:o[E]=E-d.s.c;break;case 2:o[E]=x[E];break;case 3:o[E]=m.header[E-d.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),h=c=Jn(t,null,m),w=N[c]||0,!w)N[c]=1;else{do h=c+"_"+w++;while(N[h]);N[c]=w,N[h]=1}o[E]=h}for(j=d.s.r+i;j<=d.e.r;++j)if(!(X[j]||{}).hidden){var Y=G9(r,d,j,x,n,o,S,m);(Y.isempty===!1||(n===1?m.blankrows!==!1:m.blankrows))&&(y[b++]=Y.row)}return y.length=b,y}var Hv=/"/g;function V9(r,e,t,n,i,o,c,h){for(var d=!0,m=[],_="",v=Kr(t),x=e.s.c;x<=e.e.c;++x)if(n[x]){var y=h.dense?(r[t]||[])[x]:r[n[x]+v];if(y==null)_="";else if(y.v!=null){d=!1,_=""+(h.rawNumbers&&y.t=="n"?y.v:Jn(y,null,h));for(var b=0,w=0;b!==_.length;++b)if((w=_.charCodeAt(b))===i||w===o||w===34||h.forceQuotes){_='"'+_.replace(Hv,'""')+'"';break}_=="ID"&&(_='"ID"')}else y.f!=null&&!y.F?(d=!1,_="="+y.f,_.indexOf(",")>=0&&(_='"'+_.replace(Hv,'""')+'"')):_="";m.push(_)}return h.blankrows===!1&&d?null:m.join(c)}function hm(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=ir(r["!ref"]),o=n.FS!==void 0?n.FS:",",c=o.charCodeAt(0),h=n.RS!==void 0?n.RS:`
`,d=h.charCodeAt(0),m=new RegExp((o=="|"?"\\|":o)+"+$"),_="",v=[];n.dense=Array.isArray(r);for(var x=n.skipHidden&&r["!cols"]||[],y=n.skipHidden&&r["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(x[b]||{}).hidden||(v[b]=ea(b));for(var w=0,S=i.s.r;S<=i.e.r;++S)(y[S]||{}).hidden||(_=V9(r,i,S,v,c,d,o,n),_!=null&&(n.strip&&(_=_.replace(m,"")),(_||n.blankrows!==!1)&&t.push((w++?h:"")+_)));return delete n.dense,t.join("")}function Ww(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=hm(r,e);return t}function W9(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=ir(r["!ref"]),o="",c=[],h,d=[],m=Array.isArray(r);for(h=i.s.c;h<=i.e.c;++h)c[h]=ea(h);for(var _=i.s.r;_<=i.e.r;++_)for(o=Kr(_),h=i.s.c;h<=i.e.c;++h)if(e=c[h]+o,t=m?(r[_]||[])[h]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}d[d.length]=e+"="+n}return d}function Yw(r,e,t){var n=t||{},i=+!n.skipHeader,o=r||{},c=0,h=0;if(o&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var d=typeof n.origin=="string"?Ir(n.origin):n.origin;c=d.r,h=d.c}var m,_={s:{c:0,r:0},e:{c:h,r:c+e.length-1+i}};if(o["!ref"]){var v=ir(o["!ref"]);_.e.c=Math.max(_.e.c,v.e.c),_.e.r=Math.max(_.e.r,v.e.r),c==-1&&(c=v.e.r+1,_.e.r=c+e.length-1+i)}else c==-1&&(c=0,_.e.r=e.length-1+i);var x=n.header||[],y=0;e.forEach(function(w,S){Jr(w).forEach(function(j){(y=x.indexOf(j))==-1&&(x[y=x.length]=j);var E=w[j],N="z",B="",X=Gt({c:h+y,r:c+S+i});m=Xo(o,X),E&&typeof E=="object"&&!(E instanceof Date)?o[X]=E:(typeof E=="number"?N="n":typeof E=="boolean"?N="b":typeof E=="string"?N="s":E instanceof Date?(N="d",n.cellDates||(N="n",E=_a(E)),B=n.dateNF||xr[14]):E===null&&n.nullError&&(N="e",E=0),m?(m.t=N,m.v=E,delete m.w,delete m.R,B&&(m.z=B)):o[X]=m={t:N,v:E},B&&(m.z=B))})}),_.e.c=Math.max(_.e.c,h+x.length-1);var b=Kr(c);if(i)for(y=0;y<x.length;++y)o[ea(y+h)+b]={t:"s",v:x[y]};return o["!ref"]=Or(_),o}function Y9(r,e){return Yw(null,r,e)}function Xo(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Ir(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Xo(r,Gt(e)):Xo(r,Gt({r:e,c:t||0}))}function X9(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function K9(){return{SheetNames:[],Sheets:{}}}function J9(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var c=o&&o[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=c+i)!=-1;++i);}if(Pw(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function Q9(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=X9(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function Z9(r,e){return r.z=e,r}function Xw(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function eI(r,e,t){return Xw(r,"#"+e,t)}function tI(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function rI(r,e,t,n){for(var i=typeof e!="string"?e:ir(e),o=typeof e=="string"?e:Or(e),c=i.s.r;c<=i.e.r;++c)for(var h=i.s.c;h<=i.e.c;++h){var d=Xo(r,c,h);d.t="n",d.F=o,delete d.v,c==i.s.r&&h==i.s.c&&(d.f=t,n&&(d.D=!0))}return r}var ti={encode_col:ea,encode_row:Kr,encode_cell:Gt,encode_range:Or,decode_col:tm,decode_row:em,split_cell:vB,decode_cell:Ir,decode_range:Ma,format_cell:Jn,sheet_add_aoa:Xx,sheet_add_json:Yw,sheet_add_dom:zw,aoa_to_sheet:Cl,json_to_sheet:Y9,table_to_sheet:$w,table_to_book:C9,sheet_to_csv:hm,sheet_to_txt:Ww,sheet_to_json:rf,sheet_to_html:Hw,sheet_to_formulae:W9,sheet_to_row_object_array:rf,sheet_get_cell:Xo,book_new:K9,book_append_sheet:J9,book_set_sheet_visibility:Q9,cell_set_number_format:Z9,cell_set_hyperlink:Xw,cell_set_internal_link:eI,cell_add_comment:tI,sheet_set_array_formula:rI,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};async function aI(r,e){const[t,n]=await Promise.all([Xn(r),Ho(r)]),i=ti.book_new(),o=t.map(j=>({Date:j.date,Duration:`${Math.floor(j.duration/60)}:${String(j.duration%60).padStart(2,"0")}`,Exercises:j.workout_exercises?.length||0,"Total Sets":j.workout_exercises?.reduce((E,N)=>E+(N.workout_sets?.length||0),0)||0})),c=ti.json_to_sheet(o);ti.book_append_sheet(i,c,"Workout Summary");const h=[];t.forEach(j=>{j.workout_exercises?.forEach(E=>{E.workout_sets?.forEach(N=>{h.push({Date:j.date,Exercise:E.exercise_name,Category:E.category,"Body Part":E.body_part,Set:N.set_number,Weight:N.weight||"",Reps:N.reps||"",Time:N.time||"",Speed:N.speed||"",Incline:N.incline||""})})})});const d=ti.json_to_sheet(h);ti.book_append_sheet(i,d,"Exercise Details");const m=n.map(j=>({Date:j.date,Weight:j.weight||"","Sleep Score":j.sleep_score||"","Sleep Time":j.sleep_time||"",HRV:j.hrv||"",Steps:j.steps||"",Calories:j.calories||""})),_=ti.json_to_sheet(m);ti.book_append_sheet(i,_,"Daily Metrics");const v=Vw(i,{bookType:"xlsx",type:"array"}),x=new Blob([v],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),y=URL.createObjectURL(x),b=document.createElement("a");b.href=y,b.download=`HonestFitness_Export_${new Date().toISOString().split("T")[0]}.xlsx`,b.click(),URL.revokeObjectURL(y);const w=encodeURIComponent("My HonestFitness Workout Data"),S=encodeURIComponent(`Here's my workout data export from HonestFitness!

Total Workouts: ${t.length}
Date Range: ${t.length>0?`${t[t.length-1]?.date} to ${t[0]?.date}`:"N/A"}

Please attach the downloaded Excel file to this email.`);return window.location.href=`mailto:${e}?subject=${w}&body=${S}`,{workouts:t.length,metrics:n.length}}const nI="_container_1rnn4_1",sI="_header_1rnn4_19",iI="_backBtn_1rnn4_33",lI="_content_1rnn4_73",oI="_userInfo_1rnn4_89",cI="_userEmail_1rnn4_103",uI="_section_1rnn4_115",fI="_sectionTitle_1rnn4_127",hI="_actionBtn_1rnn4_141",dI="_logoutBtn_1rnn4_193",mI="_loading_1rnn4_235",pI="_emptyState_1rnn4_249",gI="_emptyText_1rnn4_265",_I="_accountsList_1rnn4_275",vI="_accountItem_1rnn4_287",yI="_accountInfo_1rnn4_309",xI="_accountProvider_1rnn4_323",wI="_accountStatus_1rnn4_335",SI="_disconnectBtn_1rnn4_345",fr={container:nI,header:sI,backBtn:iI,content:lI,userInfo:oI,userEmail:cI,section:uI,sectionTitle:fI,actionBtn:hI,logoutBtn:dI,loading:mI,emptyState:pI,emptyText:gI,accountsList:_I,accountItem:vI,accountInfo:yI,accountProvider:xI,accountStatus:wI,disconnectBtn:SI};function zv(){const r=tn(),{user:e,signOut:t}=La(),[n,i]=q.useState(!1),[o,c]=q.useState([]),[h,d]=q.useState(!0);q.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e)try{const y=await ec(e.id);c(y||[])}catch{}finally{d(!1)}},_=async y=>{if(e&&confirm(`Disconnect ${y}? This will stop syncing data from this account.`))try{await P0(e.id,y),await m(),alert(`${y} disconnected successfully`)}catch{alert(`Failed to disconnect ${y}. Please try again.`)}},v=async()=>{if(e){i(!0);try{const y=await aI(e.id,e.email);alert(`Exported ${y.workouts} workouts and ${y.metrics} daily metrics!

The Excel file has been downloaded. Attach it to the email that just opened.`)}catch{alert("Failed to export data. Please try again.")}i(!1)}},x=async()=>{await t(),r("/auth")};return f.jsxs("div",{className:fr.container,children:[f.jsxs("div",{className:fr.header,children:[f.jsx("button",{className:fr.backBtn,onClick:()=>r("/"),children:" Back"}),f.jsx("h1",{children:"Profile"})]}),f.jsxs("div",{className:fr.content,children:[e&&f.jsx("div",{className:fr.userInfo,children:f.jsx("div",{className:fr.userEmail,children:e.email})}),f.jsxs("div",{className:fr.section,children:[f.jsx("h2",{className:fr.sectionTitle,children:"Data"}),f.jsx("button",{className:fr.actionBtn,onClick:v,disabled:n,children:n?"Exporting...":"Export All Data"})]}),f.jsxs("div",{className:fr.section,children:[f.jsx("h2",{className:fr.sectionTitle,children:"Connected Accounts"}),h?f.jsx("div",{className:fr.loading,children:"Loading..."}):o.length===0?f.jsxs("div",{className:fr.emptyState,children:[f.jsx("p",{className:fr.emptyText,children:"No accounts connected"}),f.jsx("button",{className:fr.actionBtn,onClick:()=>r("/wearables"),children:"Connect Account"})]}):f.jsxs("div",{className:fr.accountsList,children:[o.map(y=>f.jsxs("div",{className:fr.accountItem,children:[f.jsxs("div",{className:fr.accountInfo,children:[f.jsx("span",{className:fr.accountProvider,children:y.provider.charAt(0).toUpperCase()+y.provider.slice(1)}),f.jsx("span",{className:fr.accountStatus,children:"Connected"})]}),f.jsx("button",{className:fr.disconnectBtn,onClick:()=>_(y.provider),children:"Disconnect"})]},y.id)),f.jsx("button",{className:fr.actionBtn,onClick:()=>r("/wearables"),style:{marginTop:"12px"},children:"Manage Wearables"})]})]}),f.jsx("div",{className:fr.section,children:f.jsx("button",{className:fr.logoutBtn,onClick:x,children:"Sign Out"})})]})]})}async function bI(r,e=null){const t=e||Dt();try{const n=await G0(r,t);if(!n)return{factor:1,zone:"unknown",message:"No readiness data available"};const i=n.score||0,o=n.zone||"green";let c=1,h="Full intensity";return o==="red"||i<50?(c=.7,h="Reduced intensity (70%) - Low readiness"):o==="yellow"||i<70?(c=.85,h="Moderate intensity (85%) - Moderate readiness"):(c=1,h="Full intensity (100%) - High readiness"),{factor:c,zone:o,score:i,message:h}}catch(n){return console.error("Error getting auto-adjustment:",n),{factor:1,zone:"unknown",message:"Error calculating adjustment"}}}function TI(r,e){return e===1?r:r.map(t=>({...t,sets:t.sets.map(n=>{const i=n.weight&&n.weight!=="";return{...n,suggestedWeight:i?null:e,weight:n.weight}})}))}const EI="_card_1mgxu_1",AI="_dragHandle_1mgxu_31",CI="_dragging_1mgxu_77",NI="_expanded_1mgxu_85",kI="_completed_1mgxu_93",jI="_header_1mgxu_103",OI="_name_1mgxu_143",DI="_summary_1mgxu_157",RI="_content_1mgxu_167",BI="_controls_1mgxu_175",MI="_setControls_1mgxu_193",LI="_moveControls_1mgxu_241",PI="_removeBtn_1mgxu_277",FI="_sets_1mgxu_285",II="_setRow_1mgxu_297",UI="_activeSet_1mgxu_317",HI="_completedSet_1mgxu_329",zI="_setNumber_1mgxu_337",$I="_inputGroup_1mgxu_355",qI="_input_1mgxu_355",GI="_nextBtn_1mgxu_385",Mt={card:EI,dragHandle:AI,dragging:CI,expanded:NI,completed:kI,header:jI,name:OI,summary:DI,content:RI,controls:BI,setControls:MI,moveControls:LI,removeBtn:PI,sets:FI,setRow:II,activeSet:UI,completedSet:HI,setNumber:zI,inputGroup:$I,input:qI,nextBtn:GI};function VI({exercise:r,index:e,total:t,onToggle:n,onUpdateSet:i,onAddSet:o,onRemoveSet:c,onRemove:h,onMove:d,onStartRest:m,onComplete:_,isDragging:v,onDragStart:x,onDragOver:y,onDragEnter:b,onDragEnd:w,onDrop:S}){const[j,E]=q.useState(0),N=()=>{j<r.sets.length-1?(E(j+1),m()):(_(),m())};return f.jsxs("div",{className:`${Mt.card} ${r.expanded?Mt.expanded:""} ${r.completed?Mt.completed:""} ${v?Mt.dragging:""}`,draggable:!0,onDragStart:B=>{x&&x(B,r.id)},onDragOver:y,onDragEnter:b,onDragEnd:B=>{w&&w(B)},onDrop:S,children:[f.jsx("div",{className:Mt.dragHandle,onMouseDown:B=>{B.stopPropagation()},onTouchStart:B=>{B.stopPropagation()},children:""}),f.jsxs("button",{className:Mt.header,onClick:n,children:[f.jsx("span",{className:Mt.name,children:r.name}),f.jsx("span",{className:Mt.summary,children:r.expanded?"":`${r.sets.length} sets`})]}),r.expanded&&f.jsxs("div",{className:Mt.content,children:[f.jsxs("div",{className:Mt.controls,children:[f.jsxs("div",{className:Mt.setControls,children:[f.jsx("button",{onClick:c,disabled:r.sets.length<=1,children:""}),f.jsxs("span",{children:[r.sets.length," sets"]}),f.jsx("button",{onClick:o,children:"+"})]}),f.jsxs("div",{className:Mt.moveControls,children:[f.jsx("button",{onClick:()=>d("up"),disabled:e===0,children:""}),f.jsx("button",{onClick:()=>d("down"),disabled:e===t-1,children:""}),f.jsx("button",{className:Mt.removeBtn,onClick:h,children:""})]})]}),f.jsx("div",{className:Mt.sets,children:r.sets.map((B,X)=>f.jsxs("div",{className:`${Mt.setRow} ${X===j?Mt.activeSet:""} ${X<j?Mt.completedSet:""}`,children:[f.jsx("span",{className:Mt.setNumber,children:X+1}),r.category==="Cardio"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Mt.inputGroup,children:f.jsx("input",{type:"text",placeholder:"time",value:B.time||"",onChange:Y=>i(X,"time",Y.target.value),className:Mt.input})}),f.jsx("div",{className:Mt.inputGroup,children:f.jsx("input",{type:"number",placeholder:"speed",value:B.speed||"",onChange:Y=>i(X,"speed",Y.target.value),className:Mt.input})}),f.jsx("div",{className:Mt.inputGroup,children:f.jsx("input",{type:"number",placeholder:"incline",value:B.incline||"",onChange:Y=>i(X,"incline",Y.target.value),className:Mt.input})})]}):r.category==="Recovery"?f.jsx("div",{className:Mt.inputGroup,style:{flex:2},children:f.jsx("input",{type:"text",placeholder:"time (e.g. 15 min)",value:B.time||"",onChange:Y=>i(X,"time",Y.target.value),className:Mt.input})}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Mt.inputGroup,children:f.jsx("input",{type:"number",placeholder:"lbs",value:B.weight,onChange:Y=>i(X,"weight",Y.target.value),className:Mt.input})}),f.jsx("div",{className:Mt.inputGroup,children:f.jsx("input",{type:"number",placeholder:"reps",value:B.reps,onChange:Y=>i(X,"reps",Y.target.value),className:Mt.input})})]}),X===j&&f.jsx("button",{className:Mt.nextBtn,onClick:N,children:X===r.sets.length-1?"Complete":"Next"})]},X))})]})]})}const WI="_container_11ygc_1",YI="_timesUpOverlay_11ygc_21",XI="_flashIn_11ygc_1",KI="_timesUpText_11ygc_43",JI="_header_11ygc_83",QI="_headerTop_11ygc_101",ZI="_cancelBtn_11ygc_115",eU="_workoutTimer_11ygc_127",tU="_finishBtn_11ygc_141",rU="_restBar_11ygc_155",aU="_adjustmentBanner_11ygc_195",nU="_adjustmentred_11ygc_211",sU="_adjustmentyellow_11ygc_221",iU="_adjustmentgreen_11ygc_231",lU="_content_11ygc_241",oU="_addExerciseBtn_11ygc_261",cU="_summaryOverlay_11ygc_295",uU="_summaryModal_11ygc_319",fU="_summaryDuration_11ygc_353",hU="_feedbackSection_11ygc_369",dU="_rpeSlider_11ygc_393",mU="_rpeBtn_11ygc_403",pU="_rpeActive_11ygc_423",gU="_rpeLabels_11ygc_435",_U="_moodButtons_11ygc_451",vU="_moodBtn_11ygc_461",yU="_moodActive_11ygc_483",xU="_notesInput_11ygc_495",wU="_saveBtn_11ygc_531",Ht={container:WI,timesUpOverlay:YI,flashIn:XI,timesUpText:KI,header:JI,headerTop:QI,cancelBtn:ZI,workoutTimer:eU,finishBtn:tU,restBar:rU,adjustmentBanner:aU,adjustmentred:nU,adjustmentyellow:sU,adjustmentgreen:iU,content:lU,addExerciseBtn:oU,summaryOverlay:cU,summaryModal:uU,summaryDuration:fU,feedbackSection:hU,rpeSlider:dU,rpeBtn:mU,rpeActive:pU,rpeLabels:gU,moodButtons:_U,moodBtn:vU,moodActive:yU,notesInput:xU,saveBtn:wU};function SU(){const r=tn(),e=Qo(),{user:t}=La(),n=e.state?.templateId,i=e.state?.randomWorkout,o=e.state?.aiWorkout,[c,h]=q.useState([]),[d,m]=q.useState([]),[_,v]=q.useState(!1),[x,y]=q.useState(0),[b,w]=q.useState(0),[S,j]=q.useState(!1),[E,N]=q.useState(null),[B,X]=q.useState(!1),[Y,R]=q.useState({rpe:7,moodAfter:3,notes:""}),[J,Z]=q.useState(!1),[fe,ge]=q.useState(null),H=q.useRef(null),Ee=q.useRef(null),Ve=q.useRef(null),Te=q.useRef(null),W=q.useRef(0);q.useEffect(()=>{async function ne(){const We=await nx();if(m(We),n){const Me=await Q3(n);if(Me){const ze=Me.exercises.map((rt,Rt)=>{const ut=We.find(Et=>Et.name===rt),Ct=ut?.category==="Cardio",Qt=ut?.category==="Recovery",hr=Ct||Qt?1:4;return{id:Rt,name:rt,category:ut?.category||"Strength",bodyPart:ut?.bodyPart||"Other",equipment:ut?.equipment||"",sets:Array(hr).fill(null).map(()=>({weight:"",reps:"",time:"",speed:"",incline:""})),expanded:Rt===0}});if(t)try{const rt=await bI(t.id);if(ge(rt),rt.factor<1){const Rt=TI(ze,rt.factor);h(Rt)}else h(ze)}catch{h(ze)}else h(ze)}}else if(i){const Me=We.filter(Ct=>Ct.category==="Strength"),ze=We.filter(Ct=>Ct.category==="Cardio"),Rt=[...new Set(Me.map(Ct=>Ct.bodyPart))].sort(()=>Math.random()-.5).slice(0,5),ut=[];if(Rt.forEach((Ct,Qt)=>{const hr=Me.filter(Et=>Et.bodyPart===Ct);if(hr.length>0){const Et=hr[Math.floor(Math.random()*hr.length)];ut.push({id:Qt,name:Et.name,category:Et.category,bodyPart:Et.bodyPart,equipment:Et.equipment,sets:Array(4).fill(null).map(()=>({weight:"",reps:"",time:"",speed:"",incline:""})),expanded:Qt===0})}}),ze.length>0){const Ct=ze[Math.floor(Math.random()*ze.length)];ut.push({id:ut.length,name:Ct.name,category:Ct.category,bodyPart:Ct.bodyPart,equipment:Ct.equipment,sets:[{weight:"",reps:"",time:"",speed:"",incline:""}],expanded:!1})}h(ut)}else if(o){const Me=o.exercises.map((ze,rt)=>({id:rt,name:ze.name,category:"Strength",bodyPart:ze.bodyPart||"Other",equipment:"",sets:Array(ze.sets||3).fill(null).map(()=>({weight:"",reps:ze.reps?.toString()||"",time:"",speed:"",incline:""})),expanded:rt===0}));h(Me)}}ne(),localStorage.removeItem("workoutStartTime"),Ve.current=Date.now(),localStorage.setItem("workoutStartTime",Ve.current.toString()),y(0);const _e=localStorage.getItem("restStartTime"),te=localStorage.getItem("restDuration");if(_e&&te){Te.current=parseInt(_e),W.current=parseInt(te);const We=Math.floor((Date.now()-Te.current)/1e3),Me=Math.max(0,W.current-We);Me>0?(w(Me),j(!0),Ee.current=setInterval(()=>{if(Te.current){const ze=Math.floor((Date.now()-Te.current)/1e3),rt=Math.max(0,W.current-ze);w(rt),rt<=0&&(clearInterval(Ee.current),j(!1),Z(!0),setTimeout(()=>Z(!1),2e3),localStorage.removeItem("restStartTime"),localStorage.removeItem("restDuration"))}},1e3)):(localStorage.removeItem("restStartTime"),localStorage.removeItem("restDuration"))}H.current=setInterval(()=>{if(Ve.current){const We=Math.floor((Date.now()-Ve.current)/1e3);y(We)}},1e3);const Xe=()=>{if(!document.hidden){if(Ve.current){const We=Math.floor((Date.now()-Ve.current)/1e3);y(We)}if(Te.current&&W.current){const We=Math.floor((Date.now()-Te.current)/1e3),Me=Math.max(0,W.current-We);w(Me),Me<=0&&S&&(j(!1),Z(!0),setTimeout(()=>Z(!1),2e3),localStorage.removeItem("restStartTime"),localStorage.removeItem("restDuration"))}}};return document.addEventListener("visibilitychange",Xe),()=>{clearInterval(H.current),clearInterval(Ee.current),document.removeEventListener("visibilitychange",Xe)}},[n,i]);const xe=ne=>{const _e=Math.floor(ne/60),te=ne%60;return`${_e}:${te.toString().padStart(2,"0")}`},Ie=(ne=90)=>{W.current=ne,Te.current=Date.now(),localStorage.setItem("restStartTime",Te.current.toString()),localStorage.setItem("restDuration",ne.toString()),w(ne),j(!0),clearInterval(Ee.current),Ee.current=setInterval(()=>{if(Te.current){const _e=Math.floor((Date.now()-Te.current)/1e3),te=Math.max(0,W.current-_e);w(te),te<=0&&(clearInterval(Ee.current),j(!1),Z(!0),setTimeout(()=>Z(!1),2e3),localStorage.removeItem("restStartTime"),localStorage.removeItem("restDuration"))}},1e3)},ee=()=>{clearInterval(Ee.current),j(!1),w(0),localStorage.removeItem("restStartTime"),localStorage.removeItem("restDuration")},je=ne=>{h(_e=>_e.map(te=>te.id===ne?{...te,expanded:!te.expanded}:{...te,expanded:!1}))},I=(ne,_e,te,Xe)=>{h(We=>We.map(Me=>{if(Me.id!==ne)return Me;const ze=[...Me.sets];return ze[_e]={...ze[_e],[te]:Xe},{...Me,sets:ze}}))},C=ne=>{h(_e=>_e.map(te=>{if(te.id!==ne)return te;const Xe=te.sets[te.sets.length-1]||{weight:"",reps:""};return{...te,sets:[...te.sets,{weight:Xe.weight,reps:Xe.reps,duration:0}]}}))},P=ne=>{h(_e=>_e.map(te=>te.id!==ne||te.sets.length<=1?te:{...te,sets:te.sets.slice(0,-1)}))},U=ne=>{const _e=ne.category==="Cardio",te=ne.category==="Recovery",Xe=_e||te?1:4,We={id:Date.now(),name:ne.name,category:ne.category,bodyPart:ne.bodyPart,sets:Array(Xe).fill(null).map(()=>({weight:"",reps:"",time:"",speed:"",incline:""})),expanded:!0};h(Me=>[...Me.map(ze=>({...ze,expanded:!1})),We]),v(!1)},G=ne=>{h(_e=>_e.filter(te=>te.id!==ne))},ie=(ne,_e)=>{h(te=>{const Xe=te.findIndex(ze=>ze.id===ne);if(Xe===-1||_e==="up"&&Xe===0||_e==="down"&&Xe===te.length-1)return te;const We=[...te],Me=_e==="up"?Xe-1:Xe+1;return[We[Xe],We[Me]]=[We[Me],We[Xe]],We})},ve=ne=>{h(_e=>{const te=_e.findIndex(We=>We.id===ne);return _e.map((We,Me)=>({...We,completed:We.id===ne?!0:We.completed,expanded:Me===te+1}))})},Le=(ne,_e)=>{N(_e),ne.dataTransfer&&(ne.dataTransfer.effectAllowed="move",ne.dataTransfer.setData("text/html",_e.toString()));const te=ne.target.closest('[class*="card"]')||ne.target;te&&(te.style.opacity="0.5")},Ce=(ne,_e)=>{ne.preventDefault(),ne.stopPropagation(),ne.dataTransfer.dropEffect="move",!(E===null||E===_e)&&h(te=>{const Xe=te.findIndex(rt=>rt.id===E),We=te.findIndex(rt=>rt.id===_e);if(Xe===-1||We===-1)return te;const Me=[...te],[ze]=Me.splice(Xe,1);return Me.splice(We,0,ze),Me})},De=ne=>{const _e=ne.target.closest('[class*="card"]')||ne.target;_e&&(_e.style.opacity="1"),N(null)},gt=ne=>{ne.preventDefault(),ne.stopPropagation()},ot=(ne,_e)=>{ne.preventDefault(),ne.stopPropagation(),N(null)},rr=()=>{clearInterval(H.current),clearInterval(Ee.current),X(!0)},he=async()=>{clearInterval(H.current),clearInterval(Ee.current),localStorage.removeItem("workoutStartTime"),localStorage.removeItem("restStartTime"),localStorage.removeItem("restDuration");const ne={date:Dt(),duration:x,templateName:n||"Freestyle",perceivedEffort:Y.rpe,moodAfter:Y.moodAfter,notes:Y.notes,dayOfWeek:new Date().getDay(),exercises:c.map(_e=>({name:_e.name,category:_e.category||"Strength",bodyPart:_e.bodyPart||"Other",equipment:_e.equipment||"",sets:_e.sets.filter(te=>te.weight||te.reps||te.time)})).filter(_e=>_e.sets.length>0)};if(await rA(ne),t)try{await ix(ne,t.id)}catch{}r("/")};return f.jsxs("div",{className:Ht.container,children:[J&&f.jsx("div",{className:Ht.timesUpOverlay,children:f.jsx("span",{className:Ht.timesUpText,children:"Times up, back to work"})}),f.jsxs("header",{className:Ht.header,children:[f.jsxs("div",{className:Ht.headerTop,children:[f.jsx("button",{className:Ht.cancelBtn,onClick:()=>r("/"),children:"Cancel"}),f.jsx("div",{className:Ht.workoutTimer,children:xe(x)}),f.jsx("button",{className:Ht.finishBtn,onClick:rr,children:"Finish"})]}),fe&&fe.factor<1&&f.jsx("div",{className:`${Ht.adjustmentBanner} ${Ht[`adjustment${fe.zone}`]}`,children:f.jsxs("span",{children:["Auto-Adjusted: ",fe.message]})}),S&&f.jsxs("div",{className:Ht.restBar,children:[f.jsxs("span",{children:["Rest: ",xe(b)]}),f.jsx("button",{onClick:ee,children:"Skip"})]})]}),f.jsxs("div",{className:Ht.content,children:[c.map((ne,_e)=>f.jsx(VI,{exercise:ne,index:_e,total:c.length,onToggle:()=>je(ne.id),onUpdateSet:(te,Xe,We)=>I(ne.id,te,Xe,We),onAddSet:()=>C(ne.id),onRemoveSet:()=>P(ne.id),onRemove:()=>G(ne.id),onMove:te=>ie(ne.id,te),onStartRest:Ie,onComplete:()=>ve(ne.id),isDragging:E===ne.id,onDragStart:te=>Le(te,ne.id),onDragOver:te=>Ce(te,ne.id),onDragEnter:gt,onDragEnd:De,onDrop:te=>ot(te,ne.id)},ne.id)),f.jsx("button",{className:Ht.addExerciseBtn,onClick:()=>v(!0),children:"+ Add Exercise"})]}),_&&f.jsx(ux,{exercises:d,onSelect:U,onClose:()=>v(!1)}),B&&f.jsx("div",{className:Ht.summaryOverlay,children:f.jsxs("div",{className:Ht.summaryModal,children:[f.jsx("h2",{children:"Workout Complete!"}),f.jsx("p",{className:Ht.summaryDuration,children:xe(x)}),f.jsxs("div",{className:Ht.feedbackSection,children:[f.jsx("label",{children:"How hard was it? (RPE)"}),f.jsx("div",{className:Ht.rpeSlider,children:[1,2,3,4,5,6,7,8,9,10].map(ne=>f.jsx("button",{className:`${Ht.rpeBtn} ${Y.rpe===ne?Ht.rpeActive:""}`,onClick:()=>R(_e=>({..._e,rpe:ne})),children:ne},ne))}),f.jsxs("div",{className:Ht.rpeLabels,children:[f.jsx("span",{children:"Easy"}),f.jsx("span",{children:"Max Effort"})]})]}),f.jsxs("div",{className:Ht.feedbackSection,children:[f.jsx("label",{children:"How do you feel now?"}),f.jsx("div",{className:Ht.moodButtons,children:[1,2,3,4,5].map(ne=>f.jsx("button",{className:`${Ht.moodBtn} ${Y.moodAfter===ne?Ht.moodActive:""}`,onClick:()=>R(_e=>({..._e,moodAfter:ne})),children:ne},ne))}),f.jsxs("div",{className:Ht.rpeLabels,children:[f.jsx("span",{children:"Exhausted"}),f.jsx("span",{children:"Energized"})]})]}),f.jsxs("div",{className:Ht.feedbackSection,children:[f.jsx("label",{children:"Notes (optional)"}),f.jsx("textarea",{className:Ht.notesInput,placeholder:"How did it go? Any PRs?",value:Y.notes,onChange:ne=>R(_e=>({..._e,notes:ne.target.value}))})]}),f.jsx("button",{className:Ht.saveBtn,onClick:he,children:"Save Workout"})]})})]})}const bU="_container_1jry6_1",TU="_card_1jry6_25",EU="_title_1jry6_43",AU="_subtitle_1jry6_57",CU="_form_1jry6_71",NU="_inputGroup_1jry6_83",kU="_error_1jry6_133",jU="_message_1jry6_151",OU="_submitBtn_1jry6_169",DU="_toggle_1jry6_207",Qa={container:bU,card:TU,title:EU,subtitle:AU,form:CU,inputGroup:NU,error:kU,message:jU,submitBtn:OU,toggle:DU};function RU(){const r=tn(),{signIn:e,signUp:t}=La(),[n,i]=q.useState(!1),[o,c]=q.useState(""),[h,d]=q.useState(""),[m,_]=q.useState(""),[v,x]=q.useState(""),[y,b]=q.useState(!1),[w,S]=q.useState(""),j=async E=>{if(E.preventDefault(),x(""),S(""),n&&h!==m){x("Passwords do not match");return}if(h.length<6){x("Password must be at least 6 characters");return}b(!0);try{n?(await t(o,h),S("Check your email to confirm your account!")):(await e(o,h),r("/"))}catch(N){x(N.message)}finally{b(!1)}};return f.jsx("div",{className:Qa.container,children:f.jsxs("div",{className:Qa.card,children:[f.jsx("h1",{className:Qa.title,children:"HonestFitness"}),f.jsx("p",{className:Qa.subtitle,children:n?"Create your account":"Welcome back"}),f.jsxs("form",{onSubmit:j,className:Qa.form,children:[f.jsxs("div",{className:Qa.inputGroup,children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",value:o,onChange:E=>c(E.target.value),placeholder:"you@example.com",required:!0})]}),f.jsxs("div",{className:Qa.inputGroup,children:[f.jsx("label",{children:"Password"}),f.jsx("input",{type:"password",value:h,onChange:E=>d(E.target.value),placeholder:"",required:!0})]}),n&&f.jsxs("div",{className:Qa.inputGroup,children:[f.jsx("label",{children:"Confirm Password"}),f.jsx("input",{type:"password",value:m,onChange:E=>_(E.target.value),placeholder:"",required:!0})]}),v&&f.jsx("p",{className:Qa.error,children:v}),w&&f.jsx("p",{className:Qa.message,children:w}),f.jsx("button",{type:"submit",className:Qa.submitBtn,disabled:y,children:y?"Loading...":n?"Sign Up":"Sign In"})]}),f.jsxs("p",{className:Qa.toggle,children:[n?"Already have an account?":"Don't have an account?"," ",f.jsx("button",{onClick:()=>{i(!n),x(""),S("")},children:n?"Sign In":"Sign Up"})]})]})})}const Kw=typeof window<"u"?`${window.location.origin}/api/fitbit/callback`:"";typeof window<"u"&&(console.log("[Fitbit Auth] Client ID:","NOT SET"),console.log("[Fitbit Auth] Redirect URI:",Kw));function BU(r){console.log("connectFitbit called with userId:",r),console.log("FITBIT_CLIENT_ID:","NOT SET"),console.log("FITBIT_REDIRECT_URI:",Kw);{const e="Fitbit Client ID not configured. Set VITE_FITBIT_CLIENT_ID in environment variables.";throw console.error(e),new Error(e)}}const MU="_container_zzygr_1",LU="_header_zzygr_19",PU="_backBtn_zzygr_33",FU="_content_zzygr_77",IU="_loading_zzygr_93",UU="_providerCard_zzygr_107",HU="_providerHeader_zzygr_121",zU="_providerInfo_zzygr_135",$U="_providerDesc_zzygr_161",qU="_connectBtn_zzygr_173",GU="_connectedBadge_zzygr_213",VU="_accountDetails_zzygr_231",WU="_detailRow_zzygr_247",YU="_statusConnected_zzygr_261",XU="_actions_zzygr_271",KU="_syncBtn_zzygr_297",JU="_disconnectBtn_zzygr_299",QU="_syncStatus_zzygr_369",ZU="_success_zzygr_383",eH="_error_zzygr_395",tH="_syncData_zzygr_407",rH="_infoCard_zzygr_437",aH="_infoList_zzygr_463",nH="_comingSoonCard_zzygr_493",sH="_comingSoonList_zzygr_521",iH="_comingSoonItem_zzygr_533",Lt={container:MU,header:LU,backBtn:PU,content:FU,loading:IU,providerCard:UU,providerHeader:HU,providerInfo:zU,providerDesc:$U,connectBtn:qU,connectedBadge:GU,accountDetails:VU,detailRow:WU,statusConnected:YU,actions:XU,syncBtn:KU,disconnectBtn:JU,syncStatus:QU,success:ZU,error:eH,syncData:tH,infoCard:rH,infoList:aH,comingSoonCard:nH,comingSoonList:sH,comingSoonItem:iH};function lH(){const r=tn(),{user:e}=La(),[t,n]=q.useState([]),[i,o]=q.useState(!0),[c,h]=q.useState(!1),[d,m]=q.useState(null);q.useEffect(()=>{e&&_()},[e]);const _=async()=>{if(e)try{const w=await ec(e.id);n(w||[])}catch{}finally{o(!1)}},v=()=>{if(!e){alert("Please log in to connect Fitbit");return}try{BU(e.id)}catch(w){alert(`Error connecting Fitbit: ${w.message}`)}},x=async w=>{if(e&&confirm(`Disconnect ${w}?`))try{await P0(e.id,w),await _(),alert(`${w} disconnected successfully`)}catch{alert(`Failed to disconnect ${w}. Please try again.`)}},y=async w=>{if(e){h(!0),m(null);try{if(w==="fitbit"){const S=Dt(),j=await oi(e.id,S),{getYesterdayEST:E}=await br(async()=>{const{getYesterdayEST:B}=await Promise.resolve().then(()=>xl);return{getYesterdayEST:B}},void 0),N=E();try{await oi(e.id,N)}catch{}await Uo(e.id,S),m({success:!0,message:`Synced Fitbit data for ${j.date}`,data:j.data}),await _()}}catch(S){m({success:!1,message:S.message||"Failed to sync data. Please check your connection and try again."})}finally{h(!1)}}};q.useEffect(()=>{if(!e)return;const w=new URLSearchParams(window.location.search),S=w.get("fitbit_connected"),j=w.get("fitbit_error");S&&(alert("Fitbit connected successfully!"),_(),setTimeout(async()=>{try{h(!0);const E=Dt(),N=await oi(e.id,E),{getYesterdayEST:B}=await br(async()=>{const{getYesterdayEST:Y}=await Promise.resolve().then(()=>xl);return{getYesterdayEST:Y}},void 0),X=B();try{await oi(e.id,X)}catch{}await Uo(e.id,E),m({success:!0,message:`Synced Fitbit data for ${N.date}`,data:N.data}),h(!1)}catch(E){m({success:!1,message:E.message||"Auto-sync failed. You can sync manually."}),h(!1)}},1e3),window.history.replaceState({},document.title,window.location.pathname)),j&&(alert(`Fitbit connection error: ${decodeURIComponent(j)}`),window.history.replaceState({},document.title,window.location.pathname))},[e]);const b=t.find(w=>w.provider==="fitbit");return i?f.jsx("div",{className:Lt.container,children:f.jsx("div",{className:Lt.loading,children:"Loading..."})}):f.jsxs("div",{className:Lt.container,children:[f.jsxs("div",{className:Lt.header,children:[f.jsx("button",{className:Lt.backBtn,onClick:()=>r("/"),children:" Back"}),f.jsx("h1",{children:"Wearables"}),f.jsx("div",{style:{width:60}})," "]}),f.jsxs("div",{className:Lt.content,children:[f.jsxs("div",{className:Lt.providerCard,children:[f.jsxs("div",{className:Lt.providerHeader,children:[f.jsx("div",{className:Lt.providerInfo,children:f.jsxs("div",{children:[f.jsx("h2",{children:"Fitbit"}),f.jsx("p",{className:Lt.providerDesc,children:"Connect your Fitbit account to sync steps, heart rate, sleep, and activity data"})]})}),b?f.jsx("div",{className:Lt.connectedBadge,children:"Connected"}):f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{padding:"10px",background:"#ffebee",color:"#c62828",borderRadius:"4px",marginBottom:"10px",fontSize:"14px"},children:" Fitbit Client ID not configured. Please set VITE_FITBIT_CLIENT_ID in your environment variables."}),f.jsx("button",{className:Lt.connectBtn,onClick:v,disabled:!0,children:"Sign In with Fitbit"})]})]}),b&&f.jsxs("div",{className:Lt.accountDetails,children:[f.jsxs("div",{className:Lt.detailRow,children:[f.jsx("span",{children:"Status:"}),f.jsx("span",{className:Lt.statusConnected,children:" Connected"})]}),f.jsxs("div",{className:Lt.detailRow,children:[f.jsx("span",{children:"Last Updated:"}),f.jsx("span",{children:b.updated_at?new Date(b.updated_at).toLocaleDateString():"Never"})]}),f.jsxs("div",{className:Lt.actions,children:[f.jsx("button",{className:Lt.syncBtn,onClick:()=>y("fitbit"),disabled:c,children:c?"Syncing...":"Sync Now"}),f.jsx("button",{className:Lt.disconnectBtn,onClick:()=>x("fitbit"),children:"Disconnect"})]}),d&&f.jsxs("div",{className:`${Lt.syncStatus} ${d.success?Lt.success:Lt.error}`,children:[d.message,d.data&&f.jsxs("div",{className:Lt.syncData,children:[d.data.steps&&f.jsxs("span",{children:["Steps: ",d.data.steps]}),d.data.calories&&f.jsxs("span",{children:["Calories: ",d.data.calories]}),d.data.sleep_duration&&f.jsxs("span",{children:["Sleep: ",Math.round(d.data.sleep_duration/60),"h"]})]})]})]})]}),f.jsxs("div",{className:Lt.infoCard,children:[f.jsx("h3",{children:"How It Works"}),f.jsxs("ul",{className:Lt.infoList,children:[f.jsx("li",{children:"Connect your Fitbit account to sync health data"}),f.jsx("li",{children:'Data syncs automatically or manually via "Sync Now"'}),f.jsx("li",{children:"Sleep, heart rate, and activity data improves your Honest Readiness Score"}),f.jsx("li",{children:"All data is stored securely and only you can access it"})]})]}),f.jsxs("div",{className:Lt.comingSoonCard,children:[f.jsx("h3",{children:"More Wearables Coming Soon"}),f.jsxs("div",{className:Lt.comingSoonList,children:[f.jsx("div",{className:Lt.comingSoonItem,children:f.jsx("span",{children:"Oura Ring"})}),f.jsx("div",{className:Lt.comingSoonItem,children:f.jsx("span",{children:"Garmin"})}),f.jsx("div",{className:Lt.comingSoonItem,children:f.jsx("span",{children:"Apple Health"})}),f.jsx("div",{className:Lt.comingSoonItem,children:f.jsx("span",{children:"Whoop"})})]})]})]})]})}function Ca({children:r}){const{user:e,loading:t}=La();return t?f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-primary)",color:"var(--text-secondary)"},children:"Loading..."}):e?r:f.jsx(sT,{to:"/auth",replace:!0})}function oH(){const{user:r}=La();return q.useEffect(()=>{if(r)return P3(r.id)},[r]),f.jsxs(lT,{children:[f.jsx(sa,{path:"/auth",element:f.jsx(RU,{})}),f.jsx(sa,{path:"/",element:f.jsx(Ca,{children:f.jsx(SA,{})})}),f.jsx(sa,{path:"/fitness",element:f.jsx(Ca,{children:f.jsx(Q_,{})})}),f.jsx(sa,{path:"/workout",element:f.jsx(Ca,{children:f.jsx(Q_,{})})}),f.jsx(sa,{path:"/workout/active",element:f.jsx(Ca,{children:f.jsx(SU,{})})}),f.jsx(sa,{path:"/nutrition",element:f.jsx(Ca,{children:f.jsx(Z_,{})})}),f.jsx(sa,{path:"/health",element:f.jsx(Ca,{children:f.jsx(rO,{})})}),f.jsx(sa,{path:"/calendar",element:f.jsx(Ca,{children:f.jsx(KO,{})})}),f.jsx(sa,{path:"/analytics",element:f.jsx(Ca,{children:f.jsx(b5,{})})}),f.jsx(sa,{path:"/goals",element:f.jsx(Ca,{children:f.jsx(p8,{})})}),f.jsx(sa,{path:"/profile",element:f.jsx(Ca,{children:f.jsx(zv,{})})}),f.jsx(sa,{path:"/wearables",element:f.jsx(Ca,{children:f.jsx(lH,{})})}),f.jsx(sa,{path:"/ghost-mode",element:f.jsx(Ca,{children:f.jsx(Z_,{})})}),f.jsx(sa,{path:"/account",element:f.jsx(Ca,{children:f.jsx(zv,{})})})]})}pb.createRoot(document.getElementById("root")).render(f.jsx(T0.StrictMode,{children:f.jsx(G_,{children:f.jsx(uT,{children:f.jsx(R3,{children:f.jsx(G_,{children:f.jsx(oH,{})})})})})}));
